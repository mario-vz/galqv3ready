var Lw=Object.defineProperty;var zw=(e,t,r)=>t in e?Lw(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var F=(e,t,r)=>zw(e,typeof t!="symbol"?t+"":t,r);(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}})();var ge=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vt(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Fw(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var r=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};r.prototype=t.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(r,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),r}var Ug={exports:{}},vl={},Wg={exports:{}},J={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pi=Symbol.for("react.element"),Uw=Symbol.for("react.portal"),Ww=Symbol.for("react.fragment"),Hw=Symbol.for("react.strict_mode"),Bw=Symbol.for("react.profiler"),qw=Symbol.for("react.provider"),Vw=Symbol.for("react.context"),Gw=Symbol.for("react.forward_ref"),Yw=Symbol.for("react.suspense"),Kw=Symbol.for("react.memo"),Xw=Symbol.for("react.lazy"),Dh=Symbol.iterator;function Qw(e){return e===null||typeof e!="object"?null:(e=Dh&&e[Dh]||e["@@iterator"],typeof e=="function"?e:null)}var Hg={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Bg=Object.assign,qg={};function As(e,t,r){this.props=e,this.context=t,this.refs=qg,this.updater=r||Hg}As.prototype.isReactComponent={};As.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};As.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Vg(){}Vg.prototype=As.prototype;function kd(e,t,r){this.props=e,this.context=t,this.refs=qg,this.updater=r||Hg}var Ed=kd.prototype=new Vg;Ed.constructor=kd;Bg(Ed,As.prototype);Ed.isPureReactComponent=!0;var Oh=Array.isArray,Gg=Object.prototype.hasOwnProperty,Cd={current:null},Yg={key:!0,ref:!0,__self:!0,__source:!0};function Kg(e,t,r){var n,s={},a=null,i=null;if(t!=null)for(n in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(a=""+t.key),t)Gg.call(t,n)&&!Yg.hasOwnProperty(n)&&(s[n]=t[n]);var l=arguments.length-2;if(l===1)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(n in l=e.defaultProps,l)s[n]===void 0&&(s[n]=l[n]);return{$$typeof:pi,type:e,key:a,ref:i,props:s,_owner:Cd.current}}function Jw(e,t){return{$$typeof:pi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Td(e){return typeof e=="object"&&e!==null&&e.$$typeof===pi}function Zw(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(r){return t[r]})}var $h=/\/+/g;function uc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?Zw(""+e.key):t.toString(36)}function ho(e,t,r,n,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(a){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case pi:case Uw:i=!0}}if(i)return i=e,s=s(i),e=n===""?"."+uc(i,0):n,Oh(s)?(r="",e!=null&&(r=e.replace($h,"$&/")+"/"),ho(s,t,r,"",function(u){return u})):s!=null&&(Td(s)&&(s=Jw(s,r+(!s.key||i&&i.key===s.key?"":(""+s.key).replace($h,"$&/")+"/")+e)),t.push(s)),1;if(i=0,n=n===""?".":n+":",Oh(e))for(var l=0;l<e.length;l++){a=e[l];var c=n+uc(a,l);i+=ho(a,t,r,c,s)}else if(c=Qw(e),typeof c=="function")for(e=c.call(e),l=0;!(a=e.next()).done;)a=a.value,c=n+uc(a,l++),i+=ho(a,t,r,c,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function zi(e,t,r){if(e==null)return e;var n=[],s=0;return ho(e,n,"","",function(a){return t.call(r,a,s++)}),n}function eb(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(r){(e._status===0||e._status===-1)&&(e._status=1,e._result=r)},function(r){(e._status===0||e._status===-1)&&(e._status=2,e._result=r)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var st={current:null},mo={transition:null},tb={ReactCurrentDispatcher:st,ReactCurrentBatchConfig:mo,ReactCurrentOwner:Cd};function Xg(){throw Error("act(...) is not supported in production builds of React.")}J.Children={map:zi,forEach:function(e,t,r){zi(e,function(){t.apply(this,arguments)},r)},count:function(e){var t=0;return zi(e,function(){t++}),t},toArray:function(e){return zi(e,function(t){return t})||[]},only:function(e){if(!Td(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};J.Component=As;J.Fragment=Ww;J.Profiler=Bw;J.PureComponent=kd;J.StrictMode=Hw;J.Suspense=Yw;J.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tb;J.act=Xg;J.cloneElement=function(e,t,r){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var n=Bg({},e.props),s=e.key,a=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,i=Cd.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)Gg.call(t,c)&&!Yg.hasOwnProperty(c)&&(n[c]=t[c]===void 0&&l!==void 0?l[c]:t[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];n.children=l}return{$$typeof:pi,type:e.type,key:s,ref:a,props:n,_owner:i}};J.createContext=function(e){return e={$$typeof:Vw,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qw,_context:e},e.Consumer=e};J.createElement=Kg;J.createFactory=function(e){var t=Kg.bind(null,e);return t.type=e,t};J.createRef=function(){return{current:null}};J.forwardRef=function(e){return{$$typeof:Gw,render:e}};J.isValidElement=Td;J.lazy=function(e){return{$$typeof:Xw,_payload:{_status:-1,_result:e},_init:eb}};J.memo=function(e,t){return{$$typeof:Kw,type:e,compare:t===void 0?null:t}};J.startTransition=function(e){var t=mo.transition;mo.transition={};try{e()}finally{mo.transition=t}};J.unstable_act=Xg;J.useCallback=function(e,t){return st.current.useCallback(e,t)};J.useContext=function(e){return st.current.useContext(e)};J.useDebugValue=function(){};J.useDeferredValue=function(e){return st.current.useDeferredValue(e)};J.useEffect=function(e,t){return st.current.useEffect(e,t)};J.useId=function(){return st.current.useId()};J.useImperativeHandle=function(e,t,r){return st.current.useImperativeHandle(e,t,r)};J.useInsertionEffect=function(e,t){return st.current.useInsertionEffect(e,t)};J.useLayoutEffect=function(e,t){return st.current.useLayoutEffect(e,t)};J.useMemo=function(e,t){return st.current.useMemo(e,t)};J.useReducer=function(e,t,r){return st.current.useReducer(e,t,r)};J.useRef=function(e){return st.current.useRef(e)};J.useState=function(e){return st.current.useState(e)};J.useSyncExternalStore=function(e,t,r){return st.current.useSyncExternalStore(e,t,r)};J.useTransition=function(){return st.current.useTransition()};J.version="18.3.1";Wg.exports=J;var E=Wg.exports;const T=vt(E);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rb=E,nb=Symbol.for("react.element"),sb=Symbol.for("react.fragment"),ab=Object.prototype.hasOwnProperty,ib=rb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,ob={key:!0,ref:!0,__self:!0,__source:!0};function Qg(e,t,r){var n,s={},a=null,i=null;r!==void 0&&(a=""+r),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(n in t)ab.call(t,n)&&!ob.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps,t)s[n]===void 0&&(s[n]=t[n]);return{$$typeof:nb,type:e,key:a,ref:i,props:s,_owner:ib.current}}vl.Fragment=sb;vl.jsx=Qg;vl.jsxs=Qg;Ug.exports=vl;var o=Ug.exports,Jg={exports:{}},Nt={},Zg={exports:{}},ev={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(M,D){var z=M.length;M.push(D);e:for(;0<z;){var G=z-1>>>1,Y=M[G];if(0<s(Y,D))M[G]=D,M[z]=Y,z=G;else break e}}function r(M){return M.length===0?null:M[0]}function n(M){if(M.length===0)return null;var D=M[0],z=M.pop();if(z!==D){M[0]=z;e:for(var G=0,Y=M.length,X=Y>>>1;G<X;){var I=2*(G+1)-1,ee=M[I],Se=I+1,Ze=M[Se];if(0>s(ee,z))Se<Y&&0>s(Ze,ee)?(M[G]=Ze,M[Se]=z,G=Se):(M[G]=ee,M[I]=z,G=I);else if(Se<Y&&0>s(Ze,z))M[G]=Ze,M[Se]=z,G=Se;else break e}}return D}function s(M,D){var z=M.sortIndex-D.sortIndex;return z!==0?z:M.id-D.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var i=Date,l=i.now();e.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,f=null,h=3,p=!1,v=!1,m=!1,w=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(M){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=M)n(u),D.sortIndex=D.expirationTime,t(c,D);else break;D=r(u)}}function b(M){if(m=!1,y(M),!v)if(r(c)!==null)v=!0,W(j);else{var D=r(u);D!==null&&q(b,D.startTime-M)}}function j(M,D){v=!1,m&&(m=!1,x(_),_=-1),p=!0;var z=h;try{for(y(D),f=r(c);f!==null&&(!(f.expirationTime>D)||M&&!O());){var G=f.callback;if(typeof G=="function"){f.callback=null,h=f.priorityLevel;var Y=G(f.expirationTime<=D);D=e.unstable_now(),typeof Y=="function"?f.callback=Y:f===r(c)&&n(c),y(D)}else n(c);f=r(c)}if(f!==null)var X=!0;else{var I=r(u);I!==null&&q(b,I.startTime-D),X=!1}return X}finally{f=null,h=z,p=!1}}var N=!1,S=null,_=-1,k=5,C=-1;function O(){return!(e.unstable_now()-C<k)}function A(){if(S!==null){var M=e.unstable_now();C=M;var D=!0;try{D=S(!0,M)}finally{D?P():(N=!1,S=null)}}else N=!1}var P;if(typeof g=="function")P=function(){g(A)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,B=$.port2;$.port1.onmessage=A,P=function(){B.postMessage(null)}}else P=function(){w(A,0)};function W(M){S=M,N||(N=!0,P())}function q(M,D){_=w(function(){M(e.unstable_now())},D)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(M){M.callback=null},e.unstable_continueExecution=function(){v||p||(v=!0,W(j))},e.unstable_forceFrameRate=function(M){0>M||125<M?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):k=0<M?Math.floor(1e3/M):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return r(c)},e.unstable_next=function(M){switch(h){case 1:case 2:case 3:var D=3;break;default:D=h}var z=h;h=D;try{return M()}finally{h=z}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(M,D){switch(M){case 1:case 2:case 3:case 4:case 5:break;default:M=3}var z=h;h=M;try{return D()}finally{h=z}},e.unstable_scheduleCallback=function(M,D,z){var G=e.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?G+z:G):z=G,M){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=z+Y,M={id:d++,callback:D,priorityLevel:M,startTime:z,expirationTime:Y,sortIndex:-1},z>G?(M.sortIndex=z,t(u,M),r(c)===null&&M===r(u)&&(m?(x(_),_=-1):m=!0,q(b,z-G))):(M.sortIndex=Y,t(c,M),v||p||(v=!0,W(j))),M},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(M){var D=h;return function(){var z=h;h=D;try{return M.apply(this,arguments)}finally{h=z}}}})(ev);Zg.exports=ev;var lb=Zg.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cb=E,bt=lb;function R(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tv=new Set,$a={};function In(e,t){ys(e,t),ys(e+"Capture",t)}function ys(e,t){for($a[e]=t,e=0;e<t.length;e++)tv.add(t[e])}var xr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ru=Object.prototype.hasOwnProperty,ub=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Mh={},Ah={};function db(e){return ru.call(Ah,e)?!0:ru.call(Mh,e)?!1:ub.test(e)?Ah[e]=!0:(Mh[e]=!0,!1)}function fb(e,t,r,n){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function hb(e,t,r,n){if(t===null||typeof t>"u"||fb(e,t,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function at(e,t,r,n,s,a,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=n,this.attributeNamespace=s,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var He={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){He[e]=new at(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];He[t]=new at(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){He[e]=new at(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){He[e]=new at(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){He[e]=new at(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){He[e]=new at(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){He[e]=new at(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){He[e]=new at(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){He[e]=new at(e,5,!1,e.toLowerCase(),null,!1,!1)});var Pd=/[\-:]([a-z])/g;function Dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Pd,Dd);He[t]=new at(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Pd,Dd);He[t]=new at(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Pd,Dd);He[t]=new at(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){He[e]=new at(e,1,!1,e.toLowerCase(),null,!1,!1)});He.xlinkHref=new at("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){He[e]=new at(e,1,!1,e.toLowerCase(),null,!0,!0)});function Od(e,t,r,n){var s=He.hasOwnProperty(t)?He[t]:null;(s!==null?s.type!==0:n||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(hb(t,r,s,n)&&(r=null),n||s===null?db(t)&&(r===null?e.removeAttribute(t):e.setAttribute(t,""+r)):s.mustUseProperty?e[s.propertyName]=r===null?s.type===3?!1:"":r:(t=s.attributeName,n=s.attributeNamespace,r===null?e.removeAttribute(t):(s=s.type,r=s===3||s===4&&r===!0?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}var kr=cb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Fi=Symbol.for("react.element"),Zn=Symbol.for("react.portal"),es=Symbol.for("react.fragment"),$d=Symbol.for("react.strict_mode"),nu=Symbol.for("react.profiler"),rv=Symbol.for("react.provider"),nv=Symbol.for("react.context"),Md=Symbol.for("react.forward_ref"),su=Symbol.for("react.suspense"),au=Symbol.for("react.suspense_list"),Ad=Symbol.for("react.memo"),Mr=Symbol.for("react.lazy"),sv=Symbol.for("react.offscreen"),Rh=Symbol.iterator;function ea(e){return e===null||typeof e!="object"?null:(e=Rh&&e[Rh]||e["@@iterator"],typeof e=="function"?e:null)}var we=Object.assign,dc;function fa(e){if(dc===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);dc=t&&t[1]||""}return`
`+dc+e}var fc=!1;function hc(e,t){if(!e||fc)return"";fc=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var n=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){n=u}e.call(t.prototype)}else{try{throw Error()}catch(u){n=u}e()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var s=u.stack.split(`
`),a=n.stack.split(`
`),i=s.length-1,l=a.length-1;1<=i&&0<=l&&s[i]!==a[l];)l--;for(;1<=i&&0<=l;i--,l--)if(s[i]!==a[l]){if(i!==1||l!==1)do if(i--,l--,0>l||s[i]!==a[l]){var c=`
`+s[i].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=i&&0<=l);break}}}finally{fc=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?fa(e):""}function mb(e){switch(e.tag){case 5:return fa(e.type);case 16:return fa("Lazy");case 13:return fa("Suspense");case 19:return fa("SuspenseList");case 0:case 2:case 15:return e=hc(e.type,!1),e;case 11:return e=hc(e.type.render,!1),e;case 1:return e=hc(e.type,!0),e;default:return""}}function iu(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case es:return"Fragment";case Zn:return"Portal";case nu:return"Profiler";case $d:return"StrictMode";case su:return"Suspense";case au:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case nv:return(e.displayName||"Context")+".Consumer";case rv:return(e._context.displayName||"Context")+".Provider";case Md:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ad:return t=e.displayName||null,t!==null?t:iu(e.type)||"Memo";case Mr:t=e._payload,e=e._init;try{return iu(e(t))}catch{}}return null}function pb(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return iu(t);case 8:return t===$d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Kr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function av(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function gb(e){var t=av(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var s=r.get,a=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,a.call(this,i)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ui(e){e._valueTracker||(e._valueTracker=gb(e))}function iv(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=av(e)?e.checked?"true":"false":e.value),e=n,e!==r?(t.setValue(e),!0):!1}function Do(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ou(e,t){var r=t.checked;return we({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??e._wrapperState.initialChecked})}function Ih(e,t){var r=t.defaultValue==null?"":t.defaultValue,n=t.checked!=null?t.checked:t.defaultChecked;r=Kr(t.value!=null?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function ov(e,t){t=t.checked,t!=null&&Od(e,"checked",t,!1)}function lu(e,t){ov(e,t);var r=Kr(t.value),n=t.type;if(r!=null)n==="number"?(r===0&&e.value===""||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if(n==="submit"||n==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?cu(e,t.type,r):t.hasOwnProperty("defaultValue")&&cu(e,t.type,Kr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Lh(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!(n!=="submit"&&n!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}r=e.name,r!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,r!==""&&(e.name=r)}function cu(e,t,r){(t!=="number"||Do(e.ownerDocument)!==e)&&(r==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var ha=Array.isArray;function ds(e,t,r,n){if(e=e.options,t){t={};for(var s=0;s<r.length;s++)t["$"+r[s]]=!0;for(r=0;r<e.length;r++)s=t.hasOwnProperty("$"+e[r].value),e[r].selected!==s&&(e[r].selected=s),s&&n&&(e[r].defaultSelected=!0)}else{for(r=""+Kr(r),t=null,s=0;s<e.length;s++){if(e[s].value===r){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function uu(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(R(91));return we({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function zh(e,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(R(92));if(ha(r)){if(1<r.length)throw Error(R(93));r=r[0]}t=r}t==null&&(t=""),r=t}e._wrapperState={initialValue:Kr(r)}}function lv(e,t){var r=Kr(t.value),n=Kr(t.defaultValue);r!=null&&(r=""+r,r!==e.value&&(e.value=r),t.defaultValue==null&&e.defaultValue!==r&&(e.defaultValue=r)),n!=null&&(e.defaultValue=""+n)}function Fh(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function cv(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function du(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?cv(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Wi,uv=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,n,s){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Wi=Wi||document.createElement("div"),Wi.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Wi.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ma(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t}var ya={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},vb=["Webkit","ms","Moz","O"];Object.keys(ya).forEach(function(e){vb.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),ya[t]=ya[e]})});function dv(e,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ya.hasOwnProperty(e)&&ya[e]?(""+t).trim():t+"px"}function fv(e,t){e=e.style;for(var r in t)if(t.hasOwnProperty(r)){var n=r.indexOf("--")===0,s=dv(r,t[r],n);r==="float"&&(r="cssFloat"),n?e.setProperty(r,s):e[r]=s}}var yb=we({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fu(e,t){if(t){if(yb[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(R(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(R(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(R(61))}if(t.style!=null&&typeof t.style!="object")throw Error(R(62))}}function hu(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mu=null;function Rd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var pu=null,fs=null,hs=null;function Uh(e){if(e=yi(e)){if(typeof pu!="function")throw Error(R(280));var t=e.stateNode;t&&(t=_l(t),pu(e.stateNode,e.type,t))}}function hv(e){fs?hs?hs.push(e):hs=[e]:fs=e}function mv(){if(fs){var e=fs,t=hs;if(hs=fs=null,Uh(e),t)for(e=0;e<t.length;e++)Uh(t[e])}}function pv(e,t){return e(t)}function gv(){}var mc=!1;function vv(e,t,r){if(mc)return e(t,r);mc=!0;try{return pv(e,t,r)}finally{mc=!1,(fs!==null||hs!==null)&&(gv(),mv())}}function Aa(e,t){var r=e.stateNode;if(r===null)return null;var n=_l(r);if(n===null)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(R(231,t,typeof r));return r}var gu=!1;if(xr)try{var ta={};Object.defineProperty(ta,"passive",{get:function(){gu=!0}}),window.addEventListener("test",ta,ta),window.removeEventListener("test",ta,ta)}catch{gu=!1}function xb(e,t,r,n,s,a,i,l,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(r,u)}catch(d){this.onError(d)}}var xa=!1,Oo=null,$o=!1,vu=null,wb={onError:function(e){xa=!0,Oo=e}};function bb(e,t,r,n,s,a,i,l,c){xa=!1,Oo=null,xb.apply(wb,arguments)}function _b(e,t,r,n,s,a,i,l,c){if(bb.apply(this,arguments),xa){if(xa){var u=Oo;xa=!1,Oo=null}else throw Error(R(198));$o||($o=!0,vu=u)}}function Ln(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(r=t.return),e=t.return;while(e)}return t.tag===3?r:null}function yv(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Wh(e){if(Ln(e)!==e)throw Error(R(188))}function jb(e){var t=e.alternate;if(!t){if(t=Ln(e),t===null)throw Error(R(188));return t!==e?null:e}for(var r=e,n=t;;){var s=r.return;if(s===null)break;var a=s.alternate;if(a===null){if(n=s.return,n!==null){r=n;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===r)return Wh(s),e;if(a===n)return Wh(s),t;a=a.sibling}throw Error(R(188))}if(r.return!==n.return)r=s,n=a;else{for(var i=!1,l=s.child;l;){if(l===r){i=!0,r=s,n=a;break}if(l===n){i=!0,n=s,r=a;break}l=l.sibling}if(!i){for(l=a.child;l;){if(l===r){i=!0,r=a,n=s;break}if(l===n){i=!0,n=a,r=s;break}l=l.sibling}if(!i)throw Error(R(189))}}if(r.alternate!==n)throw Error(R(190))}if(r.tag!==3)throw Error(R(188));return r.stateNode.current===r?e:t}function xv(e){return e=jb(e),e!==null?wv(e):null}function wv(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=wv(e);if(t!==null)return t;e=e.sibling}return null}var bv=bt.unstable_scheduleCallback,Hh=bt.unstable_cancelCallback,Nb=bt.unstable_shouldYield,Sb=bt.unstable_requestPaint,ke=bt.unstable_now,kb=bt.unstable_getCurrentPriorityLevel,Id=bt.unstable_ImmediatePriority,_v=bt.unstable_UserBlockingPriority,Mo=bt.unstable_NormalPriority,Eb=bt.unstable_LowPriority,jv=bt.unstable_IdlePriority,yl=null,ar=null;function Cb(e){if(ar&&typeof ar.onCommitFiberRoot=="function")try{ar.onCommitFiberRoot(yl,e,void 0,(e.current.flags&128)===128)}catch{}}var Ht=Math.clz32?Math.clz32:Db,Tb=Math.log,Pb=Math.LN2;function Db(e){return e>>>=0,e===0?32:31-(Tb(e)/Pb|0)|0}var Hi=64,Bi=4194304;function ma(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Ao(e,t){var r=e.pendingLanes;if(r===0)return 0;var n=0,s=e.suspendedLanes,a=e.pingedLanes,i=r&268435455;if(i!==0){var l=i&~s;l!==0?n=ma(l):(a&=i,a!==0&&(n=ma(a)))}else i=r&~s,i!==0?n=ma(i):a!==0&&(n=ma(a));if(n===0)return 0;if(t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(n&4&&(n|=r&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=n;0<t;)r=31-Ht(t),s=1<<r,n|=e[r],t&=~s;return n}function Ob(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function $b(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-Ht(a),l=1<<i,c=s[i];c===-1?(!(l&r)||l&n)&&(s[i]=Ob(l,t)):c<=t&&(e.expiredLanes|=l),a&=~l}}function yu(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Nv(){var e=Hi;return Hi<<=1,!(Hi&4194240)&&(Hi=64),e}function pc(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function gi(e,t,r){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Ht(t),e[t]=r}function Mb(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var s=31-Ht(r),a=1<<s;t[s]=0,n[s]=-1,e[s]=-1,r&=~a}}function Ld(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-Ht(r),s=1<<n;s&t|e[n]&t&&(e[n]|=t),r&=~s}}var ae=0;function Sv(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var kv,zd,Ev,Cv,Tv,xu=!1,qi=[],Ur=null,Wr=null,Hr=null,Ra=new Map,Ia=new Map,Rr=[],Ab="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Bh(e,t){switch(e){case"focusin":case"focusout":Ur=null;break;case"dragenter":case"dragleave":Wr=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Ra.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ia.delete(t.pointerId)}}function ra(e,t,r,n,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:a,targetContainers:[s]},t!==null&&(t=yi(t),t!==null&&zd(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Rb(e,t,r,n,s){switch(t){case"focusin":return Ur=ra(Ur,e,t,r,n,s),!0;case"dragenter":return Wr=ra(Wr,e,t,r,n,s),!0;case"mouseover":return Hr=ra(Hr,e,t,r,n,s),!0;case"pointerover":var a=s.pointerId;return Ra.set(a,ra(Ra.get(a)||null,e,t,r,n,s)),!0;case"gotpointercapture":return a=s.pointerId,Ia.set(a,ra(Ia.get(a)||null,e,t,r,n,s)),!0}return!1}function Pv(e){var t=vn(e.target);if(t!==null){var r=Ln(t);if(r!==null){if(t=r.tag,t===13){if(t=yv(r),t!==null){e.blockedOn=t,Tv(e.priority,function(){Ev(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function po(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var r=wu(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(r===null){r=e.nativeEvent;var n=new r.constructor(r.type,r);mu=n,r.target.dispatchEvent(n),mu=null}else return t=yi(r),t!==null&&zd(t),e.blockedOn=r,!1;t.shift()}return!0}function qh(e,t,r){po(e)&&r.delete(t)}function Ib(){xu=!1,Ur!==null&&po(Ur)&&(Ur=null),Wr!==null&&po(Wr)&&(Wr=null),Hr!==null&&po(Hr)&&(Hr=null),Ra.forEach(qh),Ia.forEach(qh)}function na(e,t){e.blockedOn===t&&(e.blockedOn=null,xu||(xu=!0,bt.unstable_scheduleCallback(bt.unstable_NormalPriority,Ib)))}function La(e){function t(s){return na(s,e)}if(0<qi.length){na(qi[0],e);for(var r=1;r<qi.length;r++){var n=qi[r];n.blockedOn===e&&(n.blockedOn=null)}}for(Ur!==null&&na(Ur,e),Wr!==null&&na(Wr,e),Hr!==null&&na(Hr,e),Ra.forEach(t),Ia.forEach(t),r=0;r<Rr.length;r++)n=Rr[r],n.blockedOn===e&&(n.blockedOn=null);for(;0<Rr.length&&(r=Rr[0],r.blockedOn===null);)Pv(r),r.blockedOn===null&&Rr.shift()}var ms=kr.ReactCurrentBatchConfig,Ro=!0;function Lb(e,t,r,n){var s=ae,a=ms.transition;ms.transition=null;try{ae=1,Fd(e,t,r,n)}finally{ae=s,ms.transition=a}}function zb(e,t,r,n){var s=ae,a=ms.transition;ms.transition=null;try{ae=4,Fd(e,t,r,n)}finally{ae=s,ms.transition=a}}function Fd(e,t,r,n){if(Ro){var s=wu(e,t,r,n);if(s===null)Sc(e,t,n,Io,r),Bh(e,n);else if(Rb(s,e,t,r,n))n.stopPropagation();else if(Bh(e,n),t&4&&-1<Ab.indexOf(e)){for(;s!==null;){var a=yi(s);if(a!==null&&kv(a),a=wu(e,t,r,n),a===null&&Sc(e,t,n,Io,r),a===s)break;s=a}s!==null&&n.stopPropagation()}else Sc(e,t,n,null,r)}}var Io=null;function wu(e,t,r,n){if(Io=null,e=Rd(n),e=vn(e),e!==null)if(t=Ln(e),t===null)e=null;else if(r=t.tag,r===13){if(e=yv(t),e!==null)return e;e=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Io=e,null}function Dv(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(kb()){case Id:return 1;case _v:return 4;case Mo:case Eb:return 16;case jv:return 536870912;default:return 16}default:return 16}}var zr=null,Ud=null,go=null;function Ov(){if(go)return go;var e,t=Ud,r=t.length,n,s="value"in zr?zr.value:zr.textContent,a=s.length;for(e=0;e<r&&t[e]===s[e];e++);var i=r-e;for(n=1;n<=i&&t[r-n]===s[a-n];n++);return go=s.slice(e,1<n?1-n:void 0)}function vo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vi(){return!0}function Vh(){return!1}function St(e){function t(r,n,s,a,i){this._reactName=r,this._targetInst=s,this.type=n,this.nativeEvent=a,this.target=i,this.currentTarget=null;for(var l in e)e.hasOwnProperty(l)&&(r=e[l],this[l]=r?r(a):a[l]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Vi:Vh,this.isPropagationStopped=Vh,this}return we(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Vi)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Vi)},persist:function(){},isPersistent:Vi}),t}var Rs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wd=St(Rs),vi=we({},Rs,{view:0,detail:0}),Fb=St(vi),gc,vc,sa,xl=we({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sa&&(sa&&e.type==="mousemove"?(gc=e.screenX-sa.screenX,vc=e.screenY-sa.screenY):vc=gc=0,sa=e),gc)},movementY:function(e){return"movementY"in e?e.movementY:vc}}),Gh=St(xl),Ub=we({},xl,{dataTransfer:0}),Wb=St(Ub),Hb=we({},vi,{relatedTarget:0}),yc=St(Hb),Bb=we({},Rs,{animationName:0,elapsedTime:0,pseudoElement:0}),qb=St(Bb),Vb=we({},Rs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Gb=St(Vb),Yb=we({},Rs,{data:0}),Yh=St(Yb),Kb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Qb[e])?!!t[e]:!1}function Hd(){return Jb}var Zb=we({},vi,{key:function(e){if(e.key){var t=Kb[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=vo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Xb[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hd,charCode:function(e){return e.type==="keypress"?vo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?vo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),e1=St(Zb),t1=we({},xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kh=St(t1),r1=we({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hd}),n1=St(r1),s1=we({},Rs,{propertyName:0,elapsedTime:0,pseudoElement:0}),a1=St(s1),i1=we({},xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),o1=St(i1),l1=[9,13,27,32],Bd=xr&&"CompositionEvent"in window,wa=null;xr&&"documentMode"in document&&(wa=document.documentMode);var c1=xr&&"TextEvent"in window&&!wa,$v=xr&&(!Bd||wa&&8<wa&&11>=wa),Xh=" ",Qh=!1;function Mv(e,t){switch(e){case"keyup":return l1.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Av(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ts=!1;function u1(e,t){switch(e){case"compositionend":return Av(t);case"keypress":return t.which!==32?null:(Qh=!0,Xh);case"textInput":return e=t.data,e===Xh&&Qh?null:e;default:return null}}function d1(e,t){if(ts)return e==="compositionend"||!Bd&&Mv(e,t)?(e=Ov(),go=Ud=zr=null,ts=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return $v&&t.locale!=="ko"?null:t.data;default:return null}}var f1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!f1[e.type]:t==="textarea"}function Rv(e,t,r,n){hv(n),t=Lo(t,"onChange"),0<t.length&&(r=new Wd("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var ba=null,za=null;function h1(e){Gv(e,0)}function wl(e){var t=ss(e);if(iv(t))return e}function m1(e,t){if(e==="change")return t}var Iv=!1;if(xr){var xc;if(xr){var wc="oninput"in document;if(!wc){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),wc=typeof Zh.oninput=="function"}xc=wc}else xc=!1;Iv=xc&&(!document.documentMode||9<document.documentMode)}function em(){ba&&(ba.detachEvent("onpropertychange",Lv),za=ba=null)}function Lv(e){if(e.propertyName==="value"&&wl(za)){var t=[];Rv(t,za,e,Rd(e)),vv(h1,t)}}function p1(e,t,r){e==="focusin"?(em(),ba=t,za=r,ba.attachEvent("onpropertychange",Lv)):e==="focusout"&&em()}function g1(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return wl(za)}function v1(e,t){if(e==="click")return wl(t)}function y1(e,t){if(e==="input"||e==="change")return wl(t)}function x1(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var qt=typeof Object.is=="function"?Object.is:x1;function Fa(e,t){if(qt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var s=r[n];if(!ru.call(t,s)||!qt(e[s],t[s]))return!1}return!0}function tm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function rm(e,t){var r=tm(e);e=0;for(var n;r;){if(r.nodeType===3){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tm(r)}}function zv(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?zv(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Fv(){for(var e=window,t=Do();t instanceof e.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)e=t.contentWindow;else break;t=Do(e.document)}return t}function qd(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function w1(e){var t=Fv(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&zv(r.ownerDocument.documentElement,r)){if(n!==null&&qd(r)){if(t=n.start,e=n.end,e===void 0&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if(e=(t=r.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=r.textContent.length,a=Math.min(n.start,s);n=n.end===void 0?a:Math.min(n.end,s),!e.extend&&a>n&&(s=n,n=a,a=s),s=rm(r,a);var i=rm(r,n);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>n?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=r;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)e=t[r],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var b1=xr&&"documentMode"in document&&11>=document.documentMode,rs=null,bu=null,_a=null,_u=!1;function nm(e,t,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_u||rs==null||rs!==Do(n)||(n=rs,"selectionStart"in n&&qd(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),_a&&Fa(_a,n)||(_a=n,n=Lo(bu,"onSelect"),0<n.length&&(t=new Wd("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=rs)))}function Gi(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var ns={animationend:Gi("Animation","AnimationEnd"),animationiteration:Gi("Animation","AnimationIteration"),animationstart:Gi("Animation","AnimationStart"),transitionend:Gi("Transition","TransitionEnd")},bc={},Uv={};xr&&(Uv=document.createElement("div").style,"AnimationEvent"in window||(delete ns.animationend.animation,delete ns.animationiteration.animation,delete ns.animationstart.animation),"TransitionEvent"in window||delete ns.transitionend.transition);function bl(e){if(bc[e])return bc[e];if(!ns[e])return e;var t=ns[e],r;for(r in t)if(t.hasOwnProperty(r)&&r in Uv)return bc[e]=t[r];return e}var Wv=bl("animationend"),Hv=bl("animationiteration"),Bv=bl("animationstart"),qv=bl("transitionend"),Vv=new Map,sm="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Zr(e,t){Vv.set(e,t),In(t,[e])}for(var _c=0;_c<sm.length;_c++){var jc=sm[_c],_1=jc.toLowerCase(),j1=jc[0].toUpperCase()+jc.slice(1);Zr(_1,"on"+j1)}Zr(Wv,"onAnimationEnd");Zr(Hv,"onAnimationIteration");Zr(Bv,"onAnimationStart");Zr("dblclick","onDoubleClick");Zr("focusin","onFocus");Zr("focusout","onBlur");Zr(qv,"onTransitionEnd");ys("onMouseEnter",["mouseout","mouseover"]);ys("onMouseLeave",["mouseout","mouseover"]);ys("onPointerEnter",["pointerout","pointerover"]);ys("onPointerLeave",["pointerout","pointerover"]);In("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));In("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));In("onBeforeInput",["compositionend","keypress","textInput","paste"]);In("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));In("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));In("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pa="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),N1=new Set("cancel close invalid load scroll toggle".split(" ").concat(pa));function am(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,_b(n,t,void 0,e),e.currentTarget=null}function Gv(e,t){t=(t&4)!==0;for(var r=0;r<e.length;r++){var n=e[r],s=n.event;n=n.listeners;e:{var a=void 0;if(t)for(var i=n.length-1;0<=i;i--){var l=n[i],c=l.instance,u=l.currentTarget;if(l=l.listener,c!==a&&s.isPropagationStopped())break e;am(s,l,u),a=c}else for(i=0;i<n.length;i++){if(l=n[i],c=l.instance,u=l.currentTarget,l=l.listener,c!==a&&s.isPropagationStopped())break e;am(s,l,u),a=c}}}if($o)throw e=vu,$o=!1,vu=null,e}function de(e,t){var r=t[Eu];r===void 0&&(r=t[Eu]=new Set);var n=e+"__bubble";r.has(n)||(Yv(t,e,2,!1),r.add(n))}function Nc(e,t,r){var n=0;t&&(n|=4),Yv(r,e,n,t)}var Yi="_reactListening"+Math.random().toString(36).slice(2);function Ua(e){if(!e[Yi]){e[Yi]=!0,tv.forEach(function(r){r!=="selectionchange"&&(N1.has(r)||Nc(r,!1,e),Nc(r,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Yi]||(t[Yi]=!0,Nc("selectionchange",!1,t))}}function Yv(e,t,r,n){switch(Dv(t)){case 1:var s=Lb;break;case 4:s=zb;break;default:s=Fd}r=s.bind(null,t,r,e),s=void 0,!gu||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,r,{capture:!0,passive:s}):e.addEventListener(t,r,!0):s!==void 0?e.addEventListener(t,r,{passive:s}):e.addEventListener(t,r,!1)}function Sc(e,t,r,n,s){var a=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var l=n.stateNode.containerInfo;if(l===s||l.nodeType===8&&l.parentNode===s)break;if(i===4)for(i=n.return;i!==null;){var c=i.tag;if((c===3||c===4)&&(c=i.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;i=i.return}for(;l!==null;){if(i=vn(l),i===null)return;if(c=i.tag,c===5||c===6){n=a=i;continue e}l=l.parentNode}}n=n.return}vv(function(){var u=a,d=Rd(r),f=[];e:{var h=Vv.get(e);if(h!==void 0){var p=Wd,v=e;switch(e){case"keypress":if(vo(r)===0)break e;case"keydown":case"keyup":p=e1;break;case"focusin":v="focus",p=yc;break;case"focusout":v="blur",p=yc;break;case"beforeblur":case"afterblur":p=yc;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Gh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=Wb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=n1;break;case Wv:case Hv:case Bv:p=qb;break;case qv:p=a1;break;case"scroll":p=Fb;break;case"wheel":p=o1;break;case"copy":case"cut":case"paste":p=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Kh}var m=(t&4)!==0,w=!m&&e==="scroll",x=m?h!==null?h+"Capture":null:h;m=[];for(var g=u,y;g!==null;){y=g;var b=y.stateNode;if(y.tag===5&&b!==null&&(y=b,x!==null&&(b=Aa(g,x),b!=null&&m.push(Wa(g,b,y)))),w)break;g=g.return}0<m.length&&(h=new p(h,v,null,r,d),f.push({event:h,listeners:m}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",p=e==="mouseout"||e==="pointerout",h&&r!==mu&&(v=r.relatedTarget||r.fromElement)&&(vn(v)||v[wr]))break e;if((p||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?vn(v):null,v!==null&&(w=Ln(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(m=Gh,b="onMouseLeave",x="onMouseEnter",g="mouse",(e==="pointerout"||e==="pointerover")&&(m=Kh,b="onPointerLeave",x="onPointerEnter",g="pointer"),w=p==null?h:ss(p),y=v==null?h:ss(v),h=new m(b,g+"leave",p,r,d),h.target=w,h.relatedTarget=y,b=null,vn(d)===u&&(m=new m(x,g+"enter",v,r,d),m.target=y,m.relatedTarget=w,b=m),w=b,p&&v)t:{for(m=p,x=v,g=0,y=m;y;y=Hn(y))g++;for(y=0,b=x;b;b=Hn(b))y++;for(;0<g-y;)m=Hn(m),g--;for(;0<y-g;)x=Hn(x),y--;for(;g--;){if(m===x||x!==null&&m===x.alternate)break t;m=Hn(m),x=Hn(x)}m=null}else m=null;p!==null&&im(f,h,p,m,!1),v!==null&&w!==null&&im(f,w,v,m,!0)}}e:{if(h=u?ss(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var j=m1;else if(Jh(h))if(Iv)j=y1;else{j=g1;var N=p1}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=v1);if(j&&(j=j(e,u))){Rv(f,j,r,d);break e}N&&N(e,h,u),e==="focusout"&&(N=h._wrapperState)&&N.controlled&&h.type==="number"&&cu(h,"number",h.value)}switch(N=u?ss(u):window,e){case"focusin":(Jh(N)||N.contentEditable==="true")&&(rs=N,bu=u,_a=null);break;case"focusout":_a=bu=rs=null;break;case"mousedown":_u=!0;break;case"contextmenu":case"mouseup":case"dragend":_u=!1,nm(f,r,d);break;case"selectionchange":if(b1)break;case"keydown":case"keyup":nm(f,r,d)}var S;if(Bd)e:{switch(e){case"compositionstart":var _="onCompositionStart";break e;case"compositionend":_="onCompositionEnd";break e;case"compositionupdate":_="onCompositionUpdate";break e}_=void 0}else ts?Mv(e,r)&&(_="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(_="onCompositionStart");_&&($v&&r.locale!=="ko"&&(ts||_!=="onCompositionStart"?_==="onCompositionEnd"&&ts&&(S=Ov()):(zr=d,Ud="value"in zr?zr.value:zr.textContent,ts=!0)),N=Lo(u,_),0<N.length&&(_=new Yh(_,e,null,r,d),f.push({event:_,listeners:N}),S?_.data=S:(S=Av(r),S!==null&&(_.data=S)))),(S=c1?u1(e,r):d1(e,r))&&(u=Lo(u,"onBeforeInput"),0<u.length&&(d=new Yh("onBeforeInput","beforeinput",null,r,d),f.push({event:d,listeners:u}),d.data=S))}Gv(f,t)})}function Wa(e,t,r){return{instance:e,listener:t,currentTarget:r}}function Lo(e,t){for(var r=t+"Capture",n=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Aa(e,r),a!=null&&n.unshift(Wa(e,a,s)),a=Aa(e,t),a!=null&&n.push(Wa(e,a,s))),e=e.return}return n}function Hn(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function im(e,t,r,n,s){for(var a=t._reactName,i=[];r!==null&&r!==n;){var l=r,c=l.alternate,u=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&u!==null&&(l=u,s?(c=Aa(r,a),c!=null&&i.unshift(Wa(r,c,l))):s||(c=Aa(r,a),c!=null&&i.push(Wa(r,c,l)))),r=r.return}i.length!==0&&e.push({event:t,listeners:i})}var S1=/\r\n?/g,k1=/\u0000|\uFFFD/g;function om(e){return(typeof e=="string"?e:""+e).replace(S1,`
`).replace(k1,"")}function Ki(e,t,r){if(t=om(t),om(e)!==t&&r)throw Error(R(425))}function zo(){}var ju=null,Nu=null;function Su(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ku=typeof setTimeout=="function"?setTimeout:void 0,E1=typeof clearTimeout=="function"?clearTimeout:void 0,lm=typeof Promise=="function"?Promise:void 0,C1=typeof queueMicrotask=="function"?queueMicrotask:typeof lm<"u"?function(e){return lm.resolve(null).then(e).catch(T1)}:ku;function T1(e){setTimeout(function(){throw e})}function kc(e,t){var r=t,n=0;do{var s=r.nextSibling;if(e.removeChild(r),s&&s.nodeType===8)if(r=s.data,r==="/$"){if(n===0){e.removeChild(s),La(t);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=s}while(r);La(t)}function Br(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function cm(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return e;t--}else r==="/$"&&t++}e=e.previousSibling}return null}var Is=Math.random().toString(36).slice(2),er="__reactFiber$"+Is,Ha="__reactProps$"+Is,wr="__reactContainer$"+Is,Eu="__reactEvents$"+Is,P1="__reactListeners$"+Is,D1="__reactHandles$"+Is;function vn(e){var t=e[er];if(t)return t;for(var r=e.parentNode;r;){if(t=r[wr]||r[er]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(e=cm(e);e!==null;){if(r=e[er])return r;e=cm(e)}return t}e=r,r=e.parentNode}return null}function yi(e){return e=e[er]||e[wr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ss(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(R(33))}function _l(e){return e[Ha]||null}var Cu=[],as=-1;function en(e){return{current:e}}function me(e){0>as||(e.current=Cu[as],Cu[as]=null,as--)}function ue(e,t){as++,Cu[as]=e.current,e.current=t}var Xr={},Xe=en(Xr),ct=en(!1),Nn=Xr;function xs(e,t){var r=e.type.contextTypes;if(!r)return Xr;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in r)s[a]=t[a];return n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function ut(e){return e=e.childContextTypes,e!=null}function Fo(){me(ct),me(Xe)}function um(e,t,r){if(Xe.current!==Xr)throw Error(R(168));ue(Xe,t),ue(ct,r)}function Kv(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var s in n)if(!(s in t))throw Error(R(108,pb(e)||"Unknown",s));return we({},r,n)}function Uo(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xr,Nn=Xe.current,ue(Xe,e),ue(ct,ct.current),!0}function dm(e,t,r){var n=e.stateNode;if(!n)throw Error(R(169));r?(e=Kv(e,t,Nn),n.__reactInternalMemoizedMergedChildContext=e,me(ct),me(Xe),ue(Xe,e)):me(ct),ue(ct,r)}var pr=null,jl=!1,Ec=!1;function Xv(e){pr===null?pr=[e]:pr.push(e)}function O1(e){jl=!0,Xv(e)}function tn(){if(!Ec&&pr!==null){Ec=!0;var e=0,t=ae;try{var r=pr;for(ae=1;e<r.length;e++){var n=r[e];do n=n(!0);while(n!==null)}pr=null,jl=!1}catch(s){throw pr!==null&&(pr=pr.slice(e+1)),bv(Id,tn),s}finally{ae=t,Ec=!1}}return null}var is=[],os=0,Wo=null,Ho=0,Ct=[],Tt=0,Sn=null,gr=1,vr="";function un(e,t){is[os++]=Ho,is[os++]=Wo,Wo=e,Ho=t}function Qv(e,t,r){Ct[Tt++]=gr,Ct[Tt++]=vr,Ct[Tt++]=Sn,Sn=e;var n=gr;e=vr;var s=32-Ht(n)-1;n&=~(1<<s),r+=1;var a=32-Ht(t)+s;if(30<a){var i=s-s%5;a=(n&(1<<i)-1).toString(32),n>>=i,s-=i,gr=1<<32-Ht(t)+s|r<<s|n,vr=a+e}else gr=1<<a|r<<s|n,vr=e}function Vd(e){e.return!==null&&(un(e,1),Qv(e,1,0))}function Gd(e){for(;e===Wo;)Wo=is[--os],is[os]=null,Ho=is[--os],is[os]=null;for(;e===Sn;)Sn=Ct[--Tt],Ct[Tt]=null,vr=Ct[--Tt],Ct[Tt]=null,gr=Ct[--Tt],Ct[Tt]=null}var wt=null,xt=null,pe=!1,Wt=null;function Jv(e,t){var r=Pt(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,t=e.deletions,t===null?(e.deletions=[r],e.flags|=16):t.push(r)}function fm(e,t){switch(e.tag){case 5:var r=e.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,wt=e,xt=Br(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,wt=e,xt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=Sn!==null?{id:gr,overflow:vr}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Pt(18,null,null,0),r.stateNode=t,r.return=e,e.child=r,wt=e,xt=null,!0):!1;default:return!1}}function Tu(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Pu(e){if(pe){var t=xt;if(t){var r=t;if(!fm(e,t)){if(Tu(e))throw Error(R(418));t=Br(r.nextSibling);var n=wt;t&&fm(e,t)?Jv(n,r):(e.flags=e.flags&-4097|2,pe=!1,wt=e)}}else{if(Tu(e))throw Error(R(418));e.flags=e.flags&-4097|2,pe=!1,wt=e}}}function hm(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;wt=e}function Xi(e){if(e!==wt)return!1;if(!pe)return hm(e),pe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Su(e.type,e.memoizedProps)),t&&(t=xt)){if(Tu(e))throw Zv(),Error(R(418));for(;t;)Jv(e,t),t=Br(t.nextSibling)}if(hm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(R(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var r=e.data;if(r==="/$"){if(t===0){xt=Br(e.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}e=e.nextSibling}xt=null}}else xt=wt?Br(e.stateNode.nextSibling):null;return!0}function Zv(){for(var e=xt;e;)e=Br(e.nextSibling)}function ws(){xt=wt=null,pe=!1}function Yd(e){Wt===null?Wt=[e]:Wt.push(e)}var $1=kr.ReactCurrentBatchConfig;function aa(e,t,r){if(e=r.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(R(309));var n=r.stateNode}if(!n)throw Error(R(147,e));var s=n,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(i){var l=s.refs;i===null?delete l[a]:l[a]=i},t._stringRef=a,t)}if(typeof e!="string")throw Error(R(284));if(!r._owner)throw Error(R(290,e))}return e}function Qi(e,t){throw e=Object.prototype.toString.call(t),Error(R(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mm(e){var t=e._init;return t(e._payload)}function ey(e){function t(x,g){if(e){var y=x.deletions;y===null?(x.deletions=[g],x.flags|=16):y.push(g)}}function r(x,g){if(!e)return null;for(;g!==null;)t(x,g),g=g.sibling;return null}function n(x,g){for(x=new Map;g!==null;)g.key!==null?x.set(g.key,g):x.set(g.index,g),g=g.sibling;return x}function s(x,g){return x=Yr(x,g),x.index=0,x.sibling=null,x}function a(x,g,y){return x.index=y,e?(y=x.alternate,y!==null?(y=y.index,y<g?(x.flags|=2,g):y):(x.flags|=2,g)):(x.flags|=1048576,g)}function i(x){return e&&x.alternate===null&&(x.flags|=2),x}function l(x,g,y,b){return g===null||g.tag!==6?(g=Mc(y,x.mode,b),g.return=x,g):(g=s(g,y),g.return=x,g)}function c(x,g,y,b){var j=y.type;return j===es?d(x,g,y.props.children,b,y.key):g!==null&&(g.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mr&&mm(j)===g.type)?(b=s(g,y.props),b.ref=aa(x,g,y),b.return=x,b):(b=No(y.type,y.key,y.props,null,x.mode,b),b.ref=aa(x,g,y),b.return=x,b)}function u(x,g,y,b){return g===null||g.tag!==4||g.stateNode.containerInfo!==y.containerInfo||g.stateNode.implementation!==y.implementation?(g=Ac(y,x.mode,b),g.return=x,g):(g=s(g,y.children||[]),g.return=x,g)}function d(x,g,y,b,j){return g===null||g.tag!==7?(g=bn(y,x.mode,b,j),g.return=x,g):(g=s(g,y),g.return=x,g)}function f(x,g,y){if(typeof g=="string"&&g!==""||typeof g=="number")return g=Mc(""+g,x.mode,y),g.return=x,g;if(typeof g=="object"&&g!==null){switch(g.$$typeof){case Fi:return y=No(g.type,g.key,g.props,null,x.mode,y),y.ref=aa(x,null,g),y.return=x,y;case Zn:return g=Ac(g,x.mode,y),g.return=x,g;case Mr:var b=g._init;return f(x,b(g._payload),y)}if(ha(g)||ea(g))return g=bn(g,x.mode,y,null),g.return=x,g;Qi(x,g)}return null}function h(x,g,y,b){var j=g!==null?g.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return j!==null?null:l(x,g,""+y,b);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Fi:return y.key===j?c(x,g,y,b):null;case Zn:return y.key===j?u(x,g,y,b):null;case Mr:return j=y._init,h(x,g,j(y._payload),b)}if(ha(y)||ea(y))return j!==null?null:d(x,g,y,b,null);Qi(x,y)}return null}function p(x,g,y,b,j){if(typeof b=="string"&&b!==""||typeof b=="number")return x=x.get(y)||null,l(g,x,""+b,j);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Fi:return x=x.get(b.key===null?y:b.key)||null,c(g,x,b,j);case Zn:return x=x.get(b.key===null?y:b.key)||null,u(g,x,b,j);case Mr:var N=b._init;return p(x,g,y,N(b._payload),j)}if(ha(b)||ea(b))return x=x.get(y)||null,d(g,x,b,j,null);Qi(g,b)}return null}function v(x,g,y,b){for(var j=null,N=null,S=g,_=g=0,k=null;S!==null&&_<y.length;_++){S.index>_?(k=S,S=null):k=S.sibling;var C=h(x,S,y[_],b);if(C===null){S===null&&(S=k);break}e&&S&&C.alternate===null&&t(x,S),g=a(C,g,_),N===null?j=C:N.sibling=C,N=C,S=k}if(_===y.length)return r(x,S),pe&&un(x,_),j;if(S===null){for(;_<y.length;_++)S=f(x,y[_],b),S!==null&&(g=a(S,g,_),N===null?j=S:N.sibling=S,N=S);return pe&&un(x,_),j}for(S=n(x,S);_<y.length;_++)k=p(S,x,_,y[_],b),k!==null&&(e&&k.alternate!==null&&S.delete(k.key===null?_:k.key),g=a(k,g,_),N===null?j=k:N.sibling=k,N=k);return e&&S.forEach(function(O){return t(x,O)}),pe&&un(x,_),j}function m(x,g,y,b){var j=ea(y);if(typeof j!="function")throw Error(R(150));if(y=j.call(y),y==null)throw Error(R(151));for(var N=j=null,S=g,_=g=0,k=null,C=y.next();S!==null&&!C.done;_++,C=y.next()){S.index>_?(k=S,S=null):k=S.sibling;var O=h(x,S,C.value,b);if(O===null){S===null&&(S=k);break}e&&S&&O.alternate===null&&t(x,S),g=a(O,g,_),N===null?j=O:N.sibling=O,N=O,S=k}if(C.done)return r(x,S),pe&&un(x,_),j;if(S===null){for(;!C.done;_++,C=y.next())C=f(x,C.value,b),C!==null&&(g=a(C,g,_),N===null?j=C:N.sibling=C,N=C);return pe&&un(x,_),j}for(S=n(x,S);!C.done;_++,C=y.next())C=p(S,x,_,C.value,b),C!==null&&(e&&C.alternate!==null&&S.delete(C.key===null?_:C.key),g=a(C,g,_),N===null?j=C:N.sibling=C,N=C);return e&&S.forEach(function(A){return t(x,A)}),pe&&un(x,_),j}function w(x,g,y,b){if(typeof y=="object"&&y!==null&&y.type===es&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Fi:e:{for(var j=y.key,N=g;N!==null;){if(N.key===j){if(j=y.type,j===es){if(N.tag===7){r(x,N.sibling),g=s(N,y.props.children),g.return=x,x=g;break e}}else if(N.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Mr&&mm(j)===N.type){r(x,N.sibling),g=s(N,y.props),g.ref=aa(x,N,y),g.return=x,x=g;break e}r(x,N);break}else t(x,N);N=N.sibling}y.type===es?(g=bn(y.props.children,x.mode,b,y.key),g.return=x,x=g):(b=No(y.type,y.key,y.props,null,x.mode,b),b.ref=aa(x,g,y),b.return=x,x=b)}return i(x);case Zn:e:{for(N=y.key;g!==null;){if(g.key===N)if(g.tag===4&&g.stateNode.containerInfo===y.containerInfo&&g.stateNode.implementation===y.implementation){r(x,g.sibling),g=s(g,y.children||[]),g.return=x,x=g;break e}else{r(x,g);break}else t(x,g);g=g.sibling}g=Ac(y,x.mode,b),g.return=x,x=g}return i(x);case Mr:return N=y._init,w(x,g,N(y._payload),b)}if(ha(y))return v(x,g,y,b);if(ea(y))return m(x,g,y,b);Qi(x,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,g!==null&&g.tag===6?(r(x,g.sibling),g=s(g,y),g.return=x,x=g):(r(x,g),g=Mc(y,x.mode,b),g.return=x,x=g),i(x)):r(x,g)}return w}var bs=ey(!0),ty=ey(!1),Bo=en(null),qo=null,ls=null,Kd=null;function Xd(){Kd=ls=qo=null}function Qd(e){var t=Bo.current;me(Bo),e._currentValue=t}function Du(e,t,r){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function ps(e,t){qo=e,Kd=ls=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(lt=!0),e.firstContext=null)}function Ot(e){var t=e._currentValue;if(Kd!==e)if(e={context:e,memoizedValue:t,next:null},ls===null){if(qo===null)throw Error(R(308));ls=e,qo.dependencies={lanes:0,firstContext:e}}else ls=ls.next=e;return t}var yn=null;function Jd(e){yn===null?yn=[e]:yn.push(e)}function ry(e,t,r,n){var s=t.interleaved;return s===null?(r.next=r,Jd(t)):(r.next=s.next,s.next=r),t.interleaved=r,br(e,n)}function br(e,t){e.lanes|=t;var r=e.alternate;for(r!==null&&(r.lanes|=t),r=e,e=e.return;e!==null;)e.childLanes|=t,r=e.alternate,r!==null&&(r.childLanes|=t),r=e,e=e.return;return r.tag===3?r.stateNode:null}var Ar=!1;function Zd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ny(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function yr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function qr(e,t,r){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,te&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,br(e,r)}return s=n.interleaved,s===null?(t.next=t,Jd(n)):(t.next=s.next,s.next=t),n.interleaved=t,br(e,r)}function yo(e,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ld(e,r)}}function pm(e,t){var r=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var s=null,a=null;if(r=r.firstBaseUpdate,r!==null){do{var i={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};a===null?s=a=i:a=a.next=i,r=r.next}while(r!==null);a===null?s=a=t:a=a.next=t}else s=a=t;r={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:n.shared,effects:n.effects},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Vo(e,t,r,n){var s=e.updateQueue;Ar=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,l=s.shared.pending;if(l!==null){s.shared.pending=null;var c=l,u=c.next;c.next=null,i===null?a=u:i.next=u,i=c;var d=e.alternate;d!==null&&(d=d.updateQueue,l=d.lastBaseUpdate,l!==i&&(l===null?d.firstBaseUpdate=u:l.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=s.baseState;i=0,d=u=c=null,l=a;do{var h=l.lane,p=l.eventTime;if((n&h)===h){d!==null&&(d=d.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var v=e,m=l;switch(h=t,p=r,m.tag){case 1:if(v=m.payload,typeof v=="function"){f=v.call(p,f,h);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=m.payload,h=typeof v=="function"?v.call(p,f,h):v,h==null)break e;f=we({},f,h);break e;case 2:Ar=!0}}l.callback!==null&&l.lane!==0&&(e.flags|=64,h=s.effects,h===null?s.effects=[l]:h.push(l))}else p={eventTime:p,lane:h,tag:l.tag,payload:l.payload,callback:l.callback,next:null},d===null?(u=d=p,c=f):d=d.next=p,i|=h;if(l=l.next,l===null){if(l=s.shared.pending,l===null)break;h=l,l=h.next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}while(!0);if(d===null&&(c=f),s.baseState=c,s.firstBaseUpdate=u,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);En|=i,e.lanes=i,e.memoizedState=f}}function gm(e,t,r){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var n=e[t],s=n.callback;if(s!==null){if(n.callback=null,n=r,typeof s!="function")throw Error(R(191,s));s.call(n)}}}var xi={},ir=en(xi),Ba=en(xi),qa=en(xi);function xn(e){if(e===xi)throw Error(R(174));return e}function ef(e,t){switch(ue(qa,t),ue(Ba,e),ue(ir,xi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:du(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=du(t,e)}me(ir),ue(ir,t)}function _s(){me(ir),me(Ba),me(qa)}function sy(e){xn(qa.current);var t=xn(ir.current),r=du(t,e.type);t!==r&&(ue(Ba,e),ue(ir,r))}function tf(e){Ba.current===e&&(me(ir),me(Ba))}var ve=en(0);function Go(e){for(var t=e;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Cc=[];function rf(){for(var e=0;e<Cc.length;e++)Cc[e]._workInProgressVersionPrimary=null;Cc.length=0}var xo=kr.ReactCurrentDispatcher,Tc=kr.ReactCurrentBatchConfig,kn=0,xe=null,Me=null,ze=null,Yo=!1,ja=!1,Va=0,M1=0;function qe(){throw Error(R(321))}function nf(e,t){if(t===null)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!qt(e[r],t[r]))return!1;return!0}function sf(e,t,r,n,s,a){if(kn=a,xe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,xo.current=e===null||e.memoizedState===null?L1:z1,e=r(n,s),ja){a=0;do{if(ja=!1,Va=0,25<=a)throw Error(R(301));a+=1,ze=Me=null,t.updateQueue=null,xo.current=F1,e=r(n,s)}while(ja)}if(xo.current=Ko,t=Me!==null&&Me.next!==null,kn=0,ze=Me=xe=null,Yo=!1,t)throw Error(R(300));return e}function af(){var e=Va!==0;return Va=0,e}function Qt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ze===null?xe.memoizedState=ze=e:ze=ze.next=e,ze}function $t(){if(Me===null){var e=xe.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=ze===null?xe.memoizedState:ze.next;if(t!==null)ze=t,Me=e;else{if(e===null)throw Error(R(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},ze===null?xe.memoizedState=ze=e:ze=ze.next=e}return ze}function Ga(e,t){return typeof t=="function"?t(e):t}function Pc(e){var t=$t(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=Me,s=n.baseQueue,a=r.pending;if(a!==null){if(s!==null){var i=s.next;s.next=a.next,a.next=i}n.baseQueue=s=a,r.pending=null}if(s!==null){a=s.next,n=n.baseState;var l=i=null,c=null,u=a;do{var d=u.lane;if((kn&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(l=c=f,i=n):c=c.next=f,xe.lanes|=d,En|=d}u=u.next}while(u!==null&&u!==a);c===null?i=n:c.next=l,qt(n,t.memoizedState)||(lt=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(e=r.interleaved,e!==null){s=e;do a=s.lane,xe.lanes|=a,En|=a,s=s.next;while(s!==e)}else s===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Dc(e){var t=$t(),r=t.queue;if(r===null)throw Error(R(311));r.lastRenderedReducer=e;var n=r.dispatch,s=r.pending,a=t.memoizedState;if(s!==null){r.pending=null;var i=s=s.next;do a=e(a,i.action),i=i.next;while(i!==s);qt(a,t.memoizedState)||(lt=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),r.lastRenderedState=a}return[a,n]}function ay(){}function iy(e,t){var r=xe,n=$t(),s=t(),a=!qt(n.memoizedState,s);if(a&&(n.memoizedState=s,lt=!0),n=n.queue,of(cy.bind(null,r,n,e),[e]),n.getSnapshot!==t||a||ze!==null&&ze.memoizedState.tag&1){if(r.flags|=2048,Ya(9,ly.bind(null,r,n,s,t),void 0,null),Fe===null)throw Error(R(349));kn&30||oy(r,t,s)}return s}function oy(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.stores=[e]):(r=t.stores,r===null?t.stores=[e]:r.push(e))}function ly(e,t,r,n){t.value=r,t.getSnapshot=n,uy(t)&&dy(e)}function cy(e,t,r){return r(function(){uy(t)&&dy(e)})}function uy(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!qt(e,r)}catch{return!0}}function dy(e){var t=br(e,1);t!==null&&Bt(t,e,1,-1)}function vm(e){var t=Qt();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ga,lastRenderedState:e},t.queue=e,e=e.dispatch=I1.bind(null,xe,e),[t.memoizedState,e]}function Ya(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},t=xe.updateQueue,t===null?(t={lastEffect:null,stores:null},xe.updateQueue=t,t.lastEffect=e.next=e):(r=t.lastEffect,r===null?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e)),e}function fy(){return $t().memoizedState}function wo(e,t,r,n){var s=Qt();xe.flags|=e,s.memoizedState=Ya(1|t,r,void 0,n===void 0?null:n)}function Nl(e,t,r,n){var s=$t();n=n===void 0?null:n;var a=void 0;if(Me!==null){var i=Me.memoizedState;if(a=i.destroy,n!==null&&nf(n,i.deps)){s.memoizedState=Ya(t,r,a,n);return}}xe.flags|=e,s.memoizedState=Ya(1|t,r,a,n)}function ym(e,t){return wo(8390656,8,e,t)}function of(e,t){return Nl(2048,8,e,t)}function hy(e,t){return Nl(4,2,e,t)}function my(e,t){return Nl(4,4,e,t)}function py(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function gy(e,t,r){return r=r!=null?r.concat([e]):null,Nl(4,4,py.bind(null,t,e),r)}function lf(){}function vy(e,t){var r=$t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nf(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function yy(e,t){var r=$t();t=t===void 0?null:t;var n=r.memoizedState;return n!==null&&t!==null&&nf(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function xy(e,t,r){return kn&21?(qt(r,t)||(r=Nv(),xe.lanes|=r,En|=r,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,lt=!0),e.memoizedState=r)}function A1(e,t){var r=ae;ae=r!==0&&4>r?r:4,e(!0);var n=Tc.transition;Tc.transition={};try{e(!1),t()}finally{ae=r,Tc.transition=n}}function wy(){return $t().memoizedState}function R1(e,t,r){var n=Gr(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},by(e))_y(t,r);else if(r=ry(e,t,r,n),r!==null){var s=nt();Bt(r,e,n,s),jy(r,t,n)}}function I1(e,t,r){var n=Gr(e),s={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(by(e))_y(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var i=t.lastRenderedState,l=a(i,r);if(s.hasEagerState=!0,s.eagerState=l,qt(l,i)){var c=t.interleaved;c===null?(s.next=s,Jd(t)):(s.next=c.next,c.next=s),t.interleaved=s;return}}catch{}finally{}r=ry(e,t,s,n),r!==null&&(s=nt(),Bt(r,e,n,s),jy(r,t,n))}}function by(e){var t=e.alternate;return e===xe||t!==null&&t===xe}function _y(e,t){ja=Yo=!0;var r=e.pending;r===null?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function jy(e,t,r){if(r&4194240){var n=t.lanes;n&=e.pendingLanes,r|=n,t.lanes=r,Ld(e,r)}}var Ko={readContext:Ot,useCallback:qe,useContext:qe,useEffect:qe,useImperativeHandle:qe,useInsertionEffect:qe,useLayoutEffect:qe,useMemo:qe,useReducer:qe,useRef:qe,useState:qe,useDebugValue:qe,useDeferredValue:qe,useTransition:qe,useMutableSource:qe,useSyncExternalStore:qe,useId:qe,unstable_isNewReconciler:!1},L1={readContext:Ot,useCallback:function(e,t){return Qt().memoizedState=[e,t===void 0?null:t],e},useContext:Ot,useEffect:ym,useImperativeHandle:function(e,t,r){return r=r!=null?r.concat([e]):null,wo(4194308,4,py.bind(null,t,e),r)},useLayoutEffect:function(e,t){return wo(4194308,4,e,t)},useInsertionEffect:function(e,t){return wo(4,2,e,t)},useMemo:function(e,t){var r=Qt();return t=t===void 0?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Qt();return t=r!==void 0?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=R1.bind(null,xe,e),[n.memoizedState,e]},useRef:function(e){var t=Qt();return e={current:e},t.memoizedState=e},useState:vm,useDebugValue:lf,useDeferredValue:function(e){return Qt().memoizedState=e},useTransition:function(){var e=vm(!1),t=e[0];return e=A1.bind(null,e[1]),Qt().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=xe,s=Qt();if(pe){if(r===void 0)throw Error(R(407));r=r()}else{if(r=t(),Fe===null)throw Error(R(349));kn&30||oy(n,t,r)}s.memoizedState=r;var a={value:r,getSnapshot:t};return s.queue=a,ym(cy.bind(null,n,a,e),[e]),n.flags|=2048,Ya(9,ly.bind(null,n,a,r,t),void 0,null),r},useId:function(){var e=Qt(),t=Fe.identifierPrefix;if(pe){var r=vr,n=gr;r=(n&~(1<<32-Ht(n)-1)).toString(32)+r,t=":"+t+"R"+r,r=Va++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=M1++,t=":"+t+"r"+r.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},z1={readContext:Ot,useCallback:vy,useContext:Ot,useEffect:of,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:yy,useReducer:Pc,useRef:fy,useState:function(){return Pc(Ga)},useDebugValue:lf,useDeferredValue:function(e){var t=$t();return xy(t,Me.memoizedState,e)},useTransition:function(){var e=Pc(Ga)[0],t=$t().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1},F1={readContext:Ot,useCallback:vy,useContext:Ot,useEffect:of,useImperativeHandle:gy,useInsertionEffect:hy,useLayoutEffect:my,useMemo:yy,useReducer:Dc,useRef:fy,useState:function(){return Dc(Ga)},useDebugValue:lf,useDeferredValue:function(e){var t=$t();return Me===null?t.memoizedState=e:xy(t,Me.memoizedState,e)},useTransition:function(){var e=Dc(Ga)[0],t=$t().memoizedState;return[e,t]},useMutableSource:ay,useSyncExternalStore:iy,useId:wy,unstable_isNewReconciler:!1};function zt(e,t){if(e&&e.defaultProps){t=we({},t),e=e.defaultProps;for(var r in e)t[r]===void 0&&(t[r]=e[r]);return t}return t}function Ou(e,t,r,n){t=e.memoizedState,r=r(n,t),r=r==null?t:we({},t,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Sl={isMounted:function(e){return(e=e._reactInternals)?Ln(e)===e:!1},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=nt(),s=Gr(e),a=yr(n,s);a.payload=t,r!=null&&(a.callback=r),t=qr(e,a,s),t!==null&&(Bt(t,e,s,n),yo(t,e,s))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=nt(),s=Gr(e),a=yr(n,s);a.tag=1,a.payload=t,r!=null&&(a.callback=r),t=qr(e,a,s),t!==null&&(Bt(t,e,s,n),yo(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=nt(),n=Gr(e),s=yr(r,n);s.tag=2,t!=null&&(s.callback=t),t=qr(e,s,n),t!==null&&(Bt(t,e,n,r),yo(t,e,n))}};function xm(e,t,r,n,s,a,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,a,i):t.prototype&&t.prototype.isPureReactComponent?!Fa(r,n)||!Fa(s,a):!0}function Ny(e,t,r){var n=!1,s=Xr,a=t.contextType;return typeof a=="object"&&a!==null?a=Ot(a):(s=ut(t)?Nn:Xe.current,n=t.contextTypes,a=(n=n!=null)?xs(e,s):Xr),t=new t(r,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sl,e.stateNode=t,t._reactInternals=e,n&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function wm(e,t,r,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&Sl.enqueueReplaceState(t,t.state,null)}function $u(e,t,r,n){var s=e.stateNode;s.props=r,s.state=e.memoizedState,s.refs={},Zd(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=Ot(a):(a=ut(t)?Nn:Xe.current,s.context=xs(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Ou(e,t,a,r),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&Sl.enqueueReplaceState(s,s.state,null),Vo(e,r,s,n),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function js(e,t){try{var r="",n=t;do r+=mb(n),n=n.return;while(n);var s=r}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Oc(e,t,r){return{value:e,source:null,stack:r??null,digest:t??null}}function Mu(e,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var U1=typeof WeakMap=="function"?WeakMap:Map;function Sy(e,t,r){r=yr(-1,r),r.tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){Qo||(Qo=!0,Bu=n),Mu(e,t)},r}function ky(e,t,r){r=yr(-1,r),r.tag=3;var n=e.type.getDerivedStateFromError;if(typeof n=="function"){var s=t.value;r.payload=function(){return n(s)},r.callback=function(){Mu(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(r.callback=function(){Mu(e,t),typeof n!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),r}function bm(e,t,r){var n=e.pingCache;if(n===null){n=e.pingCache=new U1;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(r)||(s.add(r),e=t_.bind(null,e,t,r),t.then(e,e))}function _m(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function jm(e,t,r,n,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=yr(-1,1),t.tag=2,qr(r,t,1))),r.lanes|=1),e)}var W1=kr.ReactCurrentOwner,lt=!1;function tt(e,t,r,n){t.child=e===null?ty(t,null,r,n):bs(t,e.child,r,n)}function Nm(e,t,r,n,s){r=r.render;var a=t.ref;return ps(t,s),n=sf(e,t,r,n,a,s),r=af(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_r(e,t,s)):(pe&&r&&Vd(t),t.flags|=1,tt(e,t,n,s),t.child)}function Sm(e,t,r,n,s){if(e===null){var a=r.type;return typeof a=="function"&&!gf(a)&&a.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=a,Ey(e,t,a,n,s)):(e=No(r.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var i=a.memoizedProps;if(r=r.compare,r=r!==null?r:Fa,r(i,n)&&e.ref===t.ref)return _r(e,t,s)}return t.flags|=1,e=Yr(a,n),e.ref=t.ref,e.return=t,t.child=e}function Ey(e,t,r,n,s){if(e!==null){var a=e.memoizedProps;if(Fa(a,n)&&e.ref===t.ref)if(lt=!1,t.pendingProps=n=a,(e.lanes&s)!==0)e.flags&131072&&(lt=!0);else return t.lanes=e.lanes,_r(e,t,s)}return Au(e,t,r,n,s)}function Cy(e,t,r){var n=t.pendingProps,s=n.children,a=e!==null?e.memoizedState:null;if(n.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ue(us,yt),yt|=r;else{if(!(r&1073741824))return e=a!==null?a.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ue(us,yt),yt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=a!==null?a.baseLanes:r,ue(us,yt),yt|=n}else a!==null?(n=a.baseLanes|r,t.memoizedState=null):n=r,ue(us,yt),yt|=n;return tt(e,t,s,r),t.child}function Ty(e,t){var r=t.ref;(e===null&&r!==null||e!==null&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Au(e,t,r,n,s){var a=ut(r)?Nn:Xe.current;return a=xs(t,a),ps(t,s),r=sf(e,t,r,n,a,s),n=af(),e!==null&&!lt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,_r(e,t,s)):(pe&&n&&Vd(t),t.flags|=1,tt(e,t,r,s),t.child)}function km(e,t,r,n,s){if(ut(r)){var a=!0;Uo(t)}else a=!1;if(ps(t,s),t.stateNode===null)bo(e,t),Ny(t,r,n),$u(t,r,n,s),n=!0;else if(e===null){var i=t.stateNode,l=t.memoizedProps;i.props=l;var c=i.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ot(u):(u=ut(r)?Nn:Xe.current,u=xs(t,u));var d=r.getDerivedStateFromProps,f=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";f||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==n||c!==u)&&wm(t,i,n,u),Ar=!1;var h=t.memoizedState;i.state=h,Vo(t,n,i,s),c=t.memoizedState,l!==n||h!==c||ct.current||Ar?(typeof d=="function"&&(Ou(t,r,d,n),c=t.memoizedState),(l=Ar||xm(t,r,l,n,h,c,u))?(f||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=c),i.props=n,i.state=c,i.context=u,n=l):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{i=t.stateNode,ny(e,t),l=t.memoizedProps,u=t.type===t.elementType?l:zt(t.type,l),i.props=u,f=t.pendingProps,h=i.context,c=r.contextType,typeof c=="object"&&c!==null?c=Ot(c):(c=ut(r)?Nn:Xe.current,c=xs(t,c));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(l!==f||h!==c)&&wm(t,i,n,c),Ar=!1,h=t.memoizedState,i.state=h,Vo(t,n,i,s);var v=t.memoizedState;l!==f||h!==v||ct.current||Ar?(typeof p=="function"&&(Ou(t,r,p,n),v=t.memoizedState),(u=Ar||xm(t,r,u,n,h,v,c)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(n,v,c),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(n,v,c)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=v),i.props=n,i.state=v,i.context=c,n=u):(typeof i.componentDidUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||l===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Ru(e,t,r,n,a,s)}function Ru(e,t,r,n,s,a){Ty(e,t);var i=(t.flags&128)!==0;if(!n&&!i)return s&&dm(t,r,!1),_r(e,t,a);n=t.stateNode,W1.current=t;var l=i&&typeof r.getDerivedStateFromError!="function"?null:n.render();return t.flags|=1,e!==null&&i?(t.child=bs(t,e.child,null,a),t.child=bs(t,null,l,a)):tt(e,t,l,a),t.memoizedState=n.state,s&&dm(t,r,!0),t.child}function Py(e){var t=e.stateNode;t.pendingContext?um(e,t.pendingContext,t.pendingContext!==t.context):t.context&&um(e,t.context,!1),ef(e,t.containerInfo)}function Em(e,t,r,n,s){return ws(),Yd(s),t.flags|=256,tt(e,t,r,n),t.child}var Iu={dehydrated:null,treeContext:null,retryLane:0};function Lu(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dy(e,t,r){var n=t.pendingProps,s=ve.current,a=!1,i=(t.flags&128)!==0,l;if((l=i)||(l=e!==null&&e.memoizedState===null?!1:(s&2)!==0),l?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),ue(ve,s&1),e===null)return Pu(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=n.children,e=n.fallback,a?(n=t.mode,a=t.child,i={mode:"hidden",children:i},!(n&1)&&a!==null?(a.childLanes=0,a.pendingProps=i):a=Cl(i,n,0,null),e=bn(e,n,r,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Lu(r),t.memoizedState=Iu,e):cf(t,i));if(s=e.memoizedState,s!==null&&(l=s.dehydrated,l!==null))return H1(e,t,i,n,l,s,r);if(a){a=n.fallback,i=t.mode,s=e.child,l=s.sibling;var c={mode:"hidden",children:n.children};return!(i&1)&&t.child!==s?(n=t.child,n.childLanes=0,n.pendingProps=c,t.deletions=null):(n=Yr(s,c),n.subtreeFlags=s.subtreeFlags&14680064),l!==null?a=Yr(l,a):(a=bn(a,i,r,null),a.flags|=2),a.return=t,n.return=t,n.sibling=a,t.child=n,n=a,a=t.child,i=e.child.memoizedState,i=i===null?Lu(r):{baseLanes:i.baseLanes|r,cachePool:null,transitions:i.transitions},a.memoizedState=i,a.childLanes=e.childLanes&~r,t.memoizedState=Iu,n}return a=e.child,e=a.sibling,n=Yr(a,{mode:"visible",children:n.children}),!(t.mode&1)&&(n.lanes=r),n.return=t,n.sibling=null,e!==null&&(r=t.deletions,r===null?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n,t.memoizedState=null,n}function cf(e,t){return t=Cl({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ji(e,t,r,n){return n!==null&&Yd(n),bs(t,e.child,null,r),e=cf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function H1(e,t,r,n,s,a,i){if(r)return t.flags&256?(t.flags&=-257,n=Oc(Error(R(422))),Ji(e,t,i,n)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=n.fallback,s=t.mode,n=Cl({mode:"visible",children:n.children},s,0,null),a=bn(a,s,i,null),a.flags|=2,n.return=t,a.return=t,n.sibling=a,t.child=n,t.mode&1&&bs(t,e.child,null,i),t.child.memoizedState=Lu(i),t.memoizedState=Iu,a);if(!(t.mode&1))return Ji(e,t,i,null);if(s.data==="$!"){if(n=s.nextSibling&&s.nextSibling.dataset,n)var l=n.dgst;return n=l,a=Error(R(419)),n=Oc(a,n,void 0),Ji(e,t,i,n)}if(l=(i&e.childLanes)!==0,lt||l){if(n=Fe,n!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(n.suspendedLanes|i)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,br(e,s),Bt(n,e,s,-1))}return pf(),n=Oc(Error(R(421))),Ji(e,t,i,n)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=r_.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,xt=Br(s.nextSibling),wt=t,pe=!0,Wt=null,e!==null&&(Ct[Tt++]=gr,Ct[Tt++]=vr,Ct[Tt++]=Sn,gr=e.id,vr=e.overflow,Sn=t),t=cf(t,n.children),t.flags|=4096,t)}function Cm(e,t,r){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Du(e.return,t,r)}function $c(e,t,r,n,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=n,a.tail=r,a.tailMode=s)}function Oy(e,t,r){var n=t.pendingProps,s=n.revealOrder,a=n.tail;if(tt(e,t,n.children,r),n=ve.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Cm(e,r,t);else if(e.tag===19)Cm(e,r,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(ue(ve,n),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(r=t.child,s=null;r!==null;)e=r.alternate,e!==null&&Go(e)===null&&(s=r),r=r.sibling;r=s,r===null?(s=t.child,t.child=null):(s=r.sibling,r.sibling=null),$c(t,!1,s,r,a);break;case"backwards":for(r=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Go(e)===null){t.child=s;break}e=s.sibling,s.sibling=r,r=s,s=e}$c(t,!0,r,null,a);break;case"together":$c(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bo(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function _r(e,t,r){if(e!==null&&(t.dependencies=e.dependencies),En|=t.lanes,!(r&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(R(153));if(t.child!==null){for(e=t.child,r=Yr(e,e.pendingProps),t.child=r,r.return=t;e.sibling!==null;)e=e.sibling,r=r.sibling=Yr(e,e.pendingProps),r.return=t;r.sibling=null}return t.child}function B1(e,t,r){switch(t.tag){case 3:Py(t),ws();break;case 5:sy(t);break;case 1:ut(t.type)&&Uo(t);break;case 4:ef(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,s=t.memoizedProps.value;ue(Bo,n._currentValue),n._currentValue=s;break;case 13:if(n=t.memoizedState,n!==null)return n.dehydrated!==null?(ue(ve,ve.current&1),t.flags|=128,null):r&t.child.childLanes?Dy(e,t,r):(ue(ve,ve.current&1),e=_r(e,t,r),e!==null?e.sibling:null);ue(ve,ve.current&1);break;case 19:if(n=(r&t.childLanes)!==0,e.flags&128){if(n)return Oy(e,t,r);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ue(ve,ve.current),n)break;return null;case 22:case 23:return t.lanes=0,Cy(e,t,r)}return _r(e,t,r)}var $y,zu,My,Ay;$y=function(e,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)e.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};zu=function(){};My=function(e,t,r,n){var s=e.memoizedProps;if(s!==n){e=t.stateNode,xn(ir.current);var a=null;switch(r){case"input":s=ou(e,s),n=ou(e,n),a=[];break;case"select":s=we({},s,{value:void 0}),n=we({},n,{value:void 0}),a=[];break;case"textarea":s=uu(e,s),n=uu(e,n),a=[];break;default:typeof s.onClick!="function"&&typeof n.onClick=="function"&&(e.onclick=zo)}fu(r,n);var i;r=null;for(u in s)if(!n.hasOwnProperty(u)&&s.hasOwnProperty(u)&&s[u]!=null)if(u==="style"){var l=s[u];for(i in l)l.hasOwnProperty(i)&&(r||(r={}),r[i]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($a.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in n){var c=n[u];if(l=s!=null?s[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(c!=null||l!=null))if(u==="style")if(l){for(i in l)!l.hasOwnProperty(i)||c&&c.hasOwnProperty(i)||(r||(r={}),r[i]="");for(i in c)c.hasOwnProperty(i)&&l[i]!==c[i]&&(r||(r={}),r[i]=c[i])}else r||(a||(a=[]),a.push(u,r)),r=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($a.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&de("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}r&&(a=a||[]).push("style",r);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};Ay=function(e,t,r,n){r!==n&&(t.flags|=4)};function ia(e,t){if(!pe)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,r=0,n=0;if(t)for(var s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags&14680064,n|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)r|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function q1(e,t,r){var n=t.pendingProps;switch(Gd(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return ut(t.type)&&Fo(),Ve(t),null;case 3:return n=t.stateNode,_s(),me(ct),me(Xe),rf(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(e===null||e.child===null)&&(Xi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Wt!==null&&(Gu(Wt),Wt=null))),zu(e,t),Ve(t),null;case 5:tf(t);var s=xn(qa.current);if(r=t.type,e!==null&&t.stateNode!=null)My(e,t,r,n,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(t.stateNode===null)throw Error(R(166));return Ve(t),null}if(e=xn(ir.current),Xi(t)){n=t.stateNode,r=t.type;var a=t.memoizedProps;switch(n[er]=t,n[Ha]=a,e=(t.mode&1)!==0,r){case"dialog":de("cancel",n),de("close",n);break;case"iframe":case"object":case"embed":de("load",n);break;case"video":case"audio":for(s=0;s<pa.length;s++)de(pa[s],n);break;case"source":de("error",n);break;case"img":case"image":case"link":de("error",n),de("load",n);break;case"details":de("toggle",n);break;case"input":Ih(n,a),de("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!a.multiple},de("invalid",n);break;case"textarea":zh(n,a),de("invalid",n)}fu(r,a),s=null;for(var i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="children"?typeof l=="string"?n.textContent!==l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),s=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(a.suppressHydrationWarning!==!0&&Ki(n.textContent,l,e),s=["children",""+l]):$a.hasOwnProperty(i)&&l!=null&&i==="onScroll"&&de("scroll",n)}switch(r){case"input":Ui(n),Lh(n,a,!0);break;case"textarea":Ui(n),Fh(n);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(n.onclick=zo)}n=s,t.updateQueue=n,n!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=cv(r)),e==="http://www.w3.org/1999/xhtml"?r==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof n.is=="string"?e=i.createElement(r,{is:n.is}):(e=i.createElement(r),r==="select"&&(i=e,n.multiple?i.multiple=!0:n.size&&(i.size=n.size))):e=i.createElementNS(e,r),e[er]=t,e[Ha]=n,$y(e,t,!1,!1),t.stateNode=e;e:{switch(i=hu(r,n),r){case"dialog":de("cancel",e),de("close",e),s=n;break;case"iframe":case"object":case"embed":de("load",e),s=n;break;case"video":case"audio":for(s=0;s<pa.length;s++)de(pa[s],e);s=n;break;case"source":de("error",e),s=n;break;case"img":case"image":case"link":de("error",e),de("load",e),s=n;break;case"details":de("toggle",e),s=n;break;case"input":Ih(e,n),s=ou(e,n),de("invalid",e);break;case"option":s=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},s=we({},n,{value:void 0}),de("invalid",e);break;case"textarea":zh(e,n),s=uu(e,n),de("invalid",e);break;default:s=n}fu(r,s),l=s;for(a in l)if(l.hasOwnProperty(a)){var c=l[a];a==="style"?fv(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&uv(e,c)):a==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Ma(e,c):typeof c=="number"&&Ma(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&($a.hasOwnProperty(a)?c!=null&&a==="onScroll"&&de("scroll",e):c!=null&&Od(e,a,c,i))}switch(r){case"input":Ui(e),Lh(e,n,!1);break;case"textarea":Ui(e),Fh(e);break;case"option":n.value!=null&&e.setAttribute("value",""+Kr(n.value));break;case"select":e.multiple=!!n.multiple,a=n.value,a!=null?ds(e,!!n.multiple,a,!1):n.defaultValue!=null&&ds(e,!!n.multiple,n.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=zo)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)Ay(e,t,e.memoizedProps,n);else{if(typeof n!="string"&&t.stateNode===null)throw Error(R(166));if(r=xn(qa.current),xn(ir.current),Xi(t)){if(n=t.stateNode,r=t.memoizedProps,n[er]=t,(a=n.nodeValue!==r)&&(e=wt,e!==null))switch(e.tag){case 3:Ki(n.nodeValue,r,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ki(n.nodeValue,r,(e.mode&1)!==0)}a&&(t.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[er]=t,t.stateNode=n}return Ve(t),null;case 13:if(me(ve),n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(pe&&xt!==null&&t.mode&1&&!(t.flags&128))Zv(),ws(),t.flags|=98560,a=!1;else if(a=Xi(t),n!==null&&n.dehydrated!==null){if(e===null){if(!a)throw Error(R(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(R(317));a[er]=t}else ws(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else Wt!==null&&(Gu(Wt),Wt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(n=n!==null,n!==(e!==null&&e.memoizedState!==null)&&n&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?Ae===0&&(Ae=3):pf())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return _s(),zu(e,t),e===null&&Ua(t.stateNode.containerInfo),Ve(t),null;case 10:return Qd(t.type._context),Ve(t),null;case 17:return ut(t.type)&&Fo(),Ve(t),null;case 19:if(me(ve),a=t.memoizedState,a===null)return Ve(t),null;if(n=(t.flags&128)!==0,i=a.rendering,i===null)if(n)ia(a,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=Go(e),i!==null){for(t.flags|=128,ia(a,!1),n=i.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;r!==null;)a=r,e=n,a.flags&=14680066,i=a.alternate,i===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=i.childLanes,a.lanes=i.lanes,a.child=i.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=i.memoizedProps,a.memoizedState=i.memoizedState,a.updateQueue=i.updateQueue,a.type=i.type,e=i.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return ue(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&ke()>Ns&&(t.flags|=128,n=!0,ia(a,!1),t.lanes=4194304)}else{if(!n)if(e=Go(i),e!==null){if(t.flags|=128,n=!0,r=e.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),ia(a,!0),a.tail===null&&a.tailMode==="hidden"&&!i.alternate&&!pe)return Ve(t),null}else 2*ke()-a.renderingStartTime>Ns&&r!==1073741824&&(t.flags|=128,n=!0,ia(a,!1),t.lanes=4194304);a.isBackwards?(i.sibling=t.child,t.child=i):(r=a.last,r!==null?r.sibling=i:t.child=i,a.last=i)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=ke(),t.sibling=null,r=ve.current,ue(ve,n?r&1|2:r&1),t):(Ve(t),null);case 22:case 23:return mf(),n=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==n&&(t.flags|=8192),n&&t.mode&1?yt&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(R(156,t.tag))}function V1(e,t){switch(Gd(t),t.tag){case 1:return ut(t.type)&&Fo(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _s(),me(ct),me(Xe),rf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return tf(t),null;case 13:if(me(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(R(340));ws()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return me(ve),null;case 4:return _s(),null;case 10:return Qd(t.type._context),null;case 22:case 23:return mf(),null;case 24:return null;default:return null}}var Zi=!1,Ye=!1,G1=typeof WeakSet=="function"?WeakSet:Set,H=null;function cs(e,t){var r=e.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){be(e,t,n)}else r.current=null}function Fu(e,t,r){try{r()}catch(n){be(e,t,n)}}var Tm=!1;function Y1(e,t){if(ju=Ro,e=Fv(),qd(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{r=(r=e.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var s=n.anchorOffset,a=n.focusNode;n=n.focusOffset;try{r.nodeType,a.nodeType}catch{r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var p;f!==r||s!==0&&f.nodeType!==3||(l=i+s),f!==a||n!==0&&f.nodeType!==3||(c=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(p=f.firstChild)!==null;)h=f,f=p;for(;;){if(f===e)break t;if(h===r&&++u===s&&(l=i),h===a&&++d===n&&(c=i),(p=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=p}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Nu={focusedElem:e,selectionRange:r},Ro=!1,H=t;H!==null;)if(t=H,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,H=e;else for(;H!==null;){t=H;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var m=v.memoizedProps,w=v.memoizedState,x=t.stateNode,g=x.getSnapshotBeforeUpdate(t.elementType===t.type?m:zt(t.type,m),w);x.__reactInternalSnapshotBeforeUpdate=g}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(R(163))}}catch(b){be(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,H=e;break}H=t.return}return v=Tm,Tm=!1,v}function Na(e,t,r){var n=t.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var s=n=n.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Fu(t,r,a)}s=s.next}while(s!==n)}}function kl(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function Uu(e){var t=e.ref;if(t!==null){var r=e.stateNode;switch(e.tag){case 5:e=r;break;default:e=r}typeof t=="function"?t(e):t.current=e}}function Ry(e){var t=e.alternate;t!==null&&(e.alternate=null,Ry(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[er],delete t[Ha],delete t[Eu],delete t[P1],delete t[D1])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Iy(e){return e.tag===5||e.tag===3||e.tag===4}function Pm(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Iy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(e,r)):(t=r,t.appendChild(e)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zo));else if(n!==4&&(e=e.child,e!==null))for(Wu(e,t,r),e=e.sibling;e!==null;)Wu(e,t,r),e=e.sibling}function Hu(e,t,r){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(n!==4&&(e=e.child,e!==null))for(Hu(e,t,r),e=e.sibling;e!==null;)Hu(e,t,r),e=e.sibling}var Ue=null,Ft=!1;function Pr(e,t,r){for(r=r.child;r!==null;)Ly(e,t,r),r=r.sibling}function Ly(e,t,r){if(ar&&typeof ar.onCommitFiberUnmount=="function")try{ar.onCommitFiberUnmount(yl,r)}catch{}switch(r.tag){case 5:Ye||cs(r,t);case 6:var n=Ue,s=Ft;Ue=null,Pr(e,t,r),Ue=n,Ft=s,Ue!==null&&(Ft?(e=Ue,r=r.stateNode,e.nodeType===8?e.parentNode.removeChild(r):e.removeChild(r)):Ue.removeChild(r.stateNode));break;case 18:Ue!==null&&(Ft?(e=Ue,r=r.stateNode,e.nodeType===8?kc(e.parentNode,r):e.nodeType===1&&kc(e,r),La(e)):kc(Ue,r.stateNode));break;case 4:n=Ue,s=Ft,Ue=r.stateNode.containerInfo,Ft=!0,Pr(e,t,r),Ue=n,Ft=s;break;case 0:case 11:case 14:case 15:if(!Ye&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){s=n=n.next;do{var a=s,i=a.destroy;a=a.tag,i!==void 0&&(a&2||a&4)&&Fu(r,t,i),s=s.next}while(s!==n)}Pr(e,t,r);break;case 1:if(!Ye&&(cs(r,t),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){be(r,t,l)}Pr(e,t,r);break;case 21:Pr(e,t,r);break;case 22:r.mode&1?(Ye=(n=Ye)||r.memoizedState!==null,Pr(e,t,r),Ye=n):Pr(e,t,r);break;default:Pr(e,t,r)}}function Dm(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var r=e.stateNode;r===null&&(r=e.stateNode=new G1),t.forEach(function(n){var s=n_.bind(null,e,n);r.has(n)||(r.add(n),n.then(s,s))})}}function It(e,t){var r=t.deletions;if(r!==null)for(var n=0;n<r.length;n++){var s=r[n];try{var a=e,i=t,l=i;e:for(;l!==null;){switch(l.tag){case 5:Ue=l.stateNode,Ft=!1;break e;case 3:Ue=l.stateNode.containerInfo,Ft=!0;break e;case 4:Ue=l.stateNode.containerInfo,Ft=!0;break e}l=l.return}if(Ue===null)throw Error(R(160));Ly(a,i,s),Ue=null,Ft=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(u){be(s,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)zy(t,e),t=t.sibling}function zy(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(It(t,e),Xt(e),n&4){try{Na(3,e,e.return),kl(3,e)}catch(m){be(e,e.return,m)}try{Na(5,e,e.return)}catch(m){be(e,e.return,m)}}break;case 1:It(t,e),Xt(e),n&512&&r!==null&&cs(r,r.return);break;case 5:if(It(t,e),Xt(e),n&512&&r!==null&&cs(r,r.return),e.flags&32){var s=e.stateNode;try{Ma(s,"")}catch(m){be(e,e.return,m)}}if(n&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,i=r!==null?r.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{l==="input"&&a.type==="radio"&&a.name!=null&&ov(s,a),hu(l,i);var u=hu(l,a);for(i=0;i<c.length;i+=2){var d=c[i],f=c[i+1];d==="style"?fv(s,f):d==="dangerouslySetInnerHTML"?uv(s,f):d==="children"?Ma(s,f):Od(s,d,f,u)}switch(l){case"input":lu(s,a);break;case"textarea":lv(s,a);break;case"select":var h=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var p=a.value;p!=null?ds(s,!!a.multiple,p,!1):h!==!!a.multiple&&(a.defaultValue!=null?ds(s,!!a.multiple,a.defaultValue,!0):ds(s,!!a.multiple,a.multiple?[]:"",!1))}s[Ha]=a}catch(m){be(e,e.return,m)}}break;case 6:if(It(t,e),Xt(e),n&4){if(e.stateNode===null)throw Error(R(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(m){be(e,e.return,m)}}break;case 3:if(It(t,e),Xt(e),n&4&&r!==null&&r.memoizedState.isDehydrated)try{La(t.containerInfo)}catch(m){be(e,e.return,m)}break;case 4:It(t,e),Xt(e);break;case 13:It(t,e),Xt(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(ff=ke())),n&4&&Dm(e);break;case 22:if(d=r!==null&&r.memoizedState!==null,e.mode&1?(Ye=(u=Ye)||d,It(t,e),Ye=u):It(t,e),Xt(e),n&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(H=e,d=e.child;d!==null;){for(f=H=d;H!==null;){switch(h=H,p=h.child,h.tag){case 0:case 11:case 14:case 15:Na(4,h,h.return);break;case 1:cs(h,h.return);var v=h.stateNode;if(typeof v.componentWillUnmount=="function"){n=h,r=h.return;try{t=n,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(m){be(n,r,m)}}break;case 5:cs(h,h.return);break;case 22:if(h.memoizedState!==null){$m(f);continue}}p!==null?(p.return=h,H=p):$m(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{s=f.stateNode,u?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(l=f.stateNode,c=f.memoizedProps.style,i=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=dv("display",i))}catch(m){be(e,e.return,m)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(m){be(e,e.return,m)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:It(t,e),Xt(e),n&4&&Dm(e);break;case 21:break;default:It(t,e),Xt(e)}}function Xt(e){var t=e.flags;if(t&2){try{e:{for(var r=e.return;r!==null;){if(Iy(r)){var n=r;break e}r=r.return}throw Error(R(160))}switch(n.tag){case 5:var s=n.stateNode;n.flags&32&&(Ma(s,""),n.flags&=-33);var a=Pm(e);Hu(e,a,s);break;case 3:case 4:var i=n.stateNode.containerInfo,l=Pm(e);Wu(e,l,i);break;default:throw Error(R(161))}}catch(c){be(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function K1(e,t,r){H=e,Fy(e)}function Fy(e,t,r){for(var n=(e.mode&1)!==0;H!==null;){var s=H,a=s.child;if(s.tag===22&&n){var i=s.memoizedState!==null||Zi;if(!i){var l=s.alternate,c=l!==null&&l.memoizedState!==null||Ye;l=Zi;var u=Ye;if(Zi=i,(Ye=c)&&!u)for(H=s;H!==null;)i=H,c=i.child,i.tag===22&&i.memoizedState!==null?Mm(s):c!==null?(c.return=i,H=c):Mm(s);for(;a!==null;)H=a,Fy(a),a=a.sibling;H=s,Zi=l,Ye=u}Om(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,H=a):Om(e)}}function Om(e){for(;H!==null;){var t=H;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ye||kl(5,t);break;case 1:var n=t.stateNode;if(t.flags&4&&!Ye)if(r===null)n.componentDidMount();else{var s=t.elementType===t.type?r.memoizedProps:zt(t.type,r.memoizedProps);n.componentDidUpdate(s,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&gm(t,a,n);break;case 3:var i=t.updateQueue;if(i!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}gm(t,i,r)}break;case 5:var l=t.stateNode;if(r===null&&t.flags&4){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&La(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(R(163))}Ye||t.flags&512&&Uu(t)}catch(h){be(t,t.return,h)}}if(t===e){H=null;break}if(r=t.sibling,r!==null){r.return=t.return,H=r;break}H=t.return}}function $m(e){for(;H!==null;){var t=H;if(t===e){H=null;break}var r=t.sibling;if(r!==null){r.return=t.return,H=r;break}H=t.return}}function Mm(e){for(;H!==null;){var t=H;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{kl(4,t)}catch(c){be(t,r,c)}break;case 1:var n=t.stateNode;if(typeof n.componentDidMount=="function"){var s=t.return;try{n.componentDidMount()}catch(c){be(t,s,c)}}var a=t.return;try{Uu(t)}catch(c){be(t,a,c)}break;case 5:var i=t.return;try{Uu(t)}catch(c){be(t,i,c)}}}catch(c){be(t,t.return,c)}if(t===e){H=null;break}var l=t.sibling;if(l!==null){l.return=t.return,H=l;break}H=t.return}}var X1=Math.ceil,Xo=kr.ReactCurrentDispatcher,uf=kr.ReactCurrentOwner,Dt=kr.ReactCurrentBatchConfig,te=0,Fe=null,De=null,We=0,yt=0,us=en(0),Ae=0,Ka=null,En=0,El=0,df=0,Sa=null,it=null,ff=0,Ns=1/0,hr=null,Qo=!1,Bu=null,Vr=null,eo=!1,Fr=null,Jo=0,ka=0,qu=null,_o=-1,jo=0;function nt(){return te&6?ke():_o!==-1?_o:_o=ke()}function Gr(e){return e.mode&1?te&2&&We!==0?We&-We:$1.transition!==null?(jo===0&&(jo=Nv()),jo):(e=ae,e!==0||(e=window.event,e=e===void 0?16:Dv(e.type)),e):1}function Bt(e,t,r,n){if(50<ka)throw ka=0,qu=null,Error(R(185));gi(e,r,n),(!(te&2)||e!==Fe)&&(e===Fe&&(!(te&2)&&(El|=r),Ae===4&&Ir(e,We)),dt(e,n),r===1&&te===0&&!(t.mode&1)&&(Ns=ke()+500,jl&&tn()))}function dt(e,t){var r=e.callbackNode;$b(e,t);var n=Ao(e,e===Fe?We:0);if(n===0)r!==null&&Hh(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(r!=null&&Hh(r),t===1)e.tag===0?O1(Am.bind(null,e)):Xv(Am.bind(null,e)),C1(function(){!(te&6)&&tn()}),r=null;else{switch(Sv(n)){case 1:r=Id;break;case 4:r=_v;break;case 16:r=Mo;break;case 536870912:r=jv;break;default:r=Mo}r=Yy(r,Uy.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function Uy(e,t){if(_o=-1,jo=0,te&6)throw Error(R(327));var r=e.callbackNode;if(gs()&&e.callbackNode!==r)return null;var n=Ao(e,e===Fe?We:0);if(n===0)return null;if(n&30||n&e.expiredLanes||t)t=Zo(e,n);else{t=n;var s=te;te|=2;var a=Hy();(Fe!==e||We!==t)&&(hr=null,Ns=ke()+500,wn(e,t));do try{Z1();break}catch(l){Wy(e,l)}while(!0);Xd(),Xo.current=a,te=s,De!==null?t=0:(Fe=null,We=0,t=Ae)}if(t!==0){if(t===2&&(s=yu(e),s!==0&&(n=s,t=Vu(e,s))),t===1)throw r=Ka,wn(e,0),Ir(e,n),dt(e,ke()),r;if(t===6)Ir(e,n);else{if(s=e.current.alternate,!(n&30)&&!Q1(s)&&(t=Zo(e,n),t===2&&(a=yu(e),a!==0&&(n=a,t=Vu(e,a))),t===1))throw r=Ka,wn(e,0),Ir(e,n),dt(e,ke()),r;switch(e.finishedWork=s,e.finishedLanes=n,t){case 0:case 1:throw Error(R(345));case 2:dn(e,it,hr);break;case 3:if(Ir(e,n),(n&130023424)===n&&(t=ff+500-ke(),10<t)){if(Ao(e,0)!==0)break;if(s=e.suspendedLanes,(s&n)!==n){nt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=ku(dn.bind(null,e,it,hr),t);break}dn(e,it,hr);break;case 4:if(Ir(e,n),(n&4194240)===n)break;for(t=e.eventTimes,s=-1;0<n;){var i=31-Ht(n);a=1<<i,i=t[i],i>s&&(s=i),n&=~a}if(n=s,n=ke()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*X1(n/1960))-n,10<n){e.timeoutHandle=ku(dn.bind(null,e,it,hr),n);break}dn(e,it,hr);break;case 5:dn(e,it,hr);break;default:throw Error(R(329))}}}return dt(e,ke()),e.callbackNode===r?Uy.bind(null,e):null}function Vu(e,t){var r=Sa;return e.current.memoizedState.isDehydrated&&(wn(e,t).flags|=256),e=Zo(e,t),e!==2&&(t=it,it=r,t!==null&&Gu(t)),e}function Gu(e){it===null?it=e:it.push.apply(it,e)}function Q1(e){for(var t=e;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var s=r[n],a=s.getSnapshot;s=s.value;try{if(!qt(a(),s))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Ir(e,t){for(t&=~df,t&=~El,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-Ht(t),n=1<<r;e[r]=-1,t&=~n}}function Am(e){if(te&6)throw Error(R(327));gs();var t=Ao(e,0);if(!(t&1))return dt(e,ke()),null;var r=Zo(e,t);if(e.tag!==0&&r===2){var n=yu(e);n!==0&&(t=n,r=Vu(e,n))}if(r===1)throw r=Ka,wn(e,0),Ir(e,t),dt(e,ke()),r;if(r===6)throw Error(R(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,dn(e,it,hr),dt(e,ke()),null}function hf(e,t){var r=te;te|=1;try{return e(t)}finally{te=r,te===0&&(Ns=ke()+500,jl&&tn())}}function Cn(e){Fr!==null&&Fr.tag===0&&!(te&6)&&gs();var t=te;te|=1;var r=Dt.transition,n=ae;try{if(Dt.transition=null,ae=1,e)return e()}finally{ae=n,Dt.transition=r,te=t,!(te&6)&&tn()}}function mf(){yt=us.current,me(us)}function wn(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(r!==-1&&(e.timeoutHandle=-1,E1(r)),De!==null)for(r=De.return;r!==null;){var n=r;switch(Gd(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Fo();break;case 3:_s(),me(ct),me(Xe),rf();break;case 5:tf(n);break;case 4:_s();break;case 13:me(ve);break;case 19:me(ve);break;case 10:Qd(n.type._context);break;case 22:case 23:mf()}r=r.return}if(Fe=e,De=e=Yr(e.current,null),We=yt=t,Ae=0,Ka=null,df=El=En=0,it=Sa=null,yn!==null){for(t=0;t<yn.length;t++)if(r=yn[t],n=r.interleaved,n!==null){r.interleaved=null;var s=n.next,a=r.pending;if(a!==null){var i=a.next;a.next=s,n.next=i}r.pending=n}yn=null}return e}function Wy(e,t){do{var r=De;try{if(Xd(),xo.current=Ko,Yo){for(var n=xe.memoizedState;n!==null;){var s=n.queue;s!==null&&(s.pending=null),n=n.next}Yo=!1}if(kn=0,ze=Me=xe=null,ja=!1,Va=0,uf.current=null,r===null||r.return===null){Ae=1,Ka=t,De=null;break}e:{var a=e,i=r.return,l=r,c=t;if(t=We,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=l,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=_m(i);if(p!==null){p.flags&=-257,jm(p,i,l,a,t),p.mode&1&&bm(a,u,t),t=p,c=u;var v=t.updateQueue;if(v===null){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}else{if(!(t&1)){bm(a,u,t),pf();break e}c=Error(R(426))}}else if(pe&&l.mode&1){var w=_m(i);if(w!==null){!(w.flags&65536)&&(w.flags|=256),jm(w,i,l,a,t),Yd(js(c,l));break e}}a=c=js(c,l),Ae!==4&&(Ae=2),Sa===null?Sa=[a]:Sa.push(a),a=i;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var x=Sy(a,c,t);pm(a,x);break e;case 1:l=c;var g=a.type,y=a.stateNode;if(!(a.flags&128)&&(typeof g.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(Vr===null||!Vr.has(y)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=ky(a,l,t);pm(a,b);break e}}a=a.return}while(a!==null)}qy(r)}catch(j){t=j,De===r&&r!==null&&(De=r=r.return);continue}break}while(!0)}function Hy(){var e=Xo.current;return Xo.current=Ko,e===null?Ko:e}function pf(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Fe===null||!(En&268435455)&&!(El&268435455)||Ir(Fe,We)}function Zo(e,t){var r=te;te|=2;var n=Hy();(Fe!==e||We!==t)&&(hr=null,wn(e,t));do try{J1();break}catch(s){Wy(e,s)}while(!0);if(Xd(),te=r,Xo.current=n,De!==null)throw Error(R(261));return Fe=null,We=0,Ae}function J1(){for(;De!==null;)By(De)}function Z1(){for(;De!==null&&!Nb();)By(De)}function By(e){var t=Gy(e.alternate,e,yt);e.memoizedProps=e.pendingProps,t===null?qy(e):De=t,uf.current=null}function qy(e){var t=e;do{var r=t.alternate;if(e=t.return,t.flags&32768){if(r=V1(r,t),r!==null){r.flags&=32767,De=r;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,De=null;return}}else if(r=q1(r,t,yt),r!==null){De=r;return}if(t=t.sibling,t!==null){De=t;return}De=t=e}while(t!==null);Ae===0&&(Ae=5)}function dn(e,t,r){var n=ae,s=Dt.transition;try{Dt.transition=null,ae=1,e_(e,t,r,n)}finally{Dt.transition=s,ae=n}return null}function e_(e,t,r,n){do gs();while(Fr!==null);if(te&6)throw Error(R(327));r=e.finishedWork;var s=e.finishedLanes;if(r===null)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(R(177));e.callbackNode=null,e.callbackPriority=0;var a=r.lanes|r.childLanes;if(Mb(e,a),e===Fe&&(De=Fe=null,We=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||eo||(eo=!0,Yy(Mo,function(){return gs(),null})),a=(r.flags&15990)!==0,r.subtreeFlags&15990||a){a=Dt.transition,Dt.transition=null;var i=ae;ae=1;var l=te;te|=4,uf.current=null,Y1(e,r),zy(r,e),w1(Nu),Ro=!!ju,Nu=ju=null,e.current=r,K1(r),Sb(),te=l,ae=i,Dt.transition=a}else e.current=r;if(eo&&(eo=!1,Fr=e,Jo=s),a=e.pendingLanes,a===0&&(Vr=null),Cb(r.stateNode),dt(e,ke()),t!==null)for(n=e.onRecoverableError,r=0;r<t.length;r++)s=t[r],n(s.value,{componentStack:s.stack,digest:s.digest});if(Qo)throw Qo=!1,e=Bu,Bu=null,e;return Jo&1&&e.tag!==0&&gs(),a=e.pendingLanes,a&1?e===qu?ka++:(ka=0,qu=e):ka=0,tn(),null}function gs(){if(Fr!==null){var e=Sv(Jo),t=Dt.transition,r=ae;try{if(Dt.transition=null,ae=16>e?16:e,Fr===null)var n=!1;else{if(e=Fr,Fr=null,Jo=0,te&6)throw Error(R(331));var s=te;for(te|=4,H=e.current;H!==null;){var a=H,i=a.child;if(H.flags&16){var l=a.deletions;if(l!==null){for(var c=0;c<l.length;c++){var u=l[c];for(H=u;H!==null;){var d=H;switch(d.tag){case 0:case 11:case 15:Na(8,d,a)}var f=d.child;if(f!==null)f.return=d,H=f;else for(;H!==null;){d=H;var h=d.sibling,p=d.return;if(Ry(d),d===u){H=null;break}if(h!==null){h.return=p,H=h;break}H=p}}}var v=a.alternate;if(v!==null){var m=v.child;if(m!==null){v.child=null;do{var w=m.sibling;m.sibling=null,m=w}while(m!==null)}}H=a}}if(a.subtreeFlags&2064&&i!==null)i.return=a,H=i;else e:for(;H!==null;){if(a=H,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Na(9,a,a.return)}var x=a.sibling;if(x!==null){x.return=a.return,H=x;break e}H=a.return}}var g=e.current;for(H=g;H!==null;){i=H;var y=i.child;if(i.subtreeFlags&2064&&y!==null)y.return=i,H=y;else e:for(i=g;H!==null;){if(l=H,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:kl(9,l)}}catch(j){be(l,l.return,j)}if(l===i){H=null;break e}var b=l.sibling;if(b!==null){b.return=l.return,H=b;break e}H=l.return}}if(te=s,tn(),ar&&typeof ar.onPostCommitFiberRoot=="function")try{ar.onPostCommitFiberRoot(yl,e)}catch{}n=!0}return n}finally{ae=r,Dt.transition=t}}return!1}function Rm(e,t,r){t=js(r,t),t=Sy(e,t,1),e=qr(e,t,1),t=nt(),e!==null&&(gi(e,1,t),dt(e,t))}function be(e,t,r){if(e.tag===3)Rm(e,e,r);else for(;t!==null;){if(t.tag===3){Rm(t,e,r);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Vr===null||!Vr.has(n))){e=js(r,e),e=ky(t,e,1),t=qr(t,e,1),e=nt(),t!==null&&(gi(t,1,e),dt(t,e));break}}t=t.return}}function t_(e,t,r){var n=e.pingCache;n!==null&&n.delete(t),t=nt(),e.pingedLanes|=e.suspendedLanes&r,Fe===e&&(We&r)===r&&(Ae===4||Ae===3&&(We&130023424)===We&&500>ke()-ff?wn(e,0):df|=r),dt(e,t)}function Vy(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var r=nt();e=br(e,t),e!==null&&(gi(e,t,r),dt(e,r))}function r_(e){var t=e.memoizedState,r=0;t!==null&&(r=t.retryLane),Vy(e,r)}function n_(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(r=s.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(R(314))}n!==null&&n.delete(t),Vy(e,r)}var Gy;Gy=function(e,t,r){if(e!==null)if(e.memoizedProps!==t.pendingProps||ct.current)lt=!0;else{if(!(e.lanes&r)&&!(t.flags&128))return lt=!1,B1(e,t,r);lt=!!(e.flags&131072)}else lt=!1,pe&&t.flags&1048576&&Qv(t,Ho,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;bo(e,t),e=t.pendingProps;var s=xs(t,Xe.current);ps(t,r),s=sf(null,t,n,e,s,r);var a=af();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ut(n)?(a=!0,Uo(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Zd(t),s.updater=Sl,t.stateNode=s,s._reactInternals=t,$u(t,n,e,r),t=Ru(null,t,n,!0,a,r)):(t.tag=0,pe&&a&&Vd(t),tt(null,t,s,r),t=t.child),t;case 16:n=t.elementType;e:{switch(bo(e,t),e=t.pendingProps,s=n._init,n=s(n._payload),t.type=n,s=t.tag=a_(n),e=zt(n,e),s){case 0:t=Au(null,t,n,e,r);break e;case 1:t=km(null,t,n,e,r);break e;case 11:t=Nm(null,t,n,e,r);break e;case 14:t=Sm(null,t,n,zt(n.type,e),r);break e}throw Error(R(306,n,""))}return t;case 0:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Au(e,t,n,s,r);case 1:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),km(e,t,n,s,r);case 3:e:{if(Py(t),e===null)throw Error(R(387));n=t.pendingProps,a=t.memoizedState,s=a.element,ny(e,t),Vo(t,n,null,r);var i=t.memoizedState;if(n=i.element,a.isDehydrated)if(a={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=js(Error(R(423)),t),t=Em(e,t,n,r,s);break e}else if(n!==s){s=js(Error(R(424)),t),t=Em(e,t,n,r,s);break e}else for(xt=Br(t.stateNode.containerInfo.firstChild),wt=t,pe=!0,Wt=null,r=ty(t,null,n,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(ws(),n===s){t=_r(e,t,r);break e}tt(e,t,n,r)}t=t.child}return t;case 5:return sy(t),e===null&&Pu(t),n=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,i=s.children,Su(n,s)?i=null:a!==null&&Su(n,a)&&(t.flags|=32),Ty(e,t),tt(e,t,i,r),t.child;case 6:return e===null&&Pu(t),null;case 13:return Dy(e,t,r);case 4:return ef(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=bs(t,null,n,r):tt(e,t,n,r),t.child;case 11:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),Nm(e,t,n,s,r);case 7:return tt(e,t,t.pendingProps,r),t.child;case 8:return tt(e,t,t.pendingProps.children,r),t.child;case 12:return tt(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,s=t.pendingProps,a=t.memoizedProps,i=s.value,ue(Bo,n._currentValue),n._currentValue=i,a!==null)if(qt(a.value,i)){if(a.children===s.children&&!ct.current){t=_r(e,t,r);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var l=a.dependencies;if(l!==null){i=a.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(a.tag===1){c=yr(-1,r&-r),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=r,c=a.alternate,c!==null&&(c.lanes|=r),Du(a.return,r,t),l.lanes|=r;break}c=c.next}}else if(a.tag===10)i=a.type===t.type?null:a.child;else if(a.tag===18){if(i=a.return,i===null)throw Error(R(341));i.lanes|=r,l=i.alternate,l!==null&&(l.lanes|=r),Du(i,r,t),i=a.sibling}else i=a.child;if(i!==null)i.return=a;else for(i=a;i!==null;){if(i===t){i=null;break}if(a=i.sibling,a!==null){a.return=i.return,i=a;break}i=i.return}a=i}tt(e,t,s.children,r),t=t.child}return t;case 9:return s=t.type,n=t.pendingProps.children,ps(t,r),s=Ot(s),n=n(s),t.flags|=1,tt(e,t,n,r),t.child;case 14:return n=t.type,s=zt(n,t.pendingProps),s=zt(n.type,s),Sm(e,t,n,s,r);case 15:return Ey(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,s=t.pendingProps,s=t.elementType===n?s:zt(n,s),bo(e,t),t.tag=1,ut(n)?(e=!0,Uo(t)):e=!1,ps(t,r),Ny(t,n,s),$u(t,n,s,r),Ru(null,t,n,!0,e,r);case 19:return Oy(e,t,r);case 22:return Cy(e,t,r)}throw Error(R(156,t.tag))};function Yy(e,t){return bv(e,t)}function s_(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pt(e,t,r,n){return new s_(e,t,r,n)}function gf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function a_(e){if(typeof e=="function")return gf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Md)return 11;if(e===Ad)return 14}return 2}function Yr(e,t){var r=e.alternate;return r===null?(r=Pt(e.tag,t,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&14680064,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function No(e,t,r,n,s,a){var i=2;if(n=e,typeof e=="function")gf(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case es:return bn(r.children,s,a,t);case $d:i=8,s|=8;break;case nu:return e=Pt(12,r,t,s|2),e.elementType=nu,e.lanes=a,e;case su:return e=Pt(13,r,t,s),e.elementType=su,e.lanes=a,e;case au:return e=Pt(19,r,t,s),e.elementType=au,e.lanes=a,e;case sv:return Cl(r,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case rv:i=10;break e;case nv:i=9;break e;case Md:i=11;break e;case Ad:i=14;break e;case Mr:i=16,n=null;break e}throw Error(R(130,e==null?e:typeof e,""))}return t=Pt(i,r,t,s),t.elementType=e,t.type=n,t.lanes=a,t}function bn(e,t,r,n){return e=Pt(7,e,n,t),e.lanes=r,e}function Cl(e,t,r,n){return e=Pt(22,e,n,t),e.elementType=sv,e.lanes=r,e.stateNode={isHidden:!1},e}function Mc(e,t,r){return e=Pt(6,e,null,t),e.lanes=r,e}function Ac(e,t,r){return t=Pt(4,e.children!==null?e.children:[],e.key,t),t.lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function i_(e,t,r,n,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pc(0),this.expirationTimes=pc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pc(0),this.identifierPrefix=n,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function vf(e,t,r,n,s,a,i,l,c){return e=new i_(e,t,r,l,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=Pt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zd(a),e}function o_(e,t,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Zn,key:n==null?null:""+n,children:e,containerInfo:t,implementation:r}}function Ky(e){if(!e)return Xr;e=e._reactInternals;e:{if(Ln(e)!==e||e.tag!==1)throw Error(R(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ut(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(R(171))}if(e.tag===1){var r=e.type;if(ut(r))return Kv(e,r,t)}return t}function Xy(e,t,r,n,s,a,i,l,c){return e=vf(r,n,!0,e,s,a,i,l,c),e.context=Ky(null),r=e.current,n=nt(),s=Gr(r),a=yr(n,s),a.callback=t??null,qr(r,a,s),e.current.lanes=s,gi(e,s,n),dt(e,n),e}function Tl(e,t,r,n){var s=t.current,a=nt(),i=Gr(s);return r=Ky(r),t.context===null?t.context=r:t.pendingContext=r,t=yr(a,i),t.payload={element:e},n=n===void 0?null:n,n!==null&&(t.callback=n),e=qr(s,t,i),e!==null&&(Bt(e,s,i,a),yo(e,s,i)),i}function el(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Im(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<t?r:t}}function yf(e,t){Im(e,t),(e=e.alternate)&&Im(e,t)}function l_(){return null}var Qy=typeof reportError=="function"?reportError:function(e){console.error(e)};function xf(e){this._internalRoot=e}Pl.prototype.render=xf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(R(409));Tl(e,t,null,null)};Pl.prototype.unmount=xf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Cn(function(){Tl(null,e,null,null)}),t[wr]=null}};function Pl(e){this._internalRoot=e}Pl.prototype.unstable_scheduleHydration=function(e){if(e){var t=Cv();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Rr.length&&t!==0&&t<Rr[r].priority;r++);Rr.splice(r,0,e),r===0&&Pv(e)}};function wf(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Dl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Lm(){}function c_(e,t,r,n,s){if(s){if(typeof n=="function"){var a=n;n=function(){var u=el(i);a.call(u)}}var i=Xy(t,n,e,0,null,!1,!1,"",Lm);return e._reactRootContainer=i,e[wr]=i.current,Ua(e.nodeType===8?e.parentNode:e),Cn(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof n=="function"){var l=n;n=function(){var u=el(c);l.call(u)}}var c=vf(e,0,!1,null,null,!1,!1,"",Lm);return e._reactRootContainer=c,e[wr]=c.current,Ua(e.nodeType===8?e.parentNode:e),Cn(function(){Tl(t,c,r,n)}),c}function Ol(e,t,r,n,s){var a=r._reactRootContainer;if(a){var i=a;if(typeof s=="function"){var l=s;s=function(){var c=el(i);l.call(c)}}Tl(t,i,e,s)}else i=c_(r,t,e,s,n);return el(i)}kv=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=ma(t.pendingLanes);r!==0&&(Ld(t,r|1),dt(t,ke()),!(te&6)&&(Ns=ke()+500,tn()))}break;case 13:Cn(function(){var n=br(e,1);if(n!==null){var s=nt();Bt(n,e,1,s)}}),yf(e,1)}};zd=function(e){if(e.tag===13){var t=br(e,134217728);if(t!==null){var r=nt();Bt(t,e,134217728,r)}yf(e,134217728)}};Ev=function(e){if(e.tag===13){var t=Gr(e),r=br(e,t);if(r!==null){var n=nt();Bt(r,e,t,n)}yf(e,t)}};Cv=function(){return ae};Tv=function(e,t){var r=ae;try{return ae=e,t()}finally{ae=r}};pu=function(e,t,r){switch(t){case"input":if(lu(e,r),t=r.name,r.type==="radio"&&t!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var s=_l(n);if(!s)throw Error(R(90));iv(n),lu(n,s)}}}break;case"textarea":lv(e,r);break;case"select":t=r.value,t!=null&&ds(e,!!r.multiple,t,!1)}};pv=hf;gv=Cn;var u_={usingClientEntryPoint:!1,Events:[yi,ss,_l,hv,mv,hf]},oa={findFiberByHostInstance:vn,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},d_={bundleType:oa.bundleType,version:oa.version,rendererPackageName:oa.rendererPackageName,rendererConfig:oa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:kr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=xv(e),e===null?null:e.stateNode},findFiberByHostInstance:oa.findFiberByHostInstance||l_,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{yl=to.inject(d_),ar=to}catch{}}Nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u_;Nt.createPortal=function(e,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wf(t))throw Error(R(200));return o_(e,t,null,r)};Nt.createRoot=function(e,t){if(!wf(e))throw Error(R(299));var r=!1,n="",s=Qy;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=vf(e,1,!1,null,null,r,!1,n,s),e[wr]=t.current,Ua(e.nodeType===8?e.parentNode:e),new xf(t)};Nt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(R(188)):(e=Object.keys(e).join(","),Error(R(268,e)));return e=xv(t),e=e===null?null:e.stateNode,e};Nt.flushSync=function(e){return Cn(e)};Nt.hydrate=function(e,t,r){if(!Dl(t))throw Error(R(200));return Ol(null,e,t,!0,r)};Nt.hydrateRoot=function(e,t,r){if(!wf(e))throw Error(R(405));var n=r!=null&&r.hydratedSources||null,s=!1,a="",i=Qy;if(r!=null&&(r.unstable_strictMode===!0&&(s=!0),r.identifierPrefix!==void 0&&(a=r.identifierPrefix),r.onRecoverableError!==void 0&&(i=r.onRecoverableError)),t=Xy(t,null,e,1,r??null,s,!1,a,i),e[wr]=t.current,Ua(e),n)for(e=0;e<n.length;e++)r=n[e],s=r._getVersion,s=s(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,s]:t.mutableSourceEagerHydrationData.push(r,s);return new Pl(t)};Nt.render=function(e,t,r){if(!Dl(t))throw Error(R(200));return Ol(null,e,t,!1,r)};Nt.unmountComponentAtNode=function(e){if(!Dl(e))throw Error(R(40));return e._reactRootContainer?(Cn(function(){Ol(null,null,e,!1,function(){e._reactRootContainer=null,e[wr]=null})}),!0):!1};Nt.unstable_batchedUpdates=hf;Nt.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!Dl(r))throw Error(R(200));if(e==null||e._reactInternals===void 0)throw Error(R(38));return Ol(e,t,r,!1,n)};Nt.version="18.3.1-next-f1338f8080-20240426";function Jy(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Jy)}catch(e){console.error(e)}}Jy(),Jg.exports=Nt;var Zy=Jg.exports;const e0=vt(Zy);var t0,zm=Zy;t0=zm.createRoot,zm.hydrateRoot;const r0=E.createContext(void 0),f_=({children:e})=>{const[t,r]=E.useState("es");return o.jsx(r0.Provider,{value:{language:t,setLanguage:r},children:e})},ie=()=>{const e=E.useContext(r0);if(!e)throw new Error("useLanguage must be used within a LanguageProvider");return e},h_="modulepreload",m_=function(e){return"/"+e},Fm={},wi=function(t,r,n){let s=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),l=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(r.map(c=>{if(c=m_(c),c in Fm)return;Fm[c]=!0;const u=c.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const f=document.createElement("link");if(f.rel=u?"stylesheet":h_,u||(f.as="script"),f.crossOrigin="",f.href=c,l&&f.setAttribute("nonce",l),document.head.appendChild(f),u)return new Promise((h,p)=>{f.addEventListener("load",h),f.addEventListener("error",()=>p(new Error(`Unable to preload CSS for ${c}`)))})}))}function a(i){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=i,window.dispatchEvent(l),!l.defaultPrevented)throw i}return s.then(i=>{for(const l of i||[])l.status==="rejected"&&a(l.reason);return t().catch(a)})},p_=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)};class bf extends Error{constructor(t,r="FunctionsError",n){super(t),this.name=r,this.context=n}}class g_ extends bf{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class Um extends bf{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class Wm extends bf{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Yu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(Yu||(Yu={}));var v_=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class y_{constructor(t,{headers:r={},customFetch:n,region:s=Yu.Any}={}){this.url=t,this.headers=r,this.region=s,this.fetch=p_(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,r={}){var n;return v_(this,void 0,void 0,function*(){try{const{headers:s,method:a,body:i}=r;let l={},{region:c}=r;c||(c=this.region);const u=new URL(`${this.url}/${t}`);c&&c!=="any"&&(l["x-region"]=c,u.searchParams.set("forceFunctionRegion",c));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(l["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(l["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(l["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(u.toString(),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},l),this.headers),s),body:d}).catch(m=>{throw new g_(m)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new Um(f);if(!f.ok)throw new Wm(f);let p=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),v;return p==="application/json"?v=yield f.json():p==="application/octet-stream"?v=yield f.blob():p==="text/event-stream"?v=f:p==="multipart/form-data"?v=yield f.formData():v=yield f.text(),{data:v,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof Wm||s instanceof Um?s.context:void 0}}})}}var ot={},_f={},$l={},bi={},Ml={},Al={},x_=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Ss=x_();const w_=Ss.fetch,n0=Ss.fetch.bind(Ss),s0=Ss.Headers,b_=Ss.Request,__=Ss.Response,Ls=Object.freeze(Object.defineProperty({__proto__:null,Headers:s0,Request:b_,Response:__,default:n0,fetch:w_},Symbol.toStringTag,{value:"Module"})),j_=Fw(Ls);var Rl={};Object.defineProperty(Rl,"__esModule",{value:!0});let N_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Rl.default=N_;var a0=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Al,"__esModule",{value:!0});const S_=a0(j_),k_=a0(Rl);let E_=class{constructor(t){var r,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(r=t.shouldThrowOnError)!==null&&r!==void 0?r:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=S_.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,r){return this.headers=new Headers(this.headers),this.headers.set(t,r),this}then(t,r){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async a=>{var i,l,c,u;let d=null,f=null,h=null,p=a.status,v=a.statusText;if(a.ok){if(this.method!=="HEAD"){const g=await a.text();g===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((i=this.headers.get("Accept"))===null||i===void 0)&&i.includes("application/vnd.pgrst.plan+text"))?f=g:f=JSON.parse(g))}const w=(l=this.headers.get("Prefer"))===null||l===void 0?void 0:l.match(/count=(exact|planned|estimated)/),x=(c=a.headers.get("content-range"))===null||c===void 0?void 0:c.split("/");w&&x&&x.length>1&&(h=parseInt(x[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(f)&&(f.length>1?(d={code:"PGRST116",details:`Results contain ${f.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},f=null,h=null,p=406,v="Not Acceptable"):f.length===1?f=f[0]:f=null)}else{const w=await a.text();try{d=JSON.parse(w),Array.isArray(d)&&a.status===404&&(f=[],d=null,p=200,v="OK")}catch{a.status===404&&w===""?(p=204,v="No Content"):d={message:w}}if(d&&this.isMaybeSingle&&(!((u=d==null?void 0:d.details)===null||u===void 0)&&u.includes("0 rows"))&&(d=null,p=200,v="OK"),d&&this.shouldThrowOnError)throw new k_.default(d)}return{error:d,data:f,count:h,status:p,statusText:v}});return this.shouldThrowOnError||(s=s.catch(a=>{var i,l,c;return{error:{message:`${(i=a==null?void 0:a.name)!==null&&i!==void 0?i:"FetchError"}: ${a==null?void 0:a.message}`,details:`${(l=a==null?void 0:a.stack)!==null&&l!==void 0?l:""}`,hint:"",code:`${(c=a==null?void 0:a.code)!==null&&c!==void 0?c:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,r)}returns(){return this}overrideTypes(){return this}};Al.default=E_;var C_=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ml,"__esModule",{value:!0});const T_=C_(Al);let P_=class extends T_.default{select(t){let r=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!r?"":(s==='"'&&(r=!r),s)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:r=!0,nullsFirst:n,foreignTable:s,referencedTable:a=s}={}){const i=a?`${a}.order`:"order",l=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${l?`${l},`:""}${t}.${r?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:r,referencedTable:n=r}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,r,{foreignTable:n,referencedTable:s=n}={}){const a=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(a,`${t}`),this.url.searchParams.set(i,`${r-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:r=!1,settings:n=!1,buffers:s=!1,wal:a=!1,format:i="text"}={}){var l;const c=[t?"analyze":null,r?"verbose":null,n?"settings":null,s?"buffers":null,a?"wal":null].filter(Boolean).join("|"),u=(l=this.headers.get("Accept"))!==null&&l!==void 0?l:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${i}; for="${u}"; options=${c};`),i==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};Ml.default=P_;var D_=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(bi,"__esModule",{value:!0});const O_=D_(Ml);let $_=class extends O_.default{eq(t,r){return this.url.searchParams.append(t,`eq.${r}`),this}neq(t,r){return this.url.searchParams.append(t,`neq.${r}`),this}gt(t,r){return this.url.searchParams.append(t,`gt.${r}`),this}gte(t,r){return this.url.searchParams.append(t,`gte.${r}`),this}lt(t,r){return this.url.searchParams.append(t,`lt.${r}`),this}lte(t,r){return this.url.searchParams.append(t,`lte.${r}`),this}like(t,r){return this.url.searchParams.append(t,`like.${r}`),this}likeAllOf(t,r){return this.url.searchParams.append(t,`like(all).{${r.join(",")}}`),this}likeAnyOf(t,r){return this.url.searchParams.append(t,`like(any).{${r.join(",")}}`),this}ilike(t,r){return this.url.searchParams.append(t,`ilike.${r}`),this}ilikeAllOf(t,r){return this.url.searchParams.append(t,`ilike(all).{${r.join(",")}}`),this}ilikeAnyOf(t,r){return this.url.searchParams.append(t,`ilike(any).{${r.join(",")}}`),this}is(t,r){return this.url.searchParams.append(t,`is.${r}`),this}in(t,r){const n=Array.from(new Set(r)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cs.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cs.{${r.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(r)}`),this}containedBy(t,r){return typeof r=="string"?this.url.searchParams.append(t,`cd.${r}`):Array.isArray(r)?this.url.searchParams.append(t,`cd.{${r.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(r)}`),this}rangeGt(t,r){return this.url.searchParams.append(t,`sr.${r}`),this}rangeGte(t,r){return this.url.searchParams.append(t,`nxl.${r}`),this}rangeLt(t,r){return this.url.searchParams.append(t,`sl.${r}`),this}rangeLte(t,r){return this.url.searchParams.append(t,`nxr.${r}`),this}rangeAdjacent(t,r){return this.url.searchParams.append(t,`adj.${r}`),this}overlaps(t,r){return typeof r=="string"?this.url.searchParams.append(t,`ov.${r}`):this.url.searchParams.append(t,`ov.{${r.join(",")}}`),this}textSearch(t,r,{config:n,type:s}={}){let a="";s==="plain"?a="pl":s==="phrase"?a="ph":s==="websearch"&&(a="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${a}fts${i}.${r}`),this}match(t){return Object.entries(t).forEach(([r,n])=>{this.url.searchParams.append(r,`eq.${n}`)}),this}not(t,r,n){return this.url.searchParams.append(t,`not.${r}.${n}`),this}or(t,{foreignTable:r,referencedTable:n=r}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,r,n){return this.url.searchParams.append(t,`${r}.${n}`),this}};bi.default=$_;var M_=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty($l,"__esModule",{value:!0});const la=M_(bi);let A_=class{constructor(t,{headers:r={},schema:n,fetch:s}){this.url=t,this.headers=new Headers(r),this.schema=n,this.fetch=s}select(t,{head:r=!1,count:n}={}){const s=r?"HEAD":"GET";let a=!1;const i=(t??"*").split("").map(l=>/\s/.test(l)&&!a?"":(l==='"'&&(a=!a),l)).join("");return this.url.searchParams.set("select",i),n&&this.headers.append("Prefer",`count=${n}`),new la.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:r,defaultToNull:n=!0}={}){var s;const a="POST";if(r&&this.headers.append("Prefer",`count=${r}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const i=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(i.length>0){const l=[...new Set(i)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new la.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}upsert(t,{onConflict:r,ignoreDuplicates:n=!1,count:s,defaultToNull:a=!0}={}){var i;const l="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),r!==void 0&&this.url.searchParams.set("on_conflict",r),s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const c=t.reduce((u,d)=>u.concat(Object.keys(d)),[]);if(c.length>0){const u=[...new Set(c)].map(d=>`"${d}"`);this.url.searchParams.set("columns",u.join(","))}}return new la.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}update(t,{count:r}={}){var n;const s="PATCH";return r&&this.headers.append("Prefer",`count=${r}`),new la.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var r;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new la.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}};$l.default=A_;var i0=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(_f,"__esModule",{value:!0});const R_=i0($l),I_=i0(bi);let L_=class o0{constructor(t,{headers:r={},schema:n,fetch:s}={}){this.url=t,this.headers=new Headers(r),this.schemaName=n,this.fetch=s}from(t){const r=new URL(`${this.url}/${t}`);return new R_.default(r,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new o0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,r={},{head:n=!1,get:s=!1,count:a}={}){var i;let l;const c=new URL(`${this.url}/rpc/${t}`);let u;n||s?(l=n?"HEAD":"GET",Object.entries(r).filter(([f,h])=>h!==void 0).map(([f,h])=>[f,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([f,h])=>{c.searchParams.append(f,h)})):(l="POST",u=r);const d=new Headers(this.headers);return a&&d.set("Prefer",`count=${a}`),new I_.default({method:l,url:c,headers:d,schema:this.schemaName,body:u,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch})}};_f.default=L_;var zs=ge&&ge.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ot,"__esModule",{value:!0});ot.PostgrestError=ot.PostgrestBuilder=ot.PostgrestTransformBuilder=ot.PostgrestFilterBuilder=ot.PostgrestQueryBuilder=ot.PostgrestClient=void 0;const l0=zs(_f);ot.PostgrestClient=l0.default;const c0=zs($l);ot.PostgrestQueryBuilder=c0.default;const u0=zs(bi);ot.PostgrestFilterBuilder=u0.default;const d0=zs(Ml);ot.PostgrestTransformBuilder=d0.default;const f0=zs(Al);ot.PostgrestBuilder=f0.default;const h0=zs(Rl);ot.PostgrestError=h0.default;var z_=ot.default={PostgrestClient:l0.default,PostgrestQueryBuilder:c0.default,PostgrestFilterBuilder:u0.default,PostgrestTransformBuilder:d0.default,PostgrestBuilder:f0.default,PostgrestError:h0.default};const{PostgrestClient:F_,PostgrestQueryBuilder:kU,PostgrestFilterBuilder:EU,PostgrestTransformBuilder:CU,PostgrestBuilder:TU,PostgrestError:PU}=z_;class U_{static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,s=parseInt(n.replace(/^v/,"").split(".")[0]);return s>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${s} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${s} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let r=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(r+=`

Suggested solution: ${t.workaround}`),new Error(r)}static createWebSocket(t,r){const n=this.getWebSocketConstructor();return new n(t,r)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const W_="2.15.5",H_=`realtime-js/${W_}`,B_="1.0.0",Ku=1e4,q_=1e3,V_=100;var Ea;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(Ea||(Ea={}));var Oe;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Oe||(Oe={}));var Ut;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(Ut||(Ut={}));var Xu;(function(e){e.websocket="websocket"})(Xu||(Xu={}));var pn;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(pn||(pn={}));class G_{constructor(){this.HEADER_LENGTH=1}decode(t,r){return t.constructor===ArrayBuffer?r(this._binaryDecode(t)):r(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const r=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,r,n)}_decodeBroadcast(t,r,n){const s=r.getUint8(1),a=r.getUint8(2);let i=this.HEADER_LENGTH+2;const l=n.decode(t.slice(i,i+s));i=i+s;const c=n.decode(t.slice(i,i+a));i=i+a;const u=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:l,event:c,payload:u}}}class m0{constructor(t,r){this.callback=t,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var le;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(le||(le={}));const Hm=(e,t,r={})=>{var n;const s=(n=r.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((a,i)=>(a[i]=Y_(i,e,t,s),a),{})},Y_=(e,t,r,n)=>{const s=t.find(l=>l.name===e),a=s==null?void 0:s.type,i=r[e];return a&&!n.includes(a)?p0(a,i):Qu(i)},p0=(e,t)=>{if(e.charAt(0)==="_"){const r=e.slice(1,e.length);return J_(t,r)}switch(e){case le.bool:return K_(t);case le.float4:case le.float8:case le.int2:case le.int4:case le.int8:case le.numeric:case le.oid:return X_(t);case le.json:case le.jsonb:return Q_(t);case le.timestamp:return Z_(t);case le.abstime:case le.date:case le.daterange:case le.int4range:case le.int8range:case le.money:case le.reltime:case le.text:case le.time:case le.timestamptz:case le.timetz:case le.tsrange:case le.tstzrange:return Qu(t);default:return Qu(t)}},Qu=e=>e,K_=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},X_=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Q_=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},J_=(e,t)=>{if(typeof e!="string")return e;const r=e.length-1,n=e[r];if(e[0]==="{"&&n==="}"){let a;const i=e.slice(1,r);try{a=JSON.parse("["+i+"]")}catch{a=i?i.split(","):[]}return a.map(l=>p0(t,l))}return e},Z_=e=>typeof e=="string"?e.replace(" ","T"):e,g0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")+"/api/broadcast"};class Rc{constructor(t,r,n={},s=Ku){this.channel=t,this.event=r,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,r){var n;return this._hasReceived(t)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:r}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(r))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var Bm;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(Bm||(Bm={}));class Ca{constructor(t,r){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ca.syncState(this.state,s,a,i),this.pendingDiffs.forEach(c=>{this.state=Ca.syncDiff(this.state,c,a,i)}),this.pendingDiffs=[],l()}),this.channel._on(n.diff,{},s=>{const{onJoin:a,onLeave:i,onSync:l}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ca.syncDiff(this.state,s,a,i),l())}),this.onJoin((s,a,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:a,newPresences:i})}),this.onLeave((s,a,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:a,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,r,n,s){const a=this.cloneDeep(t),i=this.transformState(r),l={},c={};return this.map(a,(u,d)=>{i[u]||(c[u]=d)}),this.map(i,(u,d)=>{const f=a[u];if(f){const h=d.map(w=>w.presence_ref),p=f.map(w=>w.presence_ref),v=d.filter(w=>p.indexOf(w.presence_ref)<0),m=f.filter(w=>h.indexOf(w.presence_ref)<0);v.length>0&&(l[u]=v),m.length>0&&(c[u]=m)}else l[u]=d}),this.syncDiff(a,{joins:l,leaves:c},n,s)}static syncDiff(t,r,n,s){const{joins:a,leaves:i}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(a,(l,c)=>{var u;const d=(u=t[l])!==null&&u!==void 0?u:[];if(t[l]=this.cloneDeep(c),d.length>0){const f=t[l].map(p=>p.presence_ref),h=d.filter(p=>f.indexOf(p.presence_ref)<0);t[l].unshift(...h)}n(l,d,c)}),this.map(i,(l,c)=>{let u=t[l];if(!u)return;const d=c.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),t[l]=u,s(l,u,c),u.length===0&&delete t[l]}),t}static map(t,r){return Object.getOwnPropertyNames(t).map(n=>r(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((r,n)=>{const s=t[n];return"metas"in s?r[n]=s.metas.map(a=>(a.presence_ref=a.phx_ref,delete a.phx_ref,delete a.phx_ref_prev,a)):r[n]=s,r},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var qm;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(qm||(qm={}));var Ta;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(Ta||(Ta={}));var mr;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(mr||(mr={}));class jf{constructor(t,r={config:{}},n){this.topic=t,this.params=r,this.socket=n,this.bindings={},this.state=Oe.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Rc(this,Ut.join,this.params,this.timeout),this.rejoinTimer=new m0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Oe.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Oe.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Oe.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ut.reply,{},(s,a)=>{this._trigger(this._replyEventName(a),s)}),this.presence=new Ca(this),this.broadcastEndpointURL=g0(this.socket.endPoint),this.private=this.params.config.private||!1}subscribe(t,r=this.timeout){var n,s,a;if(this.socket.isConnected()||this.socket.connect(),this.state==Oe.closed){const{config:{broadcast:i,presence:l,private:c}}=this.params,u=(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(p=>p.filter))!==null&&s!==void 0?s:[],d=!!this.bindings[Ta.PRESENCE]&&this.bindings[Ta.PRESENCE].length>0||((a=this.params.config.presence)===null||a===void 0?void 0:a.enabled)===!0,f={},h={broadcast:i,presence:Object.assign(Object.assign({},l),{enabled:d}),postgres_changes:u,private:c};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(p=>t==null?void 0:t(mr.CHANNEL_ERROR,p)),this._onClose(()=>t==null?void 0:t(mr.CLOSED)),this.updateJoinPayload(Object.assign({config:h},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:p})=>{var v;if(this.socket.setAuth(),p===void 0){t==null||t(mr.SUBSCRIBED);return}else{const m=this.bindings.postgres_changes,w=(v=m==null?void 0:m.length)!==null&&v!==void 0?v:0,x=[];for(let g=0;g<w;g++){const y=m[g],{filter:{event:b,schema:j,table:N,filter:S}}=y,_=p&&p[g];if(_&&_.event===b&&_.schema===j&&_.table===N&&_.filter===S)x.push(Object.assign(Object.assign({},y),{id:_.id}));else{this.unsubscribe(),this.state=Oe.errored,t==null||t(mr.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=x,t&&t(mr.SUBSCRIBED);return}}).receive("error",p=>{this.state=Oe.errored,t==null||t(mr.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(p).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(mr.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,r={}){return await this.send({type:"presence",event:"track",payload:t},r.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,r,n){return this.state===Oe.joined&&t===Ta.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(t,r,n)}async send(t,r={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:a,payload:i}=t,c={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:a,payload:i,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,c,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=u.body)===null||s===void 0?void 0:s.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(a=>{var i,l,c;const u=this._push(t.type,t,r.timeout||this.timeout);t.type==="broadcast"&&!(!((c=(l=(i=this.params)===null||i===void 0?void 0:i.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.ack)&&a("ok"),u.receive("ok",()=>a("ok")),u.receive("error",()=>a("error")),u.receive("timeout",()=>a("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Oe.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ut.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new Rc(this,Ut.leave,{},t),n.receive("ok",()=>{r(),s("ok")}).receive("timeout",()=>{r(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Oe.closed,this.bindings={}}async _fetchWithTimeout(t,r,n){const s=new AbortController,a=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},r),{signal:s.signal}));return clearTimeout(a),i}_push(t,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Rc(this,t,r,n);return this._canPush()?s.send():this._addToPushBuffer(s),s}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>V_){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(t,r,n){return r}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,r,n){var s,a;const i=t.toLocaleLowerCase(),{close:l,error:c,leave:u,join:d}=Ut;if(n&&[l,c,u,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,r,n);if(r&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(p=>{var v,m,w;return((v=p.filter)===null||v===void 0?void 0:v.event)==="*"||((w=(m=p.filter)===null||m===void 0?void 0:m.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===i}).map(p=>p.callback(h,n)):(a=this.bindings[i])===null||a===void 0||a.filter(p=>{var v,m,w,x,g,y;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in p){const b=p.id,j=(v=p.filter)===null||v===void 0?void 0:v.event;return b&&((m=r.ids)===null||m===void 0?void 0:m.includes(b))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const b=(g=(x=p==null?void 0:p.filter)===null||x===void 0?void 0:x.event)===null||g===void 0?void 0:g.toLocaleLowerCase();return b==="*"||b===((y=r==null?void 0:r.event)===null||y===void 0?void 0:y.toLocaleLowerCase())}else return p.type.toLocaleLowerCase()===i}).map(p=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:m,table:w,commit_timestamp:x,type:g,errors:y}=v;h=Object.assign(Object.assign({},{schema:m,table:w,commit_timestamp:x,eventType:g,new:{},old:{},errors:y}),this._getPayloadRecords(v))}p.callback(h,n)})}_isClosed(){return this.state===Oe.closed}_isJoined(){return this.state===Oe.joined}_isJoining(){return this.state===Oe.joining}_isLeaving(){return this.state===Oe.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,r,n){const s=t.toLocaleLowerCase(),a={type:s,filter:r,callback:n};return this.bindings[s]?this.bindings[s].push(a):this.bindings[s]=[a],this}_off(t,r){const n=t.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(s=>{var a;return!(((a=s.type)===null||a===void 0?void 0:a.toLocaleLowerCase())===n&&jf.isEqual(s.filter,r))})),this}static isEqual(t,r){if(Object.keys(t).length!==Object.keys(r).length)return!1;for(const n in t)if(t[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(Ut.close,{},t)}_onError(t){this._on(Ut.error,{},r=>t(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Oe.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const r={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(r.new=Hm(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(r.old=Hm(t.columns,t.old_record)),r}}const Ic=()=>{},ro={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},ej=[1e3,2e3,5e3,1e4],tj=1e4,rj=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class nj{constructor(t,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Ku,this.transport=null,this.heartbeatIntervalMs=ro.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ic,this.ref=0,this.reconnectTimer=null,this.logger=Ic,this.conn=null,this.sendBuffer=[],this.serializer=new G_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=s=>{let a;return s?a=s:typeof fetch>"u"?a=(...i)=>wi(async()=>{const{default:l}=await Promise.resolve().then(()=>Ls);return{default:l}},void 0).then(({default:l})=>l(...i)).catch(l=>{throw new Error(`Failed to load @supabase/node-fetch: ${l.message}. This is required for HTTP requests in Node.js environments without native fetch.`)}):a=fetch,(...i)=>a(...i)},!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${t}/${Xu.websocket}`,this.httpEndpoint=g0(t),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=U_.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const r=t.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:B_}))}disconnect(t,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},t?this.conn.close(t,r??""):this.conn.close(),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const r=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const t=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,r,n){this.logger(t,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case Ea.connecting:return pn.Connecting;case Ea.open:return pn.Open;case Ea.closing:return pn.Closing;default:return pn.Closed}}isConnected(){return this.connectionState()===pn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,r={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(a=>a.topic===n);if(s)return s;{const a=new jf(`realtime:${t}`,r,this);return this.channels.push(a),a}}push(t){const{topic:r,event:n,payload:s,ref:a}=t,i=()=>{this.encode(t,l=>{var c;(c=this.conn)===null||c===void 0||c.send(l)})};this.log("push",`${r} ${n} (${a})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(q_,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},ro.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let r=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${t}"`),r.unsubscribe())}_remove(t){this.channels=this.channels.filter(r=>r.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:s,payload:a,ref:i}=r,l=i?`(${i})`:"",c=a.status||"";this.log("receive",`${c} ${n} ${s} ${l}`.trim(),a),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(s,a,i)),this._triggerStateCallbacks("message",r)})}_clearTimer(t){var r;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_teardownConnection(){this.conn&&(this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null),this._clearAllTimers(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){var r;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t)}_triggerChanError(){this.channels.forEach(t=>t._trigger(Ut.error))}_appendParams(t,r){if(Object.keys(r).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(r);return`${t}${n}${s}`}_workerObjectUrl(t){let r;if(t)r=t;else{const n=new Blob([rj],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(t,r=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(t=null){let r;t?r=t:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const s={access_token:r,version:H_};r&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(Ut.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${t}`,r)})}_triggerStateCallbacks(t,r){try{this.stateChangeCallbacks[t].forEach(n=>{try{n(r)}catch(s){this.log("error",`error in ${t} callback`,s)}})}catch(n){this.log("error",`error triggering ${t} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new m0(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},ro.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var r,n,s,a,i,l,c,u,d;if(this.transport=(r=t==null?void 0:t.transport)!==null&&r!==void 0?r:null,this.timeout=(n=t==null?void 0:t.timeout)!==null&&n!==void 0?n:Ku,this.heartbeatIntervalMs=(s=t==null?void 0:t.heartbeatIntervalMs)!==null&&s!==void 0?s:ro.HEARTBEAT_INTERVAL,this.worker=(a=t==null?void 0:t.worker)!==null&&a!==void 0?a:!1,this.accessToken=(i=t==null?void 0:t.accessToken)!==null&&i!==void 0?i:null,this.heartbeatCallback=(l=t==null?void 0:t.heartbeatCallback)!==null&&l!==void 0?l:Ic,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=t==null?void 0:t.reconnectAfterMs)!==null&&c!==void 0?c:f=>ej[f-1]||tj,this.encode=(u=t==null?void 0:t.encode)!==null&&u!==void 0?u:(f,h)=>h(JSON.stringify(f)),this.decode=(d=t==null?void 0:t.decode)!==null&&d!==void 0?d:this.serializer.decode.bind(this.serializer),this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}class Nf extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function $e(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class sj extends Nf{constructor(t,r,n){super(t),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Ju extends Nf{constructor(t,r){super(t),this.name="StorageUnknownError",this.originalError=r}}var aj=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const v0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},ij=()=>aj(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield wi(()=>Promise.resolve().then(()=>Ls),void 0)).Response:Response}),Zu=e=>{if(Array.isArray(e))return e.map(r=>Zu(r));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([r,n])=>{const s=r.replace(/([-_][a-z])/gi,a=>a.toUpperCase().replace(/[-_]/g,""));t[s]=Zu(n)}),t},oj=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var zn=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Lc=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),lj=(e,t,r)=>zn(void 0,void 0,void 0,function*(){const n=yield ij();e instanceof n&&!(r!=null&&r.noResolveJson)?e.json().then(s=>{const a=e.status||500,i=(s==null?void 0:s.statusCode)||a+"";t(new sj(Lc(s),a,i))}).catch(s=>{t(new Ju(Lc(s),s))}):t(new Ju(Lc(e),e))}),cj=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(oj(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,t!=null&&t.duplex&&(s.duplex=t.duplex),Object.assign(Object.assign({},s),r))};function _i(e,t,r,n,s,a){return zn(this,void 0,void 0,function*(){return new Promise((i,l)=>{e(r,cj(t,n,s,a)).then(c=>{if(!c.ok)throw c;return n!=null&&n.noResolveJson?c:c.json()}).then(c=>i(c)).catch(c=>lj(c,l,n))})})}function tl(e,t,r,n){return zn(this,void 0,void 0,function*(){return _i(e,"GET",t,r,n)})}function Jt(e,t,r,n,s){return zn(this,void 0,void 0,function*(){return _i(e,"POST",t,n,s,r)})}function ed(e,t,r,n,s){return zn(this,void 0,void 0,function*(){return _i(e,"PUT",t,n,s,r)})}function uj(e,t,r,n){return zn(this,void 0,void 0,function*(){return _i(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function y0(e,t,r,n,s){return zn(this,void 0,void 0,function*(){return _i(e,"DELETE",t,n,s,r)})}var et=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const dj={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Vm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class fj{constructor(t,r={},n,s){this.shouldThrowOnError=!1,this.url=t,this.headers=r,this.bucketId=n,this.fetch=v0(s)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(t,r,n,s){return et(this,void 0,void 0,function*(){try{let a;const i=Object.assign(Object.assign({},Vm),s);let l=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const c=i.metadata;typeof Blob<"u"&&n instanceof Blob?(a=new FormData,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c)),a.append("",n)):typeof FormData<"u"&&n instanceof FormData?(a=n,a.append("cacheControl",i.cacheControl),c&&a.append("metadata",this.encodeMetadata(c))):(a=n,l["cache-control"]=`max-age=${i.cacheControl}`,l["content-type"]=i.contentType,c&&(l["x-metadata"]=this.toBase64(this.encodeMetadata(c)))),s!=null&&s.headers&&(l=Object.assign(Object.assign({},l),s.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(t=="PUT"?ed:Jt)(this.fetch,`${this.url}/object/${d}`,a,Object.assign({headers:l},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(a){if(this.shouldThrowOnError)throw a;if($e(a))return{data:null,error:a};throw a}})}upload(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,r,n)})}uploadToSignedUrl(t,r,n,s){return et(this,void 0,void 0,function*(){const a=this._removeEmptyFolders(t),i=this._getFinalPath(a),l=new URL(this.url+`/object/upload/sign/${i}`);l.searchParams.set("token",r);try{let c;const u=Object.assign({upsert:Vm.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(c=new FormData,c.append("cacheControl",u.cacheControl),c.append("",n)):typeof FormData<"u"&&n instanceof FormData?(c=n,c.append("cacheControl",u.cacheControl)):(c=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield ed(this.fetch,l.toString(),c,{headers:d});return{data:{path:a,fullPath:f.Key},error:null}}catch(c){if(this.shouldThrowOnError)throw c;if($e(c))return{data:null,error:c};throw c}})}createSignedUploadUrl(t,r){return et(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);r!=null&&r.upsert&&(s["x-upsert"]="true");const a=yield Jt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+a.url),l=i.searchParams.get("token");if(!l)throw new Nf("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:l},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}update(t,r,n){return et(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,r,n)})}move(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}copy(t,r,n){return et(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUrl(t,r,n){return et(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),a=yield Jt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return a={signedUrl:encodeURI(`${this.url}${a.signedURL}${i}`)},{data:a,error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}createSignedUrls(t,r,n){return et(this,void 0,void 0,function*(){try{const s=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:t},{headers:this.headers}),a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${a}`):null})),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}download(t,r){return et(this,void 0,void 0,function*(){const s=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",a=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),i=a?`?${a}`:"";try{const l=this._getFinalPath(t);return{data:yield(yield tl(this.fetch,`${this.url}/${s}/${l}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(l){if(this.shouldThrowOnError)throw l;if($e(l))return{data:null,error:l};throw l}})}info(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{const n=yield tl(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:Zu(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}exists(t){return et(this,void 0,void 0,function*(){const r=this._getFinalPath(t);try{return yield uj(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n)&&n instanceof Ju){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,r){const n=this._getFinalPath(t),s=[],a=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";a!==""&&s.push(a);const l=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",c=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});c!==""&&s.push(c);let u=s.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${l}/public/${n}${u}`)}}}remove(t){return et(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}list(t,r,n){return et(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},dj),r),{prefix:t||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(this.shouldThrowOnError)throw s;if($e(s))return{data:null,error:s};throw s}})}listV2(t,r){return et(this,void 0,void 0,function*(){try{const n=Object.assign({},t);return{data:yield Jt(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const r=[];return t.width&&r.push(`width=${t.width}`),t.height&&r.push(`height=${t.height}`),t.resize&&r.push(`resize=${t.resize}`),t.format&&r.push(`format=${t.format}`),t.quality&&r.push(`quality=${t.quality}`),r.join("&")}}const hj="2.12.1",mj={"X-Client-Info":`storage-js/${hj}`};var Bn=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class pj{constructor(t,r={},n,s){this.shouldThrowOnError=!1;const a=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(a.hostname)&&!a.hostname.includes("storage.supabase.")&&(a.hostname=a.hostname.replace("supabase.","storage.supabase.")),this.url=a.href,this.headers=Object.assign(Object.assign({},mj),r),this.fetch=v0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(){return Bn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(this.shouldThrowOnError)throw t;if($e(t))return{data:null,error:t};throw t}})}getBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield tl(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}createBucket(t,r={public:!1}){return Bn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:r.type,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}updateBucket(t,r){return Bn(this,void 0,void 0,function*(){try{return{data:yield ed(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if($e(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}deleteBucket(t){return Bn(this,void 0,void 0,function*(){try{return{data:yield y0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if($e(r))return{data:null,error:r};throw r}})}}class gj extends pj{constructor(t,r={},n,s){super(t,r,n,s)}from(t){return new fj(this.url,this.headers,t,this.fetch)}}const vj="2.57.4";let ga="";typeof Deno<"u"?ga="deno":typeof document<"u"?ga="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ga="react-native":ga="node";const yj={"X-Client-Info":`supabase-js-${ga}/${vj}`},xj={headers:yj},wj={schema:"public"},bj={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},_j={};var jj=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};const Nj=e=>{let t;return e?t=e:typeof fetch>"u"?t=n0:t=fetch,(...r)=>t(...r)},Sj=()=>typeof Headers>"u"?s0:Headers,kj=(e,t,r)=>{const n=Nj(r),s=Sj();return(a,i)=>jj(void 0,void 0,void 0,function*(){var l;const c=(l=yield t())!==null&&l!==void 0?l:e;let u=new s(i==null?void 0:i.headers);return u.has("apikey")||u.set("apikey",e),u.has("Authorization")||u.set("Authorization",`Bearer ${c}`),n(a,Object.assign(Object.assign({},i),{headers:u}))})};var Ej=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};function Cj(e){return e.endsWith("/")?e:e+"/"}function Tj(e,t){var r,n;const{db:s,auth:a,realtime:i,global:l}=e,{db:c,auth:u,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},c),s),auth:Object.assign(Object.assign({},u),a),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),l),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=l==null?void 0:l.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Ej(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}function Pj(e){const t=e==null?void 0:e.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(Cj(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const x0="2.71.1",Xn=30*1e3,td=3,zc=td*Xn,Dj="http://localhost:9999",Oj="supabase.auth.token",$j={"X-Client-Info":`gotrue-js/${x0}`},rd="X-Supabase-Api-Version",w0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Mj=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Aj=10*60*1e3;class Sf extends Error{constructor(t,r,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function K(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Rj extends Sf{constructor(t,r,n){super(t,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function Ij(e){return K(e)&&e.name==="AuthApiError"}class b0 extends Sf{constructor(t,r){super(t),this.name="AuthUnknownError",this.originalError=r}}class rn extends Sf{constructor(t,r,n,s){super(t,n,s),this.name=r,this.status=n}}class $r extends rn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Lj(e){return K(e)&&e.name==="AuthSessionMissingError"}class no extends rn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class so extends rn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class ao extends rn{constructor(t,r=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zj(e){return K(e)&&e.name==="AuthImplicitGrantRedirectError"}class Gm extends rn{constructor(t,r=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class nd extends rn{constructor(t,r){super(t,"AuthRetryableFetchError",r,void 0)}}function Fc(e){return K(e)&&e.name==="AuthRetryableFetchError"}class Ym extends rn{constructor(t,r,n){super(t,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class sd extends rn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const rl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Km=` 	
\r=`.split(""),Fj=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Km.length;t+=1)e[Km[t].charCodeAt(0)]=-2;for(let t=0;t<rl.length;t+=1)e[rl[t].charCodeAt(0)]=t;return e})();function Xm(e,t,r){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rl[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;r(rl[n]),t.queuedBits-=6}}function _0(e,t,r){const n=Fj[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Qm(e){const t=[],r=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},a=i=>{Hj(i,n,r)};for(let i=0;i<e.length;i+=1)_0(e.charCodeAt(i),s,a);return t.join("")}function Uj(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Wj(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(r+1)-56320&65535|s)+65536,r+=1}Uj(n,t)}}function Hj(e,t,r){if(t.utf8seq===0){if(e<=127){r(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&r(t.codepoint)}}function Bj(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)_0(e.charCodeAt(s),r,n);return new Uint8Array(t)}function qj(e){const t=[];return Wj(e,r=>t.push(r)),new Uint8Array(t)}function Vj(e){const t=[],r={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>Xm(s,r,n)),Xm(null,r,n),t.join("")}function Gj(e){return Math.round(Date.now()/1e3)+e}function Yj(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const Lt=()=>typeof window<"u"&&typeof document<"u",ln={tested:!1,writable:!1},j0=()=>{if(!Lt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ln.tested)return ln.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ln.tested=!0,ln.writable=!0}catch{ln.tested=!0,ln.writable=!1}return ln.writable};function Kj(e){const t={},r=new URL(e);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((s,a)=>{t[a]=s})}catch{}return r.searchParams.forEach((n,s)=>{t[s]=n}),t}const N0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...r)=>wi(async()=>{const{default:n}=await Promise.resolve().then(()=>Ls);return{default:n}},void 0).then(({default:n})=>n(...r)):t=fetch,(...r)=>t(...r)},Xj=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",Qn=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},cn=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Dr=async(e,t)=>{await e.removeItem(t)};class Il{constructor(){this.promise=new Il.promiseConstructor((t,r)=>{this.resolve=t,this.reject=r})}}Il.promiseConstructor=Promise;function Uc(e){const t=e.split(".");if(t.length!==3)throw new sd("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!Mj.test(t[n]))throw new sd("JWT not in base64url format");return{header:JSON.parse(Qm(t[0])),payload:JSON.parse(Qm(t[1])),signature:Bj(t[2]),raw:{header:t[0],payload:t[1]}}}async function Qj(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Jj(e,t){return new Promise((n,s)=>{(async()=>{for(let a=0;a<1/0;a++)try{const i=await e(a);if(!t(a,null,i)){n(i);return}}catch(i){if(!t(a,i)){s(i);return}}})()})}function Zj(e){return("0"+e.toString(16)).substr(-2)}function e2(){const t=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let s="";for(let a=0;a<56;a++)s+=r.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Zj).join("")}async function t2(e){const r=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",r),s=new Uint8Array(n);return Array.from(s).map(a=>String.fromCharCode(a)).join("")}async function r2(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const r=await t2(e);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function qn(e,t,r=!1){const n=e2();let s=n;r&&(s+="/PASSWORD_RECOVERY"),await Qn(e,`${t}-code-verifier`,s);const a=await r2(n);return[a,n===a?"plain":"s256"]}const n2=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function s2(e){const t=e.headers.get(rd);if(!t||!t.match(n2))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function a2(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function i2(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const o2=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Vn(e){if(!o2.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wc(){const e={};return new Proxy(e,{get:(t,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Jm(e){return JSON.parse(JSON.stringify(e))}var l2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};const fn=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),c2=[502,503,504];async function Zm(e){var t;if(!Xj(e))throw new nd(fn(e),0);if(c2.includes(e.status))throw new nd(fn(e),e.status);let r;try{r=await e.json()}catch(a){throw new b0(fn(a),a)}let n;const s=s2(e);if(s&&s.getTime()>=w0["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Ym(fn(r),e.status,((t=r.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new $r}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((a,i)=>a&&typeof i=="string",!0))throw new Ym(fn(r),e.status,r.weak_password.reasons);throw new Rj(fn(r),e.status||500,n)}const u2=(e,t,r,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),r))};async function Q(e,t,r,n){var s;const a=Object.assign({},n==null?void 0:n.headers);a[rd]||(a[rd]=w0["2024-01-01"].name),n!=null&&n.jwt&&(a.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const l=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",c=await d2(e,t,r+l,{headers:a,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(c):{data:Object.assign({},c),error:null}}async function d2(e,t,r,n,s,a){const i=u2(t,n,s,a);let l;try{l=await e(r,Object.assign({},i))}catch(c){throw console.error(c),new nd(fn(c),0)}if(l.ok||await Zm(l),n!=null&&n.noResolveJson)return l;try{return await l.json()}catch(c){await Zm(c)}}function fr(e){var t;let r=null;p2(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=Gj(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:r,user:n},error:null}}function ep(e){const t=fr(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Lr(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function f2(e){return{data:e,error:null}}function h2(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a}=e,i=l2(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),l={action_link:t,email_otp:r,hashed_token:n,redirect_to:s,verification_type:a},c=Object.assign({},i);return{data:{properties:l,user:c},error:null}}function m2(e){return e}function p2(e){return e.access_token&&e.refresh_token&&e.expires_in}const Hc=["global","local","others"];var g2=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(r[n[s]]=e[n[s]]);return r};class v2{constructor({url:t="",headers:r={},fetch:n}){this.url=t,this.headers=r,this.fetch=N0(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,r=Hc[0]){if(Hc.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Hc.join(", ")}`);try{return await Q(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,r={}){try{return await Q(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Lr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:r}=t,n=g2(t,["options"]),s=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Q(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:h2,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(K(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(t){try{return await Q(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Lr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async listUsers(t){var r,n,s,a,i,l,c;try{const u={nextPage:null,lastPage:0,total:0},d=await Q(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=t==null?void 0:t.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(a=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&a!==void 0?a:""},xform:m2});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,p=(c=(l=d.headers.get("link"))===null||l===void 0?void 0:l.split(","))!==null&&c!==void 0?c:[];return p.length>0&&(p.forEach(v=>{const m=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(v.split(";")[1].split("=")[1]);u[`${w}Page`]=m}),u.total=parseInt(h)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(K(u))return{data:{users:[]},error:u};throw u}}async getUserById(t){Vn(t);try{return await Q(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Lr})}catch(r){if(K(r))return{data:{user:null},error:r};throw r}}async updateUserById(t,r){Vn(t);try{return await Q(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:r,headers:this.headers,xform:Lr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,r=!1){Vn(t);try{return await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:r},xform:Lr})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Vn(t.userId);try{const{data:r,error:n}=await Q(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:r,error:n}}catch(r){if(K(r))return{data:null,error:r};throw r}}async _deleteFactor(t){Vn(t.userId),Vn(t.id);try{return{data:await Q(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}}function tp(e={}){return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}function y2(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Gn={debug:!!(globalThis&&j0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class S0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class x2 extends S0{}async function w2(e,t,r){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await r()}finally{Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Gn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new x2(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Gn.debug)try{const a=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(a,null,"  "))}catch(a){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",a)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}y2();const b2={url:Dj,storageKey:Oj,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$j,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function rp(e,t,r){return await r()}const Yn={};class Xa{constructor(t){var r,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Xa.nextInstanceID,Xa.nextInstanceID+=1,this.instanceID>0&&Lt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},b2),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new v2({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=N0(s.fetch),this.lock=s.lock||rp,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Lt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=w2:this.lock=rp,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:j0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=tp(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=tp(this.memoryStorage)),Lt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}get jwks(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,r;return(r=(t=Yn[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Yn[this.storageKey]=Object.assign(Object.assign({},Yn[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${x0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const r=Kj(window.location.href);let n="none";if(this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce"),Lt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:a}=await this._getSessionFromURL(r,n);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),zj(a)){const c=(t=a.details)===null||t===void 0?void 0:t.code;if(c==="identity_already_exists"||c==="identity_not_found"||c==="single_identity_not_deletable")return{error:a}}return await this._removeSession(),{error:a}}const{session:i,redirectType:l}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",l),await this._saveSession(i),setTimeout(async()=>{l==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return K(r)?{error:r}:{error:new b0("Unexpected error during initialization",r)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var r,n,s;try{const a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=t==null?void 0:t.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:fr}),{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(t){var r,n,s;try{let a;if("email"in t){const{email:d,password:f,options:h}=t;let p=null,v=null;this.flowType==="pkce"&&([p,v]=await qn(this.storage,this.storageKey)),a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(r=h==null?void 0:h.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:p,code_challenge_method:v},xform:fr})}else if("phone"in t){const{phone:d,password:f,options:h}=t;a=await Q(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:fr})}else throw new so("You must provide either an email or phone number and a password");const{data:i,error:l}=a;if(l||!i)return{data:{user:null,session:null},error:l};const c=i.session,u=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(a){if(K(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(t){try{let r;if("email"in t){const{email:a,password:i,options:l}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ep})}else if("phone"in t){const{phone:a,password:i,options:l}=t;r=await Q(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:a,password:i,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},xform:ep})}else throw new so("You must provide either an email or phone number and a password");const{data:n,error:s}=r;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new no}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOAuth(t){var r,n,s,a;return await this._handleProviderSignIn(t.provider,{redirectTo:(r=t.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(a=t.options)===null||a===void 0?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:r}=t;if(r==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}async signInWithSolana(t){var r,n,s,a,i,l,c,u,d,f,h,p;let v,m;if("message"in t)v=t.message,m=t.signature;else{const{chain:w,wallet:x,statement:g,options:y}=t;let b;if(Lt())if(typeof x=="object")b=x;else{const N=window;if("solana"in N&&typeof N.solana=="object"&&("signIn"in N.solana&&typeof N.solana.signIn=="function"||"signMessage"in N.solana&&typeof N.solana.signMessage=="function"))b=N.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof x!="object"||!(y!=null&&y.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");b=x}const j=new URL((r=y==null?void 0:y.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in b&&b.signIn){const N=await b.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},y==null?void 0:y.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),g?{statement:g}:null));let S;if(Array.isArray(N)&&N[0]&&typeof N[0]=="object")S=N[0];else if(N&&typeof N=="object"&&"signedMessage"in N&&"signature"in N)S=N;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)v=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),m=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in b)||typeof b.signMessage!="function"||!("publicKey"in b)||typeof b!="object"||!b.publicKey||!("toBase58"in b.publicKey)||typeof b.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");v=[`${j.host} wants you to sign in with your Solana account:`,b.publicKey.toBase58(),...g?["",g,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(s=(n=y==null?void 0:y.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((a=y==null?void 0:y.signInWithSolana)===null||a===void 0)&&a.notBefore?[`Not Before: ${y.signInWithSolana.notBefore}`]:[],...!((i=y==null?void 0:y.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${y.signInWithSolana.expirationTime}`]:[],...!((l=y==null?void 0:y.signInWithSolana)===null||l===void 0)&&l.chainId?[`Chain ID: ${y.signInWithSolana.chainId}`]:[],...!((c=y==null?void 0:y.signInWithSolana)===null||c===void 0)&&c.nonce?[`Nonce: ${y.signInWithSolana.nonce}`]:[],...!((u=y==null?void 0:y.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${y.signInWithSolana.requestId}`]:[],...!((f=(d=y==null?void 0:y.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...y.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const N=await b.signMessage(new TextEncoder().encode(v),"utf8");if(!N||!(N instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");m=N}}try{const{data:w,error:x}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:v,signature:Vj(m)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(p=t.options)===null||p===void 0?void 0:p.captchaToken}}:null),xform:fr});if(x)throw x;return!w||!w.session||!w.user?{data:{user:null,session:null},error:new no}:(w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),{data:Object.assign({},w),error:x})}catch(w){if(K(w))return{data:{user:null,session:null},error:w};throw w}}async _exchangeCodeForSession(t){const r=await cn(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(r??"").split("/");try{const{data:a,error:i}=await Q(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:fr});if(await Dr(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!a||!a.session||!a.user?{data:{user:null,session:null,redirectType:null},error:new no}:(a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",a.session)),{data:Object.assign(Object.assign({},a),{redirectType:s??null}),error:i})}catch(a){if(K(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(t){try{const{options:r,provider:n,token:s,access_token:a,nonce:i}=t,l=await Q(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:a,nonce:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:fr}),{data:c,error:u}=l;return u?{data:{user:null,session:null},error:u}:!c||!c.session||!c.user?{data:{user:null,session:null},error:new no}:(c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),{data:c,error:u})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithOtp(t){var r,n,s,a,i;try{if("email"in t){const{email:l,options:c}=t;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await qn(this.storage,this.storageKey));const{error:f}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:l,data:(r=c==null?void 0:c.data)!==null&&r!==void 0?r:{},create_user:(n=c==null?void 0:c.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:c==null?void 0:c.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:l,options:c}=t,{data:u,error:d}=await Q(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:l,data:(s=c==null?void 0:c.data)!==null&&s!==void 0?s:{},create_user:(a=c==null?void 0:c.shouldCreateUser)!==null&&a!==void 0?a:!0,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken},channel:(i=c==null?void 0:c.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d}}throw new so("You must provide either an email or phone number.")}catch(l){if(K(l))return{data:{user:null,session:null},error:l};throw l}}async verifyOtp(t){var r,n;try{let s,a;"options"in t&&(s=(r=t.options)===null||r===void 0?void 0:r.redirectTo,a=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:a}}),redirectTo:s,xform:fr});if(l)throw l;if(!i)throw new Error("An error occurred on token verification.");const c=i.session,u=i.user;return c!=null&&c.access_token&&(await this._saveSession(c),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",c)),{data:{user:u,session:c},error:null}}catch(s){if(K(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var r,n,s;try{let a=null,i=null;return this.flowType==="pkce"&&([a,i]=await qn(this.storage,this.storageKey)),await Q(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(r=t.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:i}),headers:this.headers,xform:f2})}catch(a){if(K(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:r},error:n}=t;if(n)throw n;if(!r)throw new $r;const{error:s}=await Q(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(K(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const r=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:a}=t,{error:i}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},redirectTo:a==null?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:a}=t,{data:i,error:l}=await Q(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:l}}throw new so("You must provide either an email or phone number and a type")}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(t,r){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await t(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const r=await cn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?t=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<zc:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await cn(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Wc()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(c,u,d)=>(!i&&u==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(c,u,d))})}return{data:{session:t},error:null}}const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{session:null},error:a}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Lr}):await this._useSession(async r=>{var n,s,a;const{data:i,error:l}=r;if(l)throw l;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new $r}:await Q(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(a=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&a!==void 0?a:void 0,xform:Lr})})}catch(r){if(K(r))return Lj(r)&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:r};throw r}}async updateUser(t,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,r))}async _updateUser(t,r={}){try{return await this._useSession(async n=>{const{data:s,error:a}=n;if(a)throw a;if(!s.session)throw new $r;const i=s.session;let l=null,c=null;this.flowType==="pkce"&&t.email!=null&&([l,c]=await qn(this.storage,this.storageKey));const{data:u,error:d}=await Q(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:l,code_challenge_method:c}),jwt:i.access_token,xform:Lr});if(d)throw d;return i.user=u.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(K(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new $r;const r=Date.now()/1e3;let n=r,s=!0,a=null;const{payload:i}=Uc(t.access_token);if(i.exp&&(n=i.exp,s=n<=r),s){const{session:l,error:c}=await this._callRefreshToken(t.refresh_token);if(c)return{data:{user:null,session:null},error:c};if(!l)return{data:{user:null,session:null},error:null};a=l}else{const{data:l,error:c}=await this._getUser(t.access_token);if(c)throw c;a={access_token:t.access_token,refresh_token:t.refresh_token,user:l.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(r){if(K(r))return{data:{session:null,user:null},error:r};throw r}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async r=>{var n;if(!t){const{data:i,error:l}=r;if(l)throw l;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new $r;const{session:s,error:a}=await this._callRefreshToken(t.refresh_token);return a?{data:{user:null,session:null},error:a}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(r){if(K(r))return{data:{user:null,session:null},error:r};throw r}}async _getSessionFromURL(t,r){try{if(!Lt())throw new ao("No browser detected.");if(t.error||t.error_description||t.error_code)throw new ao(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Gm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ao("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new Gm("No code detected.");const{data:g,error:y}=await this._exchangeCodeForSession(t.code);if(y)throw y;const b=new URL(window.location.href);return b.searchParams.delete("code"),window.history.replaceState(window.history.state,"",b.toString()),{data:{session:g.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:a,refresh_token:i,expires_in:l,expires_at:c,token_type:u}=t;if(!a||!l||!i||!u)throw new ao("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(l);let h=d+f;c&&(h=parseInt(c));const p=h-d;p*1e3<=Xn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${p}s, should have been closer to ${f}s`);const v=h-f;d-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,d):d-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,d);const{data:m,error:w}=await this._getUser(a);if(w)throw w;const x={provider_token:n,provider_refresh_token:s,access_token:a,expires_in:f,expires_at:h,refresh_token:i,token_type:u,user:m.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:x,redirectType:t.type},error:null}}catch(n){if(K(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const r=await cn(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&r)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{error:a};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:l}=await this.admin.signOut(i,t);if(l&&!(Ij(l)&&(l.status===404||l.status===401||l.status===403)))return{error:l}}return t!=="others"&&(await this._removeSession(),await Dr(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const r=Yj(),n={id:r,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async r=>{var n,s;try{const{data:{session:a},error:i}=r;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",a)),this._debug("INITIAL_SESSION","callback id",t,"session",a)}catch(a){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",a),console.error(a)}})}async resetPasswordForEmail(t,r={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await qn(this.storage,this.storageKey,!0));try{return await Q(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(a){if(K(a))return{data:null,error:a};throw a}}async getUserIdentities(){var t;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=r.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(r){if(K(r))return{data:null,error:r};throw r}}async linkIdentity(t){var r;try{const{data:n,error:s}=await this._useSession(async a=>{var i,l,c,u,d;const{data:f,error:h}=a;if(h)throw h;const p=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(c=t.options)===null||c===void 0?void 0:c.queryParams,skipBrowserRedirect:!0});return await Q(this.fetch,"GET",p,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Lt()&&!(!((r=t.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(K(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)throw i;return await Q(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=a.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _refreshAccessToken(t){const r=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await Jj(async s=>(s>0&&await Qj(200*Math.pow(2,s-1)),this._debug(r,"refreshing attempt",s),await Q(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:fr})),(s,a)=>{const i=200*Math.pow(2,s);return a&&Fc(a)&&Date.now()+i-n<Xn})}catch(n){if(this._debug(r,"error",n),K(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(r,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",r,"url",n),Lt()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await cn(this.storage,this.storageKey);if(s&&this.userStorage){let i=await cn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await Qn(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Wc()}else if(s&&!s.user&&!s.user){const i=await cn(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Dr(this.storage,this.storageKey+"-user"),await Qn(this.storage,this.storageKey,s)):s.user=Wc()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const a=((r=s.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<zc;if(this._debug(n,`session has${a?"":" not"} expired with margin of ${zc}s`),a){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),Fc(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:l}=await this._getUser(s.access_token);!l&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var r,n;if(!t)throw new $r;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Il;const{data:a,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!a.session)throw new $r;await this._saveSession(a.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",a.session);const l={session:a.session,error:null};return this.refreshingDeferred.resolve(l),l}catch(a){if(this._debug(s,"error",a),K(a)){const i={session:null,error:a};return Fc(a)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(a),a}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,r,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:r});const a=[],i=Array.from(this.stateChangeEmitters.values()).map(async l=>{try{await l.callback(t,r)}catch(c){a.push(c)}});if(await Promise.all(i),a.length>0){for(let l=0;l<a.length;l+=1)console.error(a[l]);throw a[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const r=Object.assign({},t),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Qn(this.userStorage,this.storageKey+"-user",{user:r.user});const s=Object.assign({},r);delete s.user;const a=Jm(s);await Qn(this.storage,this.storageKey,a)}else{const s=Jm(r);await Qn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Dr(this.storage,this.storageKey),await Dr(this.storage,this.storageKey+"-code-verifier"),await Dr(this.storage,this.storageKey+"-user"),this.userStorage&&await Dr(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&Lt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xn);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/Xn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Xn}ms, refresh threshold is ${td} ticks`),s<=td&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof S0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Lt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const r=`#_onVisibilityChanged(${t})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,r,n){const s=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[a,i]=await qn(this.storage,this.storageKey),l=new URLSearchParams({code_challenge:`${encodeURIComponent(a)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(l.toString())}if(n!=null&&n.queryParams){const a=new URLSearchParams(n.queryParams);s.push(a.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _enroll(t){try{return await this._useSession(async r=>{var n,s;const{data:a,error:i}=r;if(i)return{data:null,error:i};const l=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:c,error:u}=await Q(this.fetch,"POST",`${this.url}/factors`,{body:l,headers:this.headers,jwt:(n=a==null?void 0:a.session)===null||n===void 0?void 0:n.access_token});return u?{data:null,error:u}:(t.factorType==="totp"&&(!((s=c==null?void 0:c.totp)===null||s===void 0)&&s.qr_code)&&(c.totp.qr_code=`data:image/svg+xml;utf-8,${c.totp.qr_code}`),{data:c,error:null})})}catch(r){if(K(r))return{data:null,error:r};throw r}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;if(a)return{data:null,error:a};const{data:i,error:l}=await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:l})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:s,error:a}=r;return a?{data:null,error:a}:await Q(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(K(r))return{data:null,error:r};throw r}})}async _challengeAndVerify(t){const{data:r,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:r.id,code:t.code})}async _listFactors(){const{data:{user:t},error:r}=await this.getUser();if(r)return{data:null,error:r};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),a=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var r,n;const{data:{session:s},error:a}=t;if(a)return{data:null,error:a};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Uc(s.access_token);let l=null;i.aal&&(l=i.aal);let c=l;((n=(r=s.user.factors)===null||r===void 0?void 0:r.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(c="aal2");const d=i.amr||[];return{data:{currentLevel:l,nextLevel:c,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,r={keys:[]}){let n=r.keys.find(l=>l.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(l=>l.kid===t),n&&this.jwks_cached_at+Aj>s)return n;const{data:a,error:i}=await Q(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!a.keys||a.keys.length===0||(this.jwks=a,this.jwks_cached_at=s,n=a.keys.find(l=>l.kid===t),!n)?null:n}async getClaims(t,r={}){try{let n=t;if(!n){const{data:p,error:v}=await this.getSession();if(v||!p.session)return{data:null,error:v};n=p.session.access_token}const{header:s,payload:a,signature:i,raw:{header:l,payload:c}}=Uc(n);r!=null&&r.allowExpired||a2(a.exp);const u=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:p}=await this.getUser(n);if(p)throw p;return{data:{claims:a,header:s,signature:i},error:null}}const d=i2(s.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,qj(`${l}.${c}`)))throw new sd("Invalid JWT signature");return{data:{claims:a,header:s,signature:i},error:null}}catch(n){if(K(n))return{data:null,error:n};throw n}}}Xa.nextInstanceID=0;const _2=Xa;class j2 extends _2{constructor(t){super(t)}}var N2=function(e,t,r,n){function s(a){return a instanceof r?a:new r(function(i){i(a)})}return new(r||(r=Promise))(function(a,i){function l(d){try{u(n.next(d))}catch(f){i(f)}}function c(d){try{u(n.throw(d))}catch(f){i(f)}}function u(d){d.done?a(d.value):s(d.value).then(l,c)}u((n=n.apply(e,t||[])).next())})};class S2{constructor(t,r,n){var s,a,i;this.supabaseUrl=t,this.supabaseKey=r;const l=Pj(t);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,u={db:wj,realtime:_j,auth:Object.assign(Object.assign({},bj),{storageKey:c}),global:xj},d=Tj(n??{},u);this.storageKey=(s=d.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(a=d.global.headers)!==null&&a!==void 0?a:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,h)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(h)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=d.auth)!==null&&i!==void 0?i:{},this.headers,d.global.fetch),this.fetch=kj(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.rest=new F_(new URL("rest/v1",l).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new gj(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new y_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,r={},n={}){return this.rest.rpc(t,r,n)}channel(t,r={config:{}}){return this.realtime.channel(t,r)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,r;return N2(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(r=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&r!==void 0?r:this.supabaseKey})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,storageKey:i,flowType:l,lock:c,debug:u},d,f){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new j2({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),d),storageKey:i,autoRefreshToken:t,persistSession:r,detectSessionInUrl:n,storage:s,userStorage:a,flowType:l,lock:c,debug:u,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(p=>p.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new nj(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,r,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const k2=(e,t,r)=>new S2(e,t,r);function E2(){if(typeof window<"u"||typeof process>"u")return!1;const e=process.version;if(e==null)return!1;const t=e.match(/^v(\d+)\./);return t?parseInt(t[1],10)<=18:!1}E2()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const C2="https://gpamhocdwcqduiusrgcp.supabase.co",T2="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImdwYW1ob2Nkd2NxZHVpdXNyZ2NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1ODc5MTEsImV4cCI6MjA3NzE2MzkxMX0.c63Gx8lx5yrzh45RaCGcNduuwj1uy0j28ZXo1euib64",U=k2(C2,T2),k0=E.createContext(void 0),P2=({children:e})=>{const[t,r]=E.useState(null),[n,s]=E.useState(null),[a,i]=E.useState(!0);E.useEffect(()=>{U.auth.getSession().then(({data:{session:f}})=>{s(f),r((f==null?void 0:f.user)??null),i(!1)});const{data:{subscription:d}}=U.auth.onAuthStateChange((f,h)=>{(async()=>(s(h),r((h==null?void 0:h.user)??null)))()});return()=>d.unsubscribe()},[]);const l=async(d,f)=>{try{const{error:h}=await U.auth.signInWithPassword({email:d,password:f});return{error:h}}catch(h){return{error:h}}},c=async(d,f,h)=>{try{const{data:p,error:v}=await U.auth.signUp({email:d,password:f});if(v)return{error:v};if(p.user){const{error:m}=await U.from("profiles").insert({id:p.user.id,email:d,full_name:h});if(m)return{error:m}}return{error:null}}catch(p){return{error:p}}},u=async()=>{await U.auth.signOut()};return o.jsx(k0.Provider,{value:{user:t,session:n,loading:a,signIn:l,signUp:c,signOut:u},children:e})},Kt=()=>{const e=E.useContext(k0);if(e===void 0)throw new Error("useAuth must be used within an AuthProvider");return e};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var D2={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O2=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),V=(e,t)=>{const r=E.forwardRef(({color:n="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:i,className:l="",children:c,...u},d)=>E.createElement("svg",{ref:d,...D2,width:s,height:s,stroke:n,strokeWidth:i?Number(a)*24/Number(s):a,className:["lucide",`lucide-${O2(e)}`,l].join(" "),...u},[...t.map(([f,h])=>E.createElement(f,h)),...Array.isArray(c)?c:[c]]));return r.displayName=`${e}`,r};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $2=V("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qa=V("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M2=V("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A2=V("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R2=V("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const np=V("Building",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ee=V("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I2=V("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E0=V("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C0=V("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T0=V("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=V("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ll=V("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=V("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P0=V("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fs=V("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z2=V("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=V("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F2=V("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U2=V("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pt=V("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W2=V("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H2=V("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D0=V("List",[["line",{x1:"8",x2:"21",y1:"6",y2:"6",key:"7ey8pc"}],["line",{x1:"8",x2:"21",y1:"12",y2:"12",key:"rjfblc"}],["line",{x1:"8",x2:"21",y1:"18",y2:"18",key:"c3b1m8"}],["line",{x1:"3",x2:"3.01",y1:"6",y2:"6",key:"1g7gq3"}],["line",{x1:"3",x2:"3.01",y1:"12",y2:"12",key:"1pjlvk"}],["line",{x1:"3",x2:"3.01",y1:"18",y2:"18",key:"28t2mc"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B2=V("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ad=V("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q2=V("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ji=V("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jr=V("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V2=V("Megaphone",[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G2=V("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=V("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y2=V("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K2=V("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=V("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $0=V("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ni=V("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=V("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X2=V("Quote",[["path",{d:"M3 21c3 0 7-1 7-8V5c0-1.25-.756-2.017-2-2H4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2 1 0 1 0 1 1v1c0 1-1 2-2 2s-1 .008-1 1.031V20c0 1 0 1 1 1z",key:"4rm80e"}],["path",{d:"M15 21c3 0 7-1 7-8V5c0-1.25-.757-2.017-2-2h-4c-1.25 0-2 .75-2 1.972V11c0 1.25.75 2 2 2h.75c0 2.25.25 4-2.75 4v3c0 1 0 1 1 1z",key:"10za9r"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q2=V("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=V("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M0=V("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J2=V("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=V("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A0=V("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ef=V("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pa=V("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const id=V("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z2=V("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ja=V("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ks=V("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gt=V("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Si=V("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _t=V("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),ap={nav:{home:{es:"Inicio",gl:"Inicio"},services:{es:"Servicios",gl:"Servizos"},howItWorks:{es:"Cmo funciona",gl:"Como funciona"},owners:{es:"Propietarios",gl:"Propietarios"},about:{es:"Sobre nosotros",gl:"Sobre ns"},contact:{es:"Contacto",gl:"Contacto"},privateArea:{es:"rea privada",gl:"rea privada"}},hero:{title:{es:"Alquila tu vivienda vacacional sin preocuparte por nada.",gl:"Aluga a ta vivenda vacacional sen preocuparte por nada."},subtitle:{es:"En Galquiler gestionamos todo por ti: desde la publicacin hasta la atencin al husped.",gl:"En Galquiler xestionamos todo por ti: desde a publicacin ata a atencin ao hspede."},cta:{es:"Solicita informacin",gl:"Solicita informacin"}},services:{title:{es:"Nuestros Servicios",gl:"Os nosos Servizos"},subtitle:{es:"Gestin completa para que solo te preocupes de recibir tus ingresos",gl:"Xestin completa para que s te preocupes de recibir os teus ingresos"},items:{management:{title:{es:"Gestin Integral",gl:"Xestin Integral"},description:{es:"Nos encargamos de todo el proceso de alquiler vacacional de tu propiedad.",gl:"Encargmonos de todo o proceso de aluguer vacacional da ta propiedade."}},publishing:{title:{es:"Publicacin en Plataformas",gl:"Publicacin en Plataformas"},description:{es:"Publicamos tu vivienda en Airbnb, Booking, Vrbo y otras plataformas lderes.",gl:"Publicamos a ta vivenda en Airbnb, Booking, Vrbo e outras plataformas lderes."}},communication:{title:{es:"Comunicacin con Huspedes",gl:"Comunicacin con Hspedes"},description:{es:"Atendemos a tus huspedes 24/7 en varios idiomas para garantizar una experiencia perfecta.",gl:"Atendemos aos teus hspedes 24/7 en varios idiomas para garantir unha experiencia perfecta."}},cleaning:{title:{es:"Limpieza y Mantenimiento",gl:"Limpeza e Mantemento"},description:{es:"Coordinamos la limpieza profesional y el mantenimiento de tu propiedad.",gl:"Coordinamos a limpeza profesional e o mantemento da ta propiedade."}},checkin:{title:{es:"Check-in/Check-out",gl:"Check-in/Check-out"},description:{es:"Gestionamos la entrada y salida de huspedes de forma profesional.",gl:"Xestionamos a entrada e sada de hspedes de forma profesional."}},pricing:{title:{es:"Optimizacin de Precios",gl:"Optimizacin de Prezos"},description:{es:"Ajustamos precios y calendarios para maximizar tus ingresos.",gl:"Axustamos prezos e calendarios para maximizar os teus ingresos."}}}},howItWorks:{title:{es:"Cmo Funciona",gl:"Como Funciona"},subtitle:{es:"Tres pasos sencillos para empezar a generar ingresos",gl:"Tres pasos sinxelos para empezar a xerar ingresos"},steps:{step1:{title:{es:"Evaluamos tu propiedad",gl:"Avaliamos a ta propiedade"},description:{es:"Analizamos tu vivienda y te asesoramos sobre el potencial de alquiler vacacional en tu zona.",gl:"Analizamos a ta vivenda e asesorrnoste sobre o potencial de aluguer vacacional na ta zona."}},step2:{title:{es:"Publicamos y gestionamos",gl:"Publicamos e xestionamos"},description:{es:"Creamos anuncios profesionales en Airbnb, Booking y Vrbo. Nos encargamos de todo.",gl:"Creamos anuncios profesionais en Airbnb, Booking e Vrbo. Encargmonos de todo."}},step3:{title:{es:"Recibes tus ingresos",gl:"Recibes os teus ingresos"},description:{es:"Tu solo recibes los ingresos sin complicaciones. Nosotros hacemos el resto.",gl:"Ti s recibes os ingresos sen complicacins. Ns facemos o resto."}}}},owners:{title:{es:"Para Propietarios",gl:"Para Propietarios"},subtitle:{es:"Descubre por qu los propietarios confan en Galquiler",gl:"Descobre por que os propietarios confan en Galquiler"},benefits:{title:{es:"Beneficios",gl:"Beneficios"},items:[{title:{es:"Ingresos Maximizados",gl:"Ingresos Maximizados"},description:{es:"Optimizamos precios y ocupacin para maximizar tus beneficios.",gl:"Optimizamos prezos e ocupacin para maximizar os teus beneficios."}},{title:{es:"Gestin Profesional",gl:"Xestin Profesional"},description:{es:"Equipo experto en turismo vacacional y atencin al cliente.",gl:"Equipo experto en turismo vacacional e atencin ao cliente."}},{title:{es:"Transparencia Total",gl:"Transparencia Total"},description:{es:"Informes detallados de ocupacin, ingresos y valoraciones.",gl:"Informes detallados de ocupacin, ingresos e valoracins."}},{title:{es:"Sin Preocupaciones",gl:"Sen Preocupacins"},description:{es:"Nos ocupamos de todo: limpieza, mantenimiento, atencin.",gl:"Ocupmonos de todo: limpeza, mantemento, atencin."}}]},faq:{title:{es:"Preguntas Frecuentes",gl:"Preguntas Frecuentes"},items:[{question:{es:"Qu comisin cobra Galquiler?",gl:"Que comisin cobra Galquiler?"},answer:{es:"Nuestra comisin se adapta a cada propiedad. Contacta con nosotros para una valoracin personalizada sin compromiso.",gl:"A nosa comisin adptase a cada propiedade. Contacta connosco para unha valoracin personalizada sen compromiso."}},{question:{es:"Puedo seguir usando mi vivienda cuando quiera?",gl:"Podo seguir usando a mia vivenda cando queira?"},answer:{es:"Por supuesto. T decides cundo est disponible tu propiedad para alquiler y cundo la quieres para uso personal.",gl:"Por suposto. Ti decides cando est dispoible a ta propiedade para aluguer e cando a queres para uso persoal."}},{question:{es:"En qu zonas operis?",gl:"En que zonas operades?"},answer:{es:"Nos especializamos en las Ras Baixas: Sanxenxo, O Grove, San Vicente, A Lanzada y alrededores.",gl:"Especializmonos nas Ras Baixas: Sanxenxo, O Grove, San Vicente, A Lanzada e arredores."}}]},testimonials:{title:{es:"Testimonios",gl:"Testemuos"},items:[{name:"Mara Gonzlez",location:"Sanxenxo",text:{es:"Desde que confi mi apartamento a Galquiler, mis ingresos han aumentado un 40%. Ellos se ocupan de todo y yo solo recibo el dinero.",gl:"Desde que confiei o meu apartamento a Galquiler, os meus ingresos aumentaron un 40%. Eles ocpanse de todo e eu s recibo o dieiro."}},{name:"Javier Martnez",location:"O Grove",text:{es:"Profesionales y transparentes. Siempre s cmo est mi propiedad y cunto estoy ganando. Lo recomiendo totalmente.",gl:"Profesionais e transparentes. Sempre sei como est a mia propiedade e canto estou gaando. Recomndoo totalmente."}},{name:"Carmen Rodrguez",location:"A Lanzada",text:{es:"Tengo mi casa impecable siempre y los huspedes dejan valoraciones excelentes. Un servicio excepcional.",gl:"Teo a mia casa impecable sempre e os hspedes deixan valoracins excelentes. Un servizo excepcional."}}]}},privateArea:{title:{es:"rea de Propietarios",gl:"rea de Propietarios"},comingSoon:{es:"Prximamente",gl:"Proximamente"},description:{es:"Muy pronto, los propietarios podrn acceder a un panel privado con informacin de sus propiedades, ingresos, valoraciones y enlaces a sus anuncios en plataformas.",gl:"Moi pronto, os propietarios podern acceder a un panel privado con informacin das sas propiedades, ingresos, valoracins e ligazns aos seus anuncios en plataformas."},requestAccess:{es:"Solicitar acceso",gl:"Solicitar acceso"}},about:{title:{es:"Sobre Nosotros",gl:"Sobre Ns"},subtitle:{es:"Expertos en gestin de alquileres vacacionales en Galicia",gl:"Expertos en xestin de alugueres vacacionales en Galicia"},description:{es:"Galquiler nace de la pasin por nuestra tierra y la hospitalidad. Somos un equipo de profesionales con amplia experiencia en turismo vacacional, especializados en las Ras Baixas. Nuestra misin es ayudar a los propietarios a rentabilizar sus viviendas vacacionales sin complicaciones, ofreciendo un servicio integral, cercano y transparente.",gl:"Galquiler nace da paixn pola nosa terra e a hospitalidade. Somos un equipo de profesionais con ampla experiencia en turismo vacacional, especializados nas Ras Baixas. A nosa misin  axudar aos propietarios a rendibilizar as sas vivendas vacacionales sen complicacins, ofrecendo un servizo integral, cercano e transparente."},values:{title:{es:"Nuestros Valores",gl:"Os nosos Valores"},trust:{title:{es:"Confianza",gl:"Confianza"},description:{es:"Tu propiedad est en las mejores manos. Tratamos cada vivienda como si fuera nuestra.",gl:"A ta propiedade est nas mellores mans. Tratamos cada vivenda como se fose nosa."}},proximity:{title:{es:"Cercana",gl:"Cercana"},description:{es:"Somos locales, conocemos la zona y estamos siempre disponibles para ti.",gl:"Somos locais, coecemos a zona e estamos sempre dispoibles para ti."}},transparency:{title:{es:"Transparencia",gl:"Transparencia"},description:{es:"Informacin clara y accesible sobre tu propiedad y tus ingresos en todo momento.",gl:"Informacin clara e accesible sobre a ta propiedade e os teus ingresos en todo momento."}}}},contact:{title:{es:"Contacto",gl:"Contacto"},subtitle:{es:"Estamos aqu para ayudarte. Cuntanos sobre tu propiedad.",gl:"Estamos aqu para axudarche. Cntanos sobre a ta propiedade."},form:{name:{es:"Nombre",gl:"Nome"},email:{es:"Email",gl:"Email"},phone:{es:"Telfono",gl:"Telfono"},message:{es:"Mensaje",gl:"Mensaxe"},send:{es:"Enviar mensaje",gl:"Enviar mensaxe"},success:{es:"Mensaje enviado correctamente",gl:"Mensaxe enviada correctamente"},error:{es:"Error al enviar el mensaje",gl:"Erro ao enviar a mensaxe"}},info:{title:{es:"Informacin de Contacto",gl:"Informacin de Contacto"},phone:{es:"Telfono",gl:"Telfono"},email:{es:"Email",gl:"Email"},whatsapp:{es:"WhatsApp",gl:"WhatsApp"},location:{es:"Ubicacin",gl:"Ubicacin"},locationText:{es:"Ras Baixas, Galicia",gl:"Ras Baixas, Galicia"}}},footer:{description:{es:"Gestin integral de alquileres vacacionales en las Ras Baixas.",gl:"Xestin integral de alugueres vacacionales nas Ras Baixas."},quickLinks:{es:"Enlaces Rpidos",gl:"Ligazns Rpidas"},copyright:{es:" 2025 Galquiler. Todos los derechos reservados.",gl:" 2025 Galquiler. Todos os dereitos reservados."}}},Er=()=>{const{language:e}=ie(),t=s=>{if(typeof s=="object"&&s!==null&&"es"in s&&"gl"in s)return s[e];if(Array.isArray(s))return s.map(a=>t(a));if(typeof s=="object"&&s!==null){const a={};for(const i in s)a[i]=t(s[i]);return a}return s};return{t:s=>{const a=s.split(".");let i=ap;for(const l of a)if(i=i==null?void 0:i[l],!i)return s;return t(i)},tArray:s=>{const a=s.split(".");let i=ap;for(const l of a)if(i=i==null?void 0:i[l],!i)return[];return Array.isArray(i)?t(i):[]}}},Cf=({size:e="medium",className:t=""})=>{const n={small:{container:"h-8",icon:24,text:"text-xl",iconPadding:"p-1"},medium:{container:"h-10",icon:28,text:"text-2xl md:text-3xl",iconPadding:"p-1.5"},large:{container:"h-14",icon:36,text:"text-4xl md:text-5xl",iconPadding:"p-2"}}[e];return o.jsxs("div",{className:`flex items-center gap-2 ${n.container} ${t}`,children:[o.jsx("div",{className:`bg-gradient-to-br from-atlantic-blue to-soft-mint ${n.iconPadding} rounded-lg shadow-md`,children:o.jsx(pt,{className:"text-white",size:n.icon,strokeWidth:2.5})}),o.jsxs("span",{className:`${n.text} font-bold text-atlantic-blue tracking-tight`,children:["Gal",o.jsx("span",{className:"text-soft-mint",children:"quiler"})]})]})},eN=({onLoginClick:e}={})=>{const[t,r]=E.useState(!1),[n,s]=E.useState(!1),{language:a,setLanguage:i}=ie(),{t:l}=Er();E.useEffect(()=>{const u=()=>{s(window.scrollY>20)};return window.addEventListener("scroll",u),()=>window.removeEventListener("scroll",u)},[]);const c=[{href:"#inicio",label:l("nav.home")},{href:"#servicios",label:l("nav.services")},{href:"#como-funciona",label:l("nav.howItWorks")},{href:"#propietarios",label:l("nav.owners")},{href:"#sobre-nosotros",label:l("nav.about")},{href:"#contacto",label:l("nav.contact")}];return o.jsx("header",{className:`fixed w-full z-50 transition-all duration-300 ${n?"bg-white shadow-md":"bg-white/95 backdrop-blur-sm"}`,children:o.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"flex justify-between items-center h-16 md:h-20",children:[o.jsx("a",{href:"#inicio",className:"flex items-center",children:o.jsx(Cf,{size:"medium"})}),o.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[c.map(u=>o.jsx("a",{href:u.href,className:"text-neutral-gray hover:text-atlantic-blue transition-colors duration-200 font-medium",children:u.label},u.href)),o.jsx("button",{onClick:e,className:"px-4 py-2 bg-soft-mint text-atlantic-blue rounded-lg font-medium hover:bg-atlantic-blue hover:text-white transition-all duration-200",children:l("nav.privateArea")}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>i("es"),className:`transition-all duration-200 hover:scale-110 ${a==="es"?"ring-2 ring-atlantic-blue rounded-sm":"opacity-60 hover:opacity-100"}`,title:"Espaol",children:o.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaol",className:"w-8 h-6 object-cover rounded-sm"})}),o.jsx("button",{onClick:()=>i("gl"),className:`transition-all duration-200 hover:scale-110 ${a==="gl"?"ring-2 ring-atlantic-blue rounded-sm":"opacity-60 hover:opacity-100"}`,title:"Galego",children:o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Flag_of_Galicia.svg/40px-Flag_of_Galicia.svg.png",alt:"Galego",className:"w-8 h-6 object-cover rounded-sm"})})]})]}),o.jsxs("div",{className:"md:hidden flex items-center space-x-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>i("es"),className:`transition-all duration-200 ${a==="es"?"ring-2 ring-atlantic-blue rounded-sm":"opacity-60"}`,children:o.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaol",className:"w-7 h-5 object-cover rounded-sm"})}),o.jsx("button",{onClick:()=>i("gl"),className:`transition-all duration-200 ${a==="gl"?"ring-2 ring-atlantic-blue rounded-sm":"opacity-60"}`,children:o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Flag_of_Galicia.svg/40px-Flag_of_Galicia.svg.png",alt:"Galego",className:"w-7 h-5 object-cover rounded-sm"})})]}),o.jsx("button",{onClick:()=>r(!t),className:"text-neutral-gray hover:text-atlantic-blue",children:t?o.jsx(_t,{size:28}):o.jsx(G2,{size:28})})]})]}),t&&o.jsx("div",{className:"md:hidden py-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex flex-col space-y-4",children:[c.map(u=>o.jsx("a",{href:u.href,onClick:()=>r(!1),className:"text-neutral-gray hover:text-atlantic-blue transition-colors duration-200 font-medium py-2",children:u.label},u.href)),o.jsx("button",{onClick:()=>{r(!1),e&&e()},className:"px-4 py-2 bg-soft-mint text-atlantic-blue rounded-lg font-medium hover:bg-atlantic-blue hover:text-white transition-all duration-200 text-center w-full",children:l("nav.privateArea")})]})})]})})},tN=()=>{const{t:e}=Er();return o.jsxs("section",{id:"inicio",className:"relative min-h-screen flex items-center justify-center",children:[o.jsx("div",{className:"absolute inset-0 z-0",style:{backgroundImage:"url(https://images.pexels.com/photos/1268871/pexels-photo-1268871.jpeg?auto=compress&cs=tinysrgb&w=1920)",backgroundSize:"cover",backgroundPosition:"center"},children:o.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-atlantic-blue/80 to-atlantic-blue/60"})}),o.jsxs("div",{className:"relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-6 leading-tight",children:e("hero.title")}),o.jsx("p",{className:"text-xl md:text-2xl text-white/90 mb-10 max-w-3xl mx-auto font-light",children:e("hero.subtitle")}),o.jsxs("a",{href:"#contacto",className:"inline-flex items-center space-x-2 px-8 py-4 bg-soft-mint text-atlantic-blue rounded-lg font-semibold text-lg hover:bg-white hover:shadow-xl transition-all duration-300 transform hover:scale-105",children:[o.jsx("span",{children:e("hero.cta")}),o.jsx(M2,{size:20})]})]}),o.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-32 bg-gradient-to-t from-ivory-white to-transparent"})]})},rN=()=>{const{t:e}=Er(),t=[{icon:pt,title:e("services.items.management.title"),description:e("services.items.management.description")},{icon:kf,title:e("services.items.publishing.title"),description:e("services.items.publishing.description")},{icon:O0,title:e("services.items.communication.title"),description:e("services.items.communication.description")},{icon:A0,title:e("services.items.cleaning.title"),description:e("services.items.cleaning.description")},{icon:W2,title:e("services.items.checkin.title"),description:e("services.items.checkin.description")},{icon:Ja,title:e("services.items.pricing.title"),description:e("services.items.pricing.description")}];return o.jsx("section",{id:"servicios",className:"py-20 bg-ivory-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-atlantic-blue mb-4",children:e("services.title")}),o.jsx("p",{className:"text-xl text-neutral-gray max-w-3xl mx-auto",children:e("services.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:t.map((r,n)=>{const s=r.icon;return o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-xl transition-all duration-300 transform hover:-translate-y-2",children:[o.jsx("div",{className:"bg-soft-mint w-16 h-16 rounded-xl flex items-center justify-center mb-6",children:o.jsx(s,{className:"text-atlantic-blue",size:32})}),o.jsx("h3",{className:"text-xl font-semibold text-atlantic-blue mb-3",children:r.title}),o.jsx("p",{className:"text-neutral-gray leading-relaxed",children:r.description})]},n)})})]})})},nN=()=>{const{t:e}=Er(),t=[{icon:Fl,number:"01",title:e("howItWorks.steps.step1.title"),description:e("howItWorks.steps.step1.description")},{icon:V2,number:"02",title:e("howItWorks.steps.step2.title"),description:e("howItWorks.steps.step2.description")},{icon:Vt,number:"03",title:e("howItWorks.steps.step3.title"),description:e("howItWorks.steps.step3.description")}];return o.jsx("section",{id:"como-funciona",className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-atlantic-blue mb-4",children:e("howItWorks.title")}),o.jsx("p",{className:"text-xl text-neutral-gray max-w-3xl mx-auto",children:e("howItWorks.subtitle")})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12",children:t.map((r,n)=>{const s=r.icon;return o.jsxs("div",{className:"relative",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 rounded-full bg-atlantic-blue text-white text-2xl font-bold mb-6",children:r.number}),o.jsx("div",{className:"bg-soft-mint w-16 h-16 rounded-xl flex items-center justify-center mx-auto mb-6",children:o.jsx(s,{className:"text-atlantic-blue",size:32})}),o.jsx("h3",{className:"text-2xl font-semibold text-atlantic-blue mb-4",children:r.title}),o.jsx("p",{className:"text-neutral-gray leading-relaxed",children:r.description})]}),n<t.length-1&&o.jsx("div",{className:"hidden md:block absolute top-10 left-1/2 w-full h-0.5 bg-soft-mint -z-10"})]},n)})})]})})},sN=()=>{const{t:e,tArray:t}=Er(),[r,n]=E.useState(null),s=[{icon:Ja,title:e("owners.benefits.items.0.title"),description:e("owners.benefits.items.0.description")},{icon:Si,title:e("owners.benefits.items.1.title"),description:e("owners.benefits.items.1.description")},{icon:A2,title:e("owners.benefits.items.2.title"),description:e("owners.benefits.items.2.description")},{icon:nl,title:e("owners.benefits.items.3.title"),description:e("owners.benefits.items.3.description")}],a=t("owners.faq.items"),i=t("owners.testimonials.items");return o.jsx("section",{id:"propietarios",className:"py-20 bg-ivory-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-atlantic-blue mb-4",children:e("owners.title")}),o.jsx("p",{className:"text-xl text-neutral-gray max-w-3xl mx-auto",children:e("owners.subtitle")})]}),o.jsxs("div",{className:"mb-20",children:[o.jsx("h3",{className:"text-3xl font-semibold text-atlantic-blue text-center mb-12",children:e("owners.benefits.title")}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:s.map((l,c)=>{const u=l.icon;return o.jsx("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300",children:o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-soft-mint w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(u,{className:"text-atlantic-blue",size:24})}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-xl font-semibold text-atlantic-blue mb-2",children:l.title}),o.jsx("p",{className:"text-neutral-gray leading-relaxed",children:l.description})]})]})},c)})})]}),o.jsxs("div",{className:"mb-20",children:[o.jsx("h3",{className:"text-3xl font-semibold text-atlantic-blue text-center mb-12",children:e("owners.testimonials.title")}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:i.map((l,c)=>o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm hover:shadow-lg transition-all duration-300",children:[o.jsx("div",{className:"flex items-center mb-4",children:[...Array(5)].map((u,d)=>o.jsx(Pa,{className:"text-yellow-400 fill-current",size:20},d))}),o.jsxs("p",{className:"text-neutral-gray italic mb-6 leading-relaxed",children:['"',l.text,'"']}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-atlantic-blue",children:l.name}),o.jsx("p",{className:"text-sm text-neutral-gray",children:l.location})]})]},c))})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-semibold text-atlantic-blue text-center mb-12",children:e("owners.faq.title")}),o.jsx("div",{className:"max-w-3xl mx-auto space-y-4",children:a.map((l,c)=>o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden",children:[o.jsxs("button",{onClick:()=>n(r===c?null:c),className:"w-full px-8 py-6 flex items-center justify-between text-left hover:bg-ivory-white transition-colors duration-200",children:[o.jsx("span",{className:"text-lg font-semibold text-atlantic-blue pr-4",children:l.question}),r===c?o.jsx(L2,{className:"text-atlantic-blue flex-shrink-0",size:24}):o.jsx(E0,{className:"text-atlantic-blue flex-shrink-0",size:24})]}),r===c&&o.jsx("div",{className:"px-8 pb-6",children:o.jsx("p",{className:"text-neutral-gray leading-relaxed",children:l.answer})})]},c))})]})]})})},aN=()=>{const{t:e}=Er(),t=[{icon:Ee,text:"Calendario de reservas"},{icon:Vt,text:"Informes de ingresos"},{icon:Pa,text:"Valoraciones de huspedes"},{icon:H2,text:"Enlaces a tus anuncios"}];return o.jsx("section",{id:"area-privada",className:"py-20 bg-gradient-to-br from-atlantic-blue to-atlantic-blue/80",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[o.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-full w-20 h-20 flex items-center justify-center mx-auto mb-6",children:o.jsx(ad,{className:"text-white",size:40})}),o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-white mb-4",children:e("privateArea.title")}),o.jsx("div",{className:"inline-block bg-soft-mint px-6 py-2 rounded-full mb-8",children:o.jsx("span",{className:"text-atlantic-blue font-semibold",children:e("privateArea.comingSoon")})}),o.jsx("p",{className:"text-xl text-white/90 mb-12 max-w-2xl mx-auto leading-relaxed",children:e("privateArea.description")}),o.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 mb-12",children:t.map((r,n)=>{const s=r.icon;return o.jsxs("div",{className:"bg-white/10 backdrop-blur-sm p-6 rounded-xl",children:[o.jsx(s,{className:"text-soft-mint mx-auto mb-3",size:32}),o.jsx("p",{className:"text-white text-sm font-medium",children:r.text})]},n)})}),o.jsx("button",{disabled:!0,className:"px-8 py-4 bg-white/20 text-white rounded-lg font-semibold cursor-not-allowed opacity-60",children:e("privateArea.requestAccess")})]})})},iN=()=>{const{t:e}=Er(),t=[{icon:U2,title:e("about.values.trust.title"),description:e("about.values.trust.description")},{icon:jr,title:e("about.values.proximity.title"),description:e("about.values.proximity.description")},{icon:P0,title:e("about.values.transparency.title"),description:e("about.values.transparency.description")}];return o.jsx("section",{id:"sobre-nosotros",className:"py-20 bg-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-atlantic-blue mb-4",children:e("about.title")}),o.jsx("p",{className:"text-xl text-neutral-gray max-w-3xl mx-auto",children:e("about.subtitle")})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center mb-20",children:[o.jsx("div",{children:o.jsx("p",{className:"text-lg text-neutral-gray leading-relaxed mb-6",children:e("about.description")})}),o.jsx("div",{className:"rounded-2xl overflow-hidden shadow-xl",children:o.jsx("img",{src:"https://images.pexels.com/photos/1660995/pexels-photo-1660995.jpeg?auto=compress&cs=tinysrgb&w=800",alt:"Ras Baixas",className:"w-full h-full object-cover"})})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"text-3xl font-semibold text-atlantic-blue text-center mb-12",children:e("about.values.title")}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:t.map((r,n)=>{const s=r.icon;return o.jsxs("div",{className:"text-center p-8 rounded-2xl bg-ivory-white hover:shadow-lg transition-all duration-300",children:[o.jsx("div",{className:"bg-soft-mint w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6",children:o.jsx(s,{className:"text-atlantic-blue",size:32})}),o.jsx("h4",{className:"text-2xl font-semibold text-atlantic-blue mb-4",children:r.title}),o.jsx("p",{className:"text-neutral-gray leading-relaxed",children:r.description})]},n)})})]})]})})},oN=()=>{const{t:e}=Er(),[t,r]=E.useState({name:"",email:"",phone:"",message:""}),[n,s]=E.useState("idle"),a=async l=>{l.preventDefault();try{s("success"),r({name:"",email:"",phone:"",message:""}),setTimeout(()=>s("idle"),5e3)}catch{s("error"),setTimeout(()=>s("idle"),5e3)}},i=l=>{r({...t,[l.target.name]:l.target.value})};return o.jsx("section",{id:"contacto",className:"py-20 bg-ivory-white",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"text-center mb-16",children:[o.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-atlantic-blue mb-4",children:e("contact.title")}),o.jsx("p",{className:"text-xl text-neutral-gray max-w-3xl mx-auto",children:e("contact.subtitle")})]}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[o.jsx("div",{children:o.jsxs("form",{onSubmit:a,className:"bg-white p-8 rounded-2xl shadow-sm",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-atlantic-blue mb-2",children:e("contact.form.name")}),o.jsx("input",{type:"text",id:"name",name:"name",value:t.name,onChange:i,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-atlantic-blue focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-atlantic-blue mb-2",children:e("contact.form.email")}),o.jsx("input",{type:"email",id:"email",name:"email",value:t.email,onChange:i,required:!0,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-atlantic-blue focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"phone",className:"block text-sm font-medium text-atlantic-blue mb-2",children:e("contact.form.phone")}),o.jsx("input",{type:"tel",id:"phone",name:"phone",value:t.phone,onChange:i,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-atlantic-blue focus:border-transparent transition-all duration-200"})]}),o.jsxs("div",{className:"mb-6",children:[o.jsx("label",{htmlFor:"message",className:"block text-sm font-medium text-atlantic-blue mb-2",children:e("contact.form.message")}),o.jsx("textarea",{id:"message",name:"message",value:t.message,onChange:i,required:!0,rows:5,className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-atlantic-blue focus:border-transparent transition-all duration-200 resize-none"})]}),n==="success"&&o.jsx("div",{className:"mb-6 p-4 bg-soft-mint rounded-lg",children:o.jsx("p",{className:"text-atlantic-blue font-medium",children:e("contact.form.success")})}),n==="error"&&o.jsx("div",{className:"mb-6 p-4 bg-red-100 rounded-lg",children:o.jsx("p",{className:"text-red-600 font-medium",children:e("contact.form.error")})}),o.jsxs("button",{type:"submit",className:"w-full flex items-center justify-center space-x-2 px-8 py-4 bg-atlantic-blue text-white rounded-lg font-semibold hover:bg-atlantic-blue/90 transition-all duration-200 transform hover:scale-105",children:[o.jsx("span",{children:e("contact.form.send")}),o.jsx(M0,{size:20})]})]})}),o.jsxs("div",{children:[o.jsxs("div",{className:"bg-white p-8 rounded-2xl shadow-sm mb-8",children:[o.jsx("h3",{className:"text-2xl font-semibold text-atlantic-blue mb-6",children:e("contact.info.title")}),o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-soft-mint w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(Ni,{className:"text-atlantic-blue",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-atlantic-blue mb-1",children:e("contact.info.phone")}),o.jsx("p",{className:"text-neutral-gray",children:"+34 609 562 176"})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-soft-mint w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(ji,{className:"text-atlantic-blue",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-atlantic-blue mb-1",children:e("contact.info.email")}),o.jsx("p",{className:"text-neutral-gray",children:"info@galquiler.es"})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-soft-mint w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(O0,{className:"text-atlantic-blue",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-atlantic-blue mb-1",children:e("contact.info.whatsapp")}),o.jsx("p",{className:"text-neutral-gray",children:"+34 609 562 176"})]})]}),o.jsxs("div",{className:"flex items-start space-x-4",children:[o.jsx("div",{className:"bg-soft-mint w-12 h-12 rounded-lg flex items-center justify-center flex-shrink-0",children:o.jsx(jr,{className:"text-atlantic-blue",size:24})}),o.jsxs("div",{children:[o.jsx("p",{className:"font-semibold text-atlantic-blue mb-1",children:e("contact.info.location")}),o.jsx("p",{className:"text-neutral-gray",children:e("contact.info.locationText")})]})]})]})]}),o.jsx("div",{className:"bg-white p-4 rounded-2xl shadow-sm overflow-hidden",children:o.jsx("div",{className:"aspect-video bg-gray-200 rounded-lg overflow-hidden",children:o.jsx("iframe",{src:"https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d185987.0682738!2d-8.87!3d42.45!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0xd2f61c7c4f7c9e3%3A0x7c8f7c4f7c4f7c4f!2sR%C3%ADas%20Baixas%2C%20Galicia!5e0!3m2!1sen!2ses!4v1234567890",width:"100%",height:"100%",style:{border:0},allowFullScreen:!0,loading:"lazy",referrerPolicy:"no-referrer-when-downgrade",title:"Mapa de Ras Baixas"})})})]})]})]})})},lN=()=>{const{t:e}=Er(),{language:t,setLanguage:r}=ie(),n=[{href:"#inicio",label:e("nav.home")},{href:"#servicios",label:e("nav.services")},{href:"#propietarios",label:e("nav.owners")},{href:"#contacto",label:e("nav.contact")}];return o.jsx("footer",{className:"bg-atlantic-blue text-white py-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-12 mb-8",children:[o.jsxs("div",{children:[o.jsx("div",{className:"mb-4",children:o.jsx(Cf,{size:"medium",className:"[&>div]:bg-white/10 [&>div]:shadow-none [&_svg]:text-soft-mint [&_span]:text-white"})}),o.jsx("p",{className:"text-white/80 leading-relaxed",children:e("footer.description")})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-4",children:e("footer.quickLinks")}),o.jsx("ul",{className:"space-y-2",children:n.map(s=>o.jsx("li",{children:o.jsx("a",{href:s.href,className:"text-white/80 hover:text-white transition-colors duration-200",children:s.label})},s.href))})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"text-lg font-semibold mb-4",children:"Idioma / Lingua"}),o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsxs("button",{onClick:()=>r("es"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${t==="es"?"bg-soft-mint text-atlantic-blue font-semibold":"bg-white/10 text-white/80 hover:bg-white/20"}`,children:[o.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaa",className:"w-6 h-4 object-cover rounded-sm"}),o.jsx("span",{children:"Espaol"})]}),o.jsxs("button",{onClick:()=>r("gl"),className:`flex items-center space-x-2 px-4 py-2 rounded-lg transition-all duration-200 ${t==="gl"?"bg-soft-mint text-atlantic-blue font-semibold":"bg-white/10 text-white/80 hover:bg-white/20"}`,children:[o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Flag_of_Galicia.svg/40px-Flag_of_Galicia.svg.png",alt:"Galicia",className:"w-6 h-4 object-cover rounded-sm"}),o.jsx("span",{children:"Galego"})]})]})]})]}),o.jsx("div",{className:"border-t border-white/20 pt-8 text-center",children:o.jsx("p",{className:"text-white/80",children:e("footer.copyright")})})]})})},cN=({onSuccess:e})=>{const[t,r]=E.useState(""),[n,s]=E.useState(""),[a,i]=E.useState(null),[l,c]=E.useState(!1),{signIn:u}=Kt(),{language:d}=ie(),h={es:{title:"Iniciar Sesin",email:"Correo electrnico",password:"Contrasea",submit:"Entrar",submitting:"Entrando...",invalidCredentials:"Correo o contrasea incorrectos",errorOccurred:"Ha ocurrido un error. Intntalo de nuevo."},gl:{title:"Iniciar Sesin",email:"Correo electrnico",password:"Contrasinal",submit:"Entrar",submitting:"Entrando...",invalidCredentials:"Correo ou contrasinal incorrectos",errorOccurred:"Ocorreu un erro. Tntao de novo."}}[d],p=async v=>{v.preventDefault(),i(null),c(!0);const{error:m}=await u(t,n);m?(m.message.includes("Invalid login credentials")?i(h.invalidCredentials):i(h.errorOccurred),c(!1)):e&&e()};return o.jsxs("div",{className:"w-full max-w-md mx-auto bg-white rounded-2xl shadow-xl p-8",children:[o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"bg-atlantic-blue w-16 h-16 rounded-full flex items-center justify-center",children:o.jsx(ad,{className:"text-white",size:32})})}),o.jsx("h2",{className:"text-3xl font-bold text-atlantic-blue text-center mb-8",children:h.title}),a&&o.jsxs("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg flex items-start gap-3",children:[o.jsx($2,{className:"text-red-600 flex-shrink-0 mt-0.5",size:20}),o.jsx("p",{className:"text-red-700 text-sm",children:a})]}),o.jsxs("form",{onSubmit:p,className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-neutral-gray mb-2",children:h.email}),o.jsxs("div",{className:"relative",children:[o.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-gray",size:20}),o.jsx("input",{id:"email",type:"email",value:t,onChange:v=>r(v.target.value),required:!0,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent outline-none transition-all",placeholder:"tu@email.com"})]})]}),o.jsxs("div",{children:[o.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-neutral-gray mb-2",children:h.password}),o.jsxs("div",{className:"relative",children:[o.jsx(ad,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-gray",size:20}),o.jsx("input",{id:"password",type:"password",value:n,onChange:v=>s(v.target.value),required:!0,className:"w-full pl-11 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent outline-none transition-all",placeholder:""})]})]}),o.jsx("button",{type:"submit",disabled:l,className:"w-full bg-atlantic-blue text-white py-3 rounded-lg font-semibold hover:bg-atlantic-blue/90 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:l?o.jsxs(o.Fragment,{children:[o.jsx(B2,{className:"animate-spin",size:20}),h.submitting]}):h.submit})]})]})};function Nr(e){"@babel/helpers - typeof";return Nr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Nr(e)}function uN(e,t){if(Nr(e)!="object"||!e)return e;var r=e[Symbol.toPrimitive];if(r!==void 0){var n=r.call(e,t||"default");if(Nr(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0(e){var t=uN(e,"string");return Nr(t)=="symbol"?t:t+""}function gn(e,t,r){return(t=R0(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ip(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(s){return Object.getOwnPropertyDescriptor(e,s).enumerable})),r.push.apply(r,n)}return r}function oe(e){for(var t=1;t<arguments.length;t++){var r=arguments[t]!=null?arguments[t]:{};t%2?ip(Object(r),!0).forEach(function(n){gn(e,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ip(Object(r)).forEach(function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(r,n))})}return e}function Ul(e,t){if(e==null)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(t.indexOf(n)!==-1)continue;r[n]=e[n]}return r}function cr(e,t){if(e==null)return{};var r,n,s=Ul(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)r=a[n],t.indexOf(r)===-1&&{}.propertyIsEnumerable.call(e,r)&&(s[r]=e[r])}return s}function Re(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function op(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,R0(n.key),n)}}function Ie(e,t,r){return t&&op(e.prototype,t),r&&op(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function sl(e){return sl=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},sl(e)}function I0(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I0=function(){return!!e})()}function dN(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function fN(e,t){if(t&&(Nr(t)=="object"||typeof t=="function"))return t;if(t!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return dN(e)}function Qe(e,t,r){return t=sl(t),fN(e,I0()?Reflect.construct(t,r||[],sl(e).constructor):t.apply(e,r))}function al(e,t){return al=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},al(e,t)}function Je(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&al(e,t)}function L0(e){if(Array.isArray(e))return e}function hN(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n,s,a,i,l=[],c=!0,u=!1;try{if(a=(r=r.call(e)).next,t!==0)for(;!(c=(n=a.call(r)).done)&&(l.push(n.value),l.length!==t);c=!0);}catch(d){u=!0,s=d}finally{try{if(!c&&r.return!=null&&(i=r.return(),Object(i)!==i))return}finally{if(u)throw s}}return l}}function od(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=Array(t);r<t;r++)n[r]=e[r];return n}function Tf(e,t){if(e){if(typeof e=="string")return od(e,t);var r={}.toString.call(e).slice(8,-1);return r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set"?Array.from(e):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?od(e,t):void 0}}function z0(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Tn(e,t){return L0(e)||hN(e,t)||Tf(e,t)||z0()}function F0(e){var t,r,n="";if(typeof e=="string"||typeof e=="number")n+=e;else if(typeof e=="object")if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=F0(e[t]))&&(n&&(n+=" "),n+=r);else for(t in e)e[t]&&(n&&(n+=" "),n+=t);return n}function je(){for(var e,t,r=0,n="";r<arguments.length;)(e=arguments[r++])&&(t=F0(e))&&(n&&(n+=" "),n+=t);return n}function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)({}).hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},_e.apply(null,arguments)}var mN=function(e,t,r,n,s,a,i,l){if(!e){var c;if(t===void 0)c=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[r,n,s,a,i,l],d=0;c=new Error(t.replace(/%s/g,function(){return u[d++]})),c.name="Invariant Violation"}throw c.framesToPop=1,c}},pN=mN;const Za=vt(pN);var gN=function(){};function vN(e,t){var r={};return Object.keys(e).forEach(function(n){r[So(n)]=gN}),r}function lp(e,t){return e[t]!==void 0}function So(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function yN(e){return!!e&&(typeof e!="function"||e.prototype&&e.prototype.isReactComponent)}function xN(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,al(e,t)}function U0(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);e!=null&&this.setState(e)}function W0(e){function t(r){var n=this.constructor.getDerivedStateFromProps(e,r);return n??null}this.setState(t.bind(this))}function H0(e,t){try{var r=this.props,n=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(r,n)}finally{this.props=r,this.state=n}}U0.__suppressDeprecationWarning=!0;W0.__suppressDeprecationWarning=!0;H0.__suppressDeprecationWarning=!0;function wN(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if(typeof e.getDerivedStateFromProps!="function"&&typeof t.getSnapshotBeforeUpdate!="function")return e;var r=null,n=null,s=null;if(typeof t.componentWillMount=="function"?r="componentWillMount":typeof t.UNSAFE_componentWillMount=="function"&&(r="UNSAFE_componentWillMount"),typeof t.componentWillReceiveProps=="function"?n="componentWillReceiveProps":typeof t.UNSAFE_componentWillReceiveProps=="function"&&(n="UNSAFE_componentWillReceiveProps"),typeof t.componentWillUpdate=="function"?s="componentWillUpdate":typeof t.UNSAFE_componentWillUpdate=="function"&&(s="UNSAFE_componentWillUpdate"),r!==null||n!==null||s!==null){var a=e.displayName||e.name,i=typeof e.getDerivedStateFromProps=="function"?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error(`Unsafe legacy lifecycles will not be called for components using new component APIs.

`+a+" uses "+i+" but also contains the following legacy lifecycles:"+(r!==null?`
  `+r:"")+(n!==null?`
  `+n:"")+(s!==null?`
  `+s:"")+`

The above lifecycles should be removed. Learn more about this warning here:
https://fb.me/react-async-component-lifecycle-hooks`)}if(typeof e.getDerivedStateFromProps=="function"&&(t.componentWillMount=U0,t.componentWillReceiveProps=W0),typeof t.getSnapshotBeforeUpdate=="function"){if(typeof t.componentDidUpdate!="function")throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=H0;var l=t.componentDidUpdate;t.componentDidUpdate=function(u,d,f){var h=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:f;l.call(this,u,d,h)}}return e}var bN="/Users/jquense/src/uncontrollable/src/uncontrollable.js";function B0(e,t,r){r===void 0&&(r=[]);var n=e.displayName||e.name||"Component",s=yN(e),a=Object.keys(t),i=a.map(So);s||!r.length||Za(!1);var l=function(u){xN(d,u);function d(){for(var h,p=arguments.length,v=new Array(p),m=0;m<p;m++)v[m]=arguments[m];h=u.call.apply(u,[this].concat(v))||this,h.handlers=Object.create(null),a.forEach(function(x){var g=t[x],y=function(j){if(h.props[g]){var N;h._notifying=!0;for(var S=arguments.length,_=new Array(S>1?S-1:0),k=1;k<S;k++)_[k-1]=arguments[k];(N=h.props)[g].apply(N,[j].concat(_)),h._notifying=!1}h.unmounted||h.setState(function(C){var O,A=C.values;return{values:_e(Object.create(null),A,(O={},O[x]=j,O))}})};h.handlers[g]=y}),r.length&&(h.attachRef=function(x){h.inner=x});var w=Object.create(null);return a.forEach(function(x){w[x]=h.props[So(x)]}),h.state={values:w,prevProps:{}},h}var f=d.prototype;return f.shouldComponentUpdate=function(){return!this._notifying},d.getDerivedStateFromProps=function(p,v){var m=v.values,w=v.prevProps,x={values:_e(Object.create(null),m),prevProps:{}};return a.forEach(function(g){x.prevProps[g]=p[g],!lp(p,g)&&lp(w,g)&&(x.values[g]=p[So(g)])}),x},f.componentWillUnmount=function(){this.unmounted=!0},f.render=function(){var p=this,v=this.props,m=v.innerRef,w=Ul(v,["innerRef"]);i.forEach(function(g){delete w[g]});var x={};return a.forEach(function(g){var y=p.props[g];x[g]=y!==void 0?y:p.state.values[g]}),T.createElement(e,_e({},w,x,this.handlers,{ref:m||this.attachRef}))},d}(T.Component);wN(l),l.displayName="Uncontrolled("+n+")",l.propTypes=_e({innerRef:function(){}},vN(t)),r.forEach(function(u){l.prototype[u]=function(){var f;return(f=this.inner)[u].apply(f,arguments)}});var c=l;return T.forwardRef&&(c=T.forwardRef(function(u,d){return T.createElement(l,_e({},u,{innerRef:d,__source:{fileName:bN,lineNumber:128},__self:this}))}),c.propTypes=l.propTypes),c.ControlledComponent=e,c.deferControlTo=function(u,d,f){return d===void 0&&(d={}),B0(u,_e({},t,d),f)},c}var q0={exports:{}},_N="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",jN=_N,NN=jN;function V0(){}function G0(){}G0.resetWarningCache=V0;var SN=function(){function e(n,s,a,i,l,c){if(c!==NN){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}e.isRequired=e;function t(){return e}var r={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:G0,resetWarningCache:V0};return r.PropTypes=r,r};q0.exports=SN();var kN=q0.exports;const L=vt(kN);var il="milliseconds",ei="seconds",ti="minutes",ri="hours",Pn="day",Es="week",ni="month",Dn="year",On="decade",$n="century",Y0={milliseconds:1,seconds:1e3,minutes:60*1e3,hours:60*60*1e3,day:24*60*60*1e3,week:7*24*60*60*1e3},EN={month:1,year:12,decade:10*12,century:100*12};function CN(e){return[31,TN(e),31,30,31,30,31,31,30,31,30,31]}function TN(e){return e%4===0&&e%100!==0||e%400===0?29:28}function Gt(e,t,r){switch(e=new Date(e),r){case il:case ei:case ti:case ri:case Pn:case Es:return PN(e,t*Y0[r]);case ni:case Dn:case On:case $n:return DN(e,t*EN[r])}throw new TypeError('Invalid units: "'+r+'"')}function PN(e,t){var r=new Date(+e+t);return ON(e,r)}function DN(e,t){var r=e.getFullYear(),n=e.getMonth(),s=e.getDate(),a=r*12+n+t,i=Math.trunc(a/12),l=a%12,c=Math.min(s,CN(i)[l]),u=new Date(e);return u.setFullYear(i),u.setDate(1),u.setMonth(l),u.setDate(c),u}function ON(e,t){var r=e.getTimezoneOffset(),n=t.getTimezoneOffset(),s=n-r;return new Date(+t+s*Y0.minutes)}function si(e,t,r){return Gt(e,-t,r)}function Be(e,t,r){switch(e=new Date(e),t){case $n:case On:case Dn:e=ll(e,0);case ni:e=Z0(e,1);case Es:case Pn:e=oi(e,0);case ri:e=Cs(e,0);case ti:e=ii(e,0);case ei:e=ai(e,0)}return t===On&&(e=si(e,Mn(e)%10,"year")),t===$n&&(e=si(e,Mn(e)%100,"year")),t===Es&&(e=ex(e,0,r)),e}function ol(e,t,r){switch(e=new Date(e),e=Be(e,t,r),t){case $n:case On:case Dn:case ni:case Es:e=Gt(e,1,t),e=si(e,1,Pn),e.setHours(23,59,59,999);break;case Pn:e.setHours(23,59,59,999);break;case ri:case ti:case ei:e=Gt(e,1,t),e=si(e,1,il)}return e}var Us=Hs(function(e,t){return e===t}),Pf=Hs(function(e,t){return e!==t}),Wl=Hs(function(e,t){return e>t}),ki=Hs(function(e,t){return e>=t}),Df=Hs(function(e,t){return e<t}),Ws=Hs(function(e,t){return e<=t});function K0(){return new Date(Math.min.apply(Math,arguments))}function X0(){return new Date(Math.max.apply(Math,arguments))}function Q0(e,t,r,n){return n=n||"day",(!t||ki(e,t,n))&&(!r||Ws(e,r,n))}var ai=nn("Milliseconds"),ii=nn("Seconds"),Cs=nn("Minutes"),oi=nn("Hours"),J0=nn("Day"),Z0=nn("Date"),ll=nn("Month"),Mn=nn("FullYear");function $N(e,t){return t===void 0?Mn(Be(e,On)):Gt(e,t+10,Dn)}function MN(e,t){return t===void 0?Mn(Be(e,$n)):Gt(e,t+100,Dn)}function ex(e,t,r){var n=(J0(e)+7-(r||0))%7;return t===void 0?n:Gt(e,t-n,Pn)}function AN(e,t,r,n){var s,a,i;switch(r){case il:case ei:case ti:case ri:case Pn:case Es:s=t.getTime()-e.getTime();break;case ni:case Dn:case On:case $n:s=(Mn(t)-Mn(e))*12+ll(t)-ll(e);break;default:throw new TypeError('Invalid units: "'+r+'"')}switch(r){case il:a=1;break;case ei:a=1e3;break;case ti:a=1e3*60;break;case ri:a=1e3*60*60;break;case Pn:a=1e3*60*60*24;break;case Es:a=1e3*60*60*24*7;break;case ni:a=1;break;case Dn:a=12;break;case On:a=120;break;case $n:a=1200;break;default:throw new TypeError('Invalid units: "'+r+'"')}return i=s/a,n?i:Math.round(i)}function nn(e){var t=function(r){switch(r){case"Milliseconds":return 36e5;case"Seconds":return 3600;case"Minutes":return 60;case"Hours":return 1;default:return null}}(e);return function(r,n){if(n===void 0)return r["get"+e]();var s=new Date(r);return s["set"+e](n),t&&s["get"+e]()!=n&&(e==="Hours"||n>=t&&s.getHours()-r.getHours()<Math.floor(n/t))&&s["set"+e](n+t),s}}function Hs(e){return function(t,r,n){return e(+Be(t,n),+Be(r,n))}}const cp=Object.freeze(Object.defineProperty({__proto__:null,add:Gt,century:MN,date:Z0,day:J0,decade:$N,diff:AN,endOf:ol,eq:Us,gt:Wl,gte:ki,hours:oi,inRange:Q0,lt:Df,lte:Ws,max:X0,milliseconds:ai,min:K0,minutes:Cs,month:ll,neq:Pf,seconds:ii,startOf:Be,subtract:si,weekday:ex,year:Mn},Symbol.toStringTag,{value:"Module"}));function RN(e){if(Array.isArray(e))return od(e)}function tx(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function IN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ko(e){return RN(e)||tx(e)||Tf(e)||IN()}function LN(e,t,r){var n=-1,s=e.length;t<0&&(t=-t>s?0:s+t),r=r>s?s:r,r<0&&(r+=s),s=t>r?0:r-t>>>0,t>>>=0;for(var a=Array(s);++n<s;)a[n]=e[n+t];return a}var rx=LN;function zN(e,t){return e===t||e!==e&&t!==t}var Ei=zN,FN=typeof ge=="object"&&ge&&ge.Object===Object&&ge,nx=FN,UN=nx,WN=typeof self=="object"&&self&&self.Object===Object&&self,HN=UN||WN||Function("return this")(),ur=HN,BN=ur,qN=BN.Symbol,Bs=qN,up=Bs,sx=Object.prototype,VN=sx.hasOwnProperty,GN=sx.toString,ca=up?up.toStringTag:void 0;function YN(e){var t=VN.call(e,ca),r=e[ca];try{e[ca]=void 0;var n=!0}catch{}var s=GN.call(e);return n&&(t?e[ca]=r:delete e[ca]),s}var KN=YN,XN=Object.prototype,QN=XN.toString;function JN(e){return QN.call(e)}var ZN=JN,dp=Bs,eS=KN,tS=ZN,rS="[object Null]",nS="[object Undefined]",fp=dp?dp.toStringTag:void 0;function sS(e){return e==null?e===void 0?nS:rS:fp&&fp in Object(e)?eS(e):tS(e)}var qs=sS;function aS(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var Cr=aS,iS=qs,oS=Cr,lS="[object AsyncFunction]",cS="[object Function]",uS="[object GeneratorFunction]",dS="[object Proxy]";function fS(e){if(!oS(e))return!1;var t=iS(e);return t==cS||t==uS||t==lS||t==dS}var Of=fS,hS=9007199254740991;function mS(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=hS}var $f=mS,pS=Of,gS=$f;function vS(e){return e!=null&&gS(e.length)&&!pS(e)}var Ci=vS,yS=9007199254740991,xS=/^(?:0|[1-9]\d*)$/;function wS(e,t){var r=typeof e;return t=t??yS,!!t&&(r=="number"||r!="symbol"&&xS.test(e))&&e>-1&&e%1==0&&e<t}var Mf=wS,bS=Ei,_S=Ci,jS=Mf,NS=Cr;function SS(e,t,r){if(!NS(r))return!1;var n=typeof t;return(n=="number"?_S(r)&&jS(t,r.length):n=="string"&&t in r)?bS(r[t],e):!1}var Hl=SS,kS=/\s/;function ES(e){for(var t=e.length;t--&&kS.test(e.charAt(t)););return t}var CS=ES,TS=CS,PS=/^\s+/;function DS(e){return e&&e.slice(0,TS(e)+1).replace(PS,"")}var OS=DS;function $S(e){return e!=null&&typeof e=="object"}var sn=$S,MS=qs,AS=sn,RS="[object Symbol]";function IS(e){return typeof e=="symbol"||AS(e)&&MS(e)==RS}var Ti=IS,LS=OS,hp=Cr,zS=Ti,mp=NaN,FS=/^[-+]0x[0-9a-f]+$/i,US=/^0b[01]+$/i,WS=/^0o[0-7]+$/i,HS=parseInt;function BS(e){if(typeof e=="number")return e;if(zS(e))return mp;if(hp(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=hp(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=LS(e);var r=US.test(e);return r||WS.test(e)?HS(e.slice(2),r?2:8):FS.test(e)?mp:+e}var qS=BS,VS=qS,pp=1/0,GS=17976931348623157e292;function YS(e){if(!e)return e===0?e:0;if(e=VS(e),e===pp||e===-pp){var t=e<0?-1:1;return t*GS}return e===e?e:0}var ax=YS,KS=ax;function XS(e){var t=KS(e),r=t%1;return t===t?r?t-r:t:0}var ix=XS,QS=rx,JS=Hl,ZS=ix,ek=Math.ceil,tk=Math.max;function rk(e,t,r){(r?JS(e,t,r):t===void 0)?t=1:t=tk(ZS(t),0);var n=e==null?0:e.length;if(!n||t<1)return[];for(var s=0,a=0,i=Array(ek(n/t));s<n;)i[a++]=QS(e,s,s+=t);return i}var nk=rk;const sk=vt(nk);function Pi(e){return e&&e.ownerDocument||document}function ak(e){var t=Pi(e);return t&&t.defaultView||window}function ik(e,t){return ak(e).getComputedStyle(e,t)}var ok=/([A-Z])/g;function lk(e){return e.replace(ok,"-$1").toLowerCase()}var ck=/^ms-/;function io(e){return lk(e).replace(ck,"-ms-")}var uk=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function dk(e){return!!(e&&uk.test(e))}function Jn(e,t){var r="",n="";if(typeof t=="string")return e.style.getPropertyValue(io(t))||ik(e).getPropertyValue(io(t));Object.keys(t).forEach(function(s){var a=t[s];!a&&a!==0?e.style.removeProperty(io(s)):dk(s)?n+=s+"("+a+") ":r+=io(s)+": "+a+";"}),n&&(r+="transform: "+n+";"),e.style.cssText+=";"+r}function li(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}function fk(e){return"nodeType"in e&&e.nodeType===document.DOCUMENT_NODE}function Af(e){return"window"in e&&e.window===e?e:fk(e)&&e.defaultView||!1}function ox(e){var t=e==="pageXOffset"?"scrollLeft":"scrollTop";function r(n,s){var a=Af(n);if(s===void 0)return a?a[e]:n[t];a?a.scrollTo(a[e],s):n[t]=s}return r}const lx=ox("pageXOffset"),cx=ox("pageYOffset");function _n(e){var t=Pi(e),r={top:0,left:0,height:0,width:0},n=t&&t.documentElement;return!n||!li(n,e)||(e.getBoundingClientRect!==void 0&&(r=e.getBoundingClientRect()),r={top:r.top+cx(n)-(n.clientTop||0),left:r.left+lx(n)-(n.clientLeft||0),width:r.width,height:r.height}),r}var hk=function(t){return!!t&&"offsetParent"in t};function mk(e){for(var t=Pi(e),r=e&&e.offsetParent;hk(r)&&r.nodeName!=="HTML"&&Jn(r,"position")==="static";)r=r.offsetParent;return r||t.documentElement}var pk=function(t){return t.nodeName&&t.nodeName.toLowerCase()};function ux(e,t){var r={top:0,left:0},n;if(Jn(e,"position")==="fixed")n=e.getBoundingClientRect();else{var s=t||mk(e);n=_n(e),pk(s)!=="html"&&(r=_n(s));var a=String(Jn(s,"borderTopWidth")||0);r.top+=parseInt(a,10)-cx(s)||0;var i=String(Jn(s,"borderLeftWidth")||0);r.left+=parseInt(i,10)-lx(s)||0}var l=String(Jn(e,"marginTop")||0),c=String(Jn(e,"marginLeft")||0);return _e({},n,{top:n.top-r.top-(parseInt(l,10)||0),left:n.left-r.left-(parseInt(c,10)||0)})}const Rf=!!(typeof window<"u"&&window.document&&window.document.createElement);var gp=new Date().getTime();function gk(e){var t=new Date().getTime(),r=Math.max(0,16-(t-gp)),n=setTimeout(e,r);return gp=t,n}var vk=["","webkit","moz","o","ms"],ld="clearTimeout",cd=gk,vp=function(t,r){return t+(t?r[0].toUpperCase()+r.substr(1):r)+"AnimationFrame"};Rf&&vk.some(function(e){var t=vp(e,"request");return t in window&&(ld=vp(e,"cancel"),cd=function(n){return window[t](n)}),!!cd});var yp=function(t){typeof window[ld]=="function"&&window[ld](t)},dx=cd,Bc;function yk(e,t){if(!Bc){var r=document.body,n=r.matches||r.matchesSelector||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector;Bc=function(a,i){return n.call(a,i)}}return Bc(e,t)}var xk=Function.prototype.bind.call(Function.prototype.call,[].slice);function wk(e,t){return xk(e.querySelectorAll(t))}var ud=!1,dd=!1;try{var qc={get passive(){return ud=!0},get once(){return dd=ud=!0}};Rf&&(window.addEventListener("test",qc,qc),window.removeEventListener("test",qc,!0))}catch{}function bk(e,t,r,n){if(n&&typeof n!="boolean"&&!dd){var s=n.once,a=n.capture,i=r;!dd&&s&&(i=r.__once||function l(c){this.removeEventListener(t,l,a),r.call(this,c)},r.__once=i),e.addEventListener(t,i,ud?n:a)}e.addEventListener(t,r,n)}function _k(e){const t=E.useRef(e);return E.useEffect(()=>{t.current=e},[e]),t}function xp(e){const t=_k(e);return E.useCallback(function(...r){return t.current&&t.current(...r)},[t])}function wp(){return E.useState(null)}function jk(){const e=E.useRef(!0),t=E.useRef(()=>e.current);return E.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Nk(e){const t=jk();return[e[0],E.useCallback(r=>{if(t())return e[1](r)},[t,e[1]])]}var ft="top",Mt="bottom",At="right",ht="left",If="auto",Di=[ft,Mt,At,ht],Ts="start",ci="end",Sk="clippingParents",fx="viewport",ua="popper",kk="reference",bp=Di.reduce(function(e,t){return e.concat([t+"-"+Ts,t+"-"+ci])},[]),Lf=[].concat(Di,[If]).reduce(function(e,t){return e.concat([t,t+"-"+Ts,t+"-"+ci])},[]),Ek="beforeRead",Ck="read",Tk="afterRead",Pk="beforeMain",Dk="main",Ok="afterMain",$k="beforeWrite",Mk="write",Ak="afterWrite",Rk=[Ek,Ck,Tk,Pk,Dk,Ok,$k,Mk,Ak];function or(e){return e.split("-")[0]}function jt(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function An(e){var t=jt(e).Element;return e instanceof t||e instanceof Element}function lr(e){var t=jt(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function zf(e){if(typeof ShadowRoot>"u")return!1;var t=jt(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var jn=Math.max,cl=Math.min,Ps=Math.round;function fd(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function hx(){return!/^((?!chrome|android).)*safari/i.test(fd())}function Ds(e,t,r){t===void 0&&(t=!1),r===void 0&&(r=!1);var n=e.getBoundingClientRect(),s=1,a=1;t&&lr(e)&&(s=e.offsetWidth>0&&Ps(n.width)/e.offsetWidth||1,a=e.offsetHeight>0&&Ps(n.height)/e.offsetHeight||1);var i=An(e)?jt(e):window,l=i.visualViewport,c=!hx()&&r,u=(n.left+(c&&l?l.offsetLeft:0))/s,d=(n.top+(c&&l?l.offsetTop:0))/a,f=n.width/s,h=n.height/a;return{width:f,height:h,top:d,right:u+f,bottom:d+h,left:u,x:u,y:d}}function Ff(e){var t=Ds(e),r=e.offsetWidth,n=e.offsetHeight;return Math.abs(t.width-r)<=1&&(r=t.width),Math.abs(t.height-n)<=1&&(n=t.height),{x:e.offsetLeft,y:e.offsetTop,width:r,height:n}}function mx(e,t){var r=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(r&&zf(r)){var n=t;do{if(n&&e.isSameNode(n))return!0;n=n.parentNode||n.host}while(n)}return!1}function Qr(e){return e?(e.nodeName||"").toLowerCase():null}function Sr(e){return jt(e).getComputedStyle(e)}function Ik(e){return["table","td","th"].indexOf(Qr(e))>=0}function an(e){return((An(e)?e.ownerDocument:e.document)||window.document).documentElement}function Bl(e){return Qr(e)==="html"?e:e.assignedSlot||e.parentNode||(zf(e)?e.host:null)||an(e)}function _p(e){return!lr(e)||Sr(e).position==="fixed"?null:e.offsetParent}function Lk(e){var t=/firefox/i.test(fd()),r=/Trident/i.test(fd());if(r&&lr(e)){var n=Sr(e);if(n.position==="fixed")return null}var s=Bl(e);for(zf(s)&&(s=s.host);lr(s)&&["html","body"].indexOf(Qr(s))<0;){var a=Sr(s);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||t&&a.willChange==="filter"||t&&a.filter&&a.filter!=="none")return s;s=s.parentNode}return null}function Oi(e){for(var t=jt(e),r=_p(e);r&&Ik(r)&&Sr(r).position==="static";)r=_p(r);return r&&(Qr(r)==="html"||Qr(r)==="body"&&Sr(r).position==="static")?t:r||Lk(e)||t}function Uf(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function Da(e,t,r){return jn(e,cl(t,r))}function zk(e,t,r){var n=Da(e,t,r);return n>r?r:n}function px(){return{top:0,right:0,bottom:0,left:0}}function gx(e){return Object.assign({},px(),e)}function vx(e,t){return t.reduce(function(r,n){return r[n]=e,r},{})}var Fk=function(t,r){return t=typeof t=="function"?t(Object.assign({},r.rects,{placement:r.placement})):t,gx(typeof t!="number"?t:vx(t,Di))};function Uk(e){var t,r=e.state,n=e.name,s=e.options,a=r.elements.arrow,i=r.modifiersData.popperOffsets,l=or(r.placement),c=Uf(l),u=[ht,At].indexOf(l)>=0,d=u?"height":"width";if(!(!a||!i)){var f=Fk(s.padding,r),h=Ff(a),p=c==="y"?ft:ht,v=c==="y"?Mt:At,m=r.rects.reference[d]+r.rects.reference[c]-i[c]-r.rects.popper[d],w=i[c]-r.rects.reference[c],x=Oi(a),g=x?c==="y"?x.clientHeight||0:x.clientWidth||0:0,y=m/2-w/2,b=f[p],j=g-h[d]-f[v],N=g/2-h[d]/2+y,S=Da(b,N,j),_=c;r.modifiersData[n]=(t={},t[_]=S,t.centerOffset=S-N,t)}}function Wk(e){var t=e.state,r=e.options,n=r.element,s=n===void 0?"[data-popper-arrow]":n;s!=null&&(typeof s=="string"&&(s=t.elements.popper.querySelector(s),!s)||mx(t.elements.popper,s)&&(t.elements.arrow=s))}const Hk={name:"arrow",enabled:!0,phase:"main",fn:Uk,effect:Wk,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Os(e){return e.split("-")[1]}var Bk={top:"auto",right:"auto",bottom:"auto",left:"auto"};function qk(e,t){var r=e.x,n=e.y,s=t.devicePixelRatio||1;return{x:Ps(r*s)/s||0,y:Ps(n*s)/s||0}}function jp(e){var t,r=e.popper,n=e.popperRect,s=e.placement,a=e.variation,i=e.offsets,l=e.position,c=e.gpuAcceleration,u=e.adaptive,d=e.roundOffsets,f=e.isFixed,h=i.x,p=h===void 0?0:h,v=i.y,m=v===void 0?0:v,w=typeof d=="function"?d({x:p,y:m}):{x:p,y:m};p=w.x,m=w.y;var x=i.hasOwnProperty("x"),g=i.hasOwnProperty("y"),y=ht,b=ft,j=window;if(u){var N=Oi(r),S="clientHeight",_="clientWidth";if(N===jt(r)&&(N=an(r),Sr(N).position!=="static"&&l==="absolute"&&(S="scrollHeight",_="scrollWidth")),N=N,s===ft||(s===ht||s===At)&&a===ci){b=Mt;var k=f&&N===j&&j.visualViewport?j.visualViewport.height:N[S];m-=k-n.height,m*=c?1:-1}if(s===ht||(s===ft||s===Mt)&&a===ci){y=At;var C=f&&N===j&&j.visualViewport?j.visualViewport.width:N[_];p-=C-n.width,p*=c?1:-1}}var O=Object.assign({position:l},u&&Bk),A=d===!0?qk({x:p,y:m},jt(r)):{x:p,y:m};if(p=A.x,m=A.y,c){var P;return Object.assign({},O,(P={},P[b]=g?"0":"",P[y]=x?"0":"",P.transform=(j.devicePixelRatio||1)<=1?"translate("+p+"px, "+m+"px)":"translate3d("+p+"px, "+m+"px, 0)",P))}return Object.assign({},O,(t={},t[b]=g?m+"px":"",t[y]=x?p+"px":"",t.transform="",t))}function Vk(e){var t=e.state,r=e.options,n=r.gpuAcceleration,s=n===void 0?!0:n,a=r.adaptive,i=a===void 0?!0:a,l=r.roundOffsets,c=l===void 0?!0:l,u={placement:or(t.placement),variation:Os(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:s,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,jp(Object.assign({},u,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:i,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,jp(Object.assign({},u,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Gk={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Vk,data:{}};var oo={passive:!0};function Yk(e){var t=e.state,r=e.instance,n=e.options,s=n.scroll,a=s===void 0?!0:s,i=n.resize,l=i===void 0?!0:i,c=jt(t.elements.popper),u=[].concat(t.scrollParents.reference,t.scrollParents.popper);return a&&u.forEach(function(d){d.addEventListener("scroll",r.update,oo)}),l&&c.addEventListener("resize",r.update,oo),function(){a&&u.forEach(function(d){d.removeEventListener("scroll",r.update,oo)}),l&&c.removeEventListener("resize",r.update,oo)}}const Kk={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Yk,data:{}};var Xk={left:"right",right:"left",bottom:"top",top:"bottom"};function Eo(e){return e.replace(/left|right|bottom|top/g,function(t){return Xk[t]})}var Qk={start:"end",end:"start"};function Np(e){return e.replace(/start|end/g,function(t){return Qk[t]})}function Wf(e){var t=jt(e),r=t.pageXOffset,n=t.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Hf(e){return Ds(an(e)).left+Wf(e).scrollLeft}function Jk(e,t){var r=jt(e),n=an(e),s=r.visualViewport,a=n.clientWidth,i=n.clientHeight,l=0,c=0;if(s){a=s.width,i=s.height;var u=hx();(u||!u&&t==="fixed")&&(l=s.offsetLeft,c=s.offsetTop)}return{width:a,height:i,x:l+Hf(e),y:c}}function Zk(e){var t,r=an(e),n=Wf(e),s=(t=e.ownerDocument)==null?void 0:t.body,a=jn(r.scrollWidth,r.clientWidth,s?s.scrollWidth:0,s?s.clientWidth:0),i=jn(r.scrollHeight,r.clientHeight,s?s.scrollHeight:0,s?s.clientHeight:0),l=-n.scrollLeft+Hf(e),c=-n.scrollTop;return Sr(s||r).direction==="rtl"&&(l+=jn(r.clientWidth,s?s.clientWidth:0)-a),{width:a,height:i,x:l,y:c}}function Bf(e){var t=Sr(e),r=t.overflow,n=t.overflowX,s=t.overflowY;return/auto|scroll|overlay|hidden/.test(r+s+n)}function yx(e){return["html","body","#document"].indexOf(Qr(e))>=0?e.ownerDocument.body:lr(e)&&Bf(e)?e:yx(Bl(e))}function Oa(e,t){var r;t===void 0&&(t=[]);var n=yx(e),s=n===((r=e.ownerDocument)==null?void 0:r.body),a=jt(n),i=s?[a].concat(a.visualViewport||[],Bf(n)?n:[]):n,l=t.concat(i);return s?l:l.concat(Oa(Bl(i)))}function hd(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function eE(e,t){var r=Ds(e,!1,t==="fixed");return r.top=r.top+e.clientTop,r.left=r.left+e.clientLeft,r.bottom=r.top+e.clientHeight,r.right=r.left+e.clientWidth,r.width=e.clientWidth,r.height=e.clientHeight,r.x=r.left,r.y=r.top,r}function Sp(e,t,r){return t===fx?hd(Jk(e,r)):An(t)?eE(t,r):hd(Zk(an(e)))}function tE(e){var t=Oa(Bl(e)),r=["absolute","fixed"].indexOf(Sr(e).position)>=0,n=r&&lr(e)?Oi(e):e;return An(n)?t.filter(function(s){return An(s)&&mx(s,n)&&Qr(s)!=="body"}):[]}function rE(e,t,r,n){var s=t==="clippingParents"?tE(e):[].concat(t),a=[].concat(s,[r]),i=a[0],l=a.reduce(function(c,u){var d=Sp(e,u,n);return c.top=jn(d.top,c.top),c.right=cl(d.right,c.right),c.bottom=cl(d.bottom,c.bottom),c.left=jn(d.left,c.left),c},Sp(e,i,n));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function xx(e){var t=e.reference,r=e.element,n=e.placement,s=n?or(n):null,a=n?Os(n):null,i=t.x+t.width/2-r.width/2,l=t.y+t.height/2-r.height/2,c;switch(s){case ft:c={x:i,y:t.y-r.height};break;case Mt:c={x:i,y:t.y+t.height};break;case At:c={x:t.x+t.width,y:l};break;case ht:c={x:t.x-r.width,y:l};break;default:c={x:t.x,y:t.y}}var u=s?Uf(s):null;if(u!=null){var d=u==="y"?"height":"width";switch(a){case Ts:c[u]=c[u]-(t[d]/2-r[d]/2);break;case ci:c[u]=c[u]+(t[d]/2-r[d]/2);break}}return c}function ui(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=n===void 0?e.placement:n,a=r.strategy,i=a===void 0?e.strategy:a,l=r.boundary,c=l===void 0?Sk:l,u=r.rootBoundary,d=u===void 0?fx:u,f=r.elementContext,h=f===void 0?ua:f,p=r.altBoundary,v=p===void 0?!1:p,m=r.padding,w=m===void 0?0:m,x=gx(typeof w!="number"?w:vx(w,Di)),g=h===ua?kk:ua,y=e.rects.popper,b=e.elements[v?g:h],j=rE(An(b)?b:b.contextElement||an(e.elements.popper),c,d,i),N=Ds(e.elements.reference),S=xx({reference:N,element:y,strategy:"absolute",placement:s}),_=hd(Object.assign({},y,S)),k=h===ua?_:N,C={top:j.top-k.top+x.top,bottom:k.bottom-j.bottom+x.bottom,left:j.left-k.left+x.left,right:k.right-j.right+x.right},O=e.modifiersData.offset;if(h===ua&&O){var A=O[s];Object.keys(C).forEach(function(P){var $=[At,Mt].indexOf(P)>=0?1:-1,B=[ft,Mt].indexOf(P)>=0?"y":"x";C[P]+=A[B]*$})}return C}function nE(e,t){t===void 0&&(t={});var r=t,n=r.placement,s=r.boundary,a=r.rootBoundary,i=r.padding,l=r.flipVariations,c=r.allowedAutoPlacements,u=c===void 0?Lf:c,d=Os(n),f=d?l?bp:bp.filter(function(v){return Os(v)===d}):Di,h=f.filter(function(v){return u.indexOf(v)>=0});h.length===0&&(h=f);var p=h.reduce(function(v,m){return v[m]=ui(e,{placement:m,boundary:s,rootBoundary:a,padding:i})[or(m)],v},{});return Object.keys(p).sort(function(v,m){return p[v]-p[m]})}function sE(e){if(or(e)===If)return[];var t=Eo(e);return[Np(e),t,Np(t)]}function aE(e){var t=e.state,r=e.options,n=e.name;if(!t.modifiersData[n]._skip){for(var s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!0:i,c=r.fallbackPlacements,u=r.padding,d=r.boundary,f=r.rootBoundary,h=r.altBoundary,p=r.flipVariations,v=p===void 0?!0:p,m=r.allowedAutoPlacements,w=t.options.placement,x=or(w),g=x===w,y=c||(g||!v?[Eo(w)]:sE(w)),b=[w].concat(y).reduce(function(I,ee){return I.concat(or(ee)===If?nE(t,{placement:ee,boundary:d,rootBoundary:f,padding:u,flipVariations:v,allowedAutoPlacements:m}):ee)},[]),j=t.rects.reference,N=t.rects.popper,S=new Map,_=!0,k=b[0],C=0;C<b.length;C++){var O=b[C],A=or(O),P=Os(O)===Ts,$=[ft,Mt].indexOf(A)>=0,B=$?"width":"height",W=ui(t,{placement:O,boundary:d,rootBoundary:f,altBoundary:h,padding:u}),q=$?P?At:ht:P?Mt:ft;j[B]>N[B]&&(q=Eo(q));var M=Eo(q),D=[];if(a&&D.push(W[A]<=0),l&&D.push(W[q]<=0,W[M]<=0),D.every(function(I){return I})){k=O,_=!1;break}S.set(O,D)}if(_)for(var z=v?3:1,G=function(ee){var Se=b.find(function(Ze){var Le=S.get(Ze);if(Le)return Le.slice(0,ee).every(function(kt){return kt})});if(Se)return k=Se,"break"},Y=z;Y>0;Y--){var X=G(Y);if(X==="break")break}t.placement!==k&&(t.modifiersData[n]._skip=!0,t.placement=k,t.reset=!0)}}const iE={name:"flip",enabled:!0,phase:"main",fn:aE,requiresIfExists:["offset"],data:{_skip:!1}};function kp(e,t,r){return r===void 0&&(r={x:0,y:0}),{top:e.top-t.height-r.y,right:e.right-t.width+r.x,bottom:e.bottom-t.height+r.y,left:e.left-t.width-r.x}}function Ep(e){return[ft,At,Mt,ht].some(function(t){return e[t]>=0})}function oE(e){var t=e.state,r=e.name,n=t.rects.reference,s=t.rects.popper,a=t.modifiersData.preventOverflow,i=ui(t,{elementContext:"reference"}),l=ui(t,{altBoundary:!0}),c=kp(i,n),u=kp(l,s,a),d=Ep(c),f=Ep(u);t.modifiersData[r]={referenceClippingOffsets:c,popperEscapeOffsets:u,isReferenceHidden:d,hasPopperEscaped:f},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":d,"data-popper-escaped":f})}const lE={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:oE};function cE(e,t,r){var n=or(e),s=[ht,ft].indexOf(n)>=0?-1:1,a=typeof r=="function"?r(Object.assign({},t,{placement:e})):r,i=a[0],l=a[1];return i=i||0,l=(l||0)*s,[ht,At].indexOf(n)>=0?{x:l,y:i}:{x:i,y:l}}function uE(e){var t=e.state,r=e.options,n=e.name,s=r.offset,a=s===void 0?[0,0]:s,i=Lf.reduce(function(d,f){return d[f]=cE(f,t.rects,a),d},{}),l=i[t.placement],c=l.x,u=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=u),t.modifiersData[n]=i}const dE={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:uE};function fE(e){var t=e.state,r=e.name;t.modifiersData[r]=xx({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const hE={name:"popperOffsets",enabled:!0,phase:"read",fn:fE,data:{}};function mE(e){return e==="x"?"y":"x"}function pE(e){var t=e.state,r=e.options,n=e.name,s=r.mainAxis,a=s===void 0?!0:s,i=r.altAxis,l=i===void 0?!1:i,c=r.boundary,u=r.rootBoundary,d=r.altBoundary,f=r.padding,h=r.tether,p=h===void 0?!0:h,v=r.tetherOffset,m=v===void 0?0:v,w=ui(t,{boundary:c,rootBoundary:u,padding:f,altBoundary:d}),x=or(t.placement),g=Os(t.placement),y=!g,b=Uf(x),j=mE(b),N=t.modifiersData.popperOffsets,S=t.rects.reference,_=t.rects.popper,k=typeof m=="function"?m(Object.assign({},t.rects,{placement:t.placement})):m,C=typeof k=="number"?{mainAxis:k,altAxis:k}:Object.assign({mainAxis:0,altAxis:0},k),O=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,A={x:0,y:0};if(N){if(a){var P,$=b==="y"?ft:ht,B=b==="y"?Mt:At,W=b==="y"?"height":"width",q=N[b],M=q+w[$],D=q-w[B],z=p?-_[W]/2:0,G=g===Ts?S[W]:_[W],Y=g===Ts?-_[W]:-S[W],X=t.elements.arrow,I=p&&X?Ff(X):{width:0,height:0},ee=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:px(),Se=ee[$],Ze=ee[B],Le=Da(0,S[W],I[W]),kt=y?S[W]/2-z-Le-Se-C.mainAxis:G-Le-Se-C.mainAxis,Wn=y?-S[W]/2+z+Le+Ze+C.mainAxis:Y+Le+Ze+C.mainAxis,Tr=t.elements.arrow&&Oi(t.elements.arrow),Ii=Tr?b==="y"?Tr.clientTop||0:Tr.clientLeft||0:0,Zs=(P=O==null?void 0:O[b])!=null?P:0,Mw=q+kt-Zs-Ii,Aw=q+Wn-Zs,jh=Da(p?cl(M,Mw):M,q,p?jn(D,Aw):D);N[b]=jh,A[b]=jh-q}if(l){var Nh,Rw=b==="x"?ft:ht,Iw=b==="x"?Mt:At,on=N[j],Li=j==="y"?"height":"width",Sh=on+w[Rw],kh=on-w[Iw],cc=[ft,ht].indexOf(x)!==-1,Eh=(Nh=O==null?void 0:O[j])!=null?Nh:0,Ch=cc?Sh:on-S[Li]-_[Li]-Eh+C.altAxis,Th=cc?on+S[Li]+_[Li]-Eh-C.altAxis:kh,Ph=p&&cc?zk(Ch,on,Th):Da(p?Ch:Sh,on,p?Th:kh);N[j]=Ph,A[j]=Ph-on}t.modifiersData[n]=A}}const gE={name:"preventOverflow",enabled:!0,phase:"main",fn:pE,requiresIfExists:["offset"]};function vE(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function yE(e){return e===jt(e)||!lr(e)?Wf(e):vE(e)}function xE(e){var t=e.getBoundingClientRect(),r=Ps(t.width)/e.offsetWidth||1,n=Ps(t.height)/e.offsetHeight||1;return r!==1||n!==1}function wE(e,t,r){r===void 0&&(r=!1);var n=lr(t),s=lr(t)&&xE(t),a=an(t),i=Ds(e,s,r),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Qr(t)!=="body"||Bf(a))&&(l=yE(t)),lr(t)?(c=Ds(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):a&&(c.x=Hf(a))),{x:i.left+l.scrollLeft-c.x,y:i.top+l.scrollTop-c.y,width:i.width,height:i.height}}function bE(e){var t=new Map,r=new Set,n=[];e.forEach(function(a){t.set(a.name,a)});function s(a){r.add(a.name);var i=[].concat(a.requires||[],a.requiresIfExists||[]);i.forEach(function(l){if(!r.has(l)){var c=t.get(l);c&&s(c)}}),n.push(a)}return e.forEach(function(a){r.has(a.name)||s(a)}),n}function _E(e){var t=bE(e);return Rk.reduce(function(r,n){return r.concat(t.filter(function(s){return s.phase===n}))},[])}function jE(e){var t;return function(){return t||(t=new Promise(function(r){Promise.resolve().then(function(){t=void 0,r(e())})})),t}}function NE(e){var t=e.reduce(function(r,n){var s=r[n.name];return r[n.name]=s?Object.assign({},s,n,{options:Object.assign({},s.options,n.options),data:Object.assign({},s.data,n.data)}):n,r},{});return Object.keys(t).map(function(r){return t[r]})}var Cp={placement:"bottom",modifiers:[],strategy:"absolute"};function Tp(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return!t.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function SE(e){e===void 0&&(e={});var t=e,r=t.defaultModifiers,n=r===void 0?[]:r,s=t.defaultOptions,a=s===void 0?Cp:s;return function(l,c,u){u===void 0&&(u=a);var d={placement:"bottom",orderedModifiers:[],options:Object.assign({},Cp,a),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},f=[],h=!1,p={state:d,setOptions:function(x){var g=typeof x=="function"?x(d.options):x;m(),d.options=Object.assign({},a,d.options,g),d.scrollParents={reference:An(l)?Oa(l):l.contextElement?Oa(l.contextElement):[],popper:Oa(c)};var y=_E(NE([].concat(n,d.options.modifiers)));return d.orderedModifiers=y.filter(function(b){return b.enabled}),v(),p.update()},forceUpdate:function(){if(!h){var x=d.elements,g=x.reference,y=x.popper;if(Tp(g,y)){d.rects={reference:wE(g,Oi(y),d.options.strategy==="fixed"),popper:Ff(y)},d.reset=!1,d.placement=d.options.placement,d.orderedModifiers.forEach(function(C){return d.modifiersData[C.name]=Object.assign({},C.data)});for(var b=0;b<d.orderedModifiers.length;b++){if(d.reset===!0){d.reset=!1,b=-1;continue}var j=d.orderedModifiers[b],N=j.fn,S=j.options,_=S===void 0?{}:S,k=j.name;typeof N=="function"&&(d=N({state:d,options:_,name:k,instance:p})||d)}}}},update:jE(function(){return new Promise(function(w){p.forceUpdate(),w(d)})}),destroy:function(){m(),h=!0}};if(!Tp(l,c))return p;p.setOptions(u).then(function(w){!h&&u.onFirstUpdate&&u.onFirstUpdate(w)});function v(){d.orderedModifiers.forEach(function(w){var x=w.name,g=w.options,y=g===void 0?{}:g,b=w.effect;if(typeof b=="function"){var j=b({state:d,name:x,instance:p,options:y}),N=function(){};f.push(j||N)}})}function m(){f.forEach(function(w){return w()}),f=[]}return p}}var kE=SE({defaultModifiers:[lE,hE,Gk,Kk,dE,iE,gE,Hk]}),Pp=function(t){return{position:t,top:"0",left:"0",opacity:"0",pointerEvents:"none"}},EE={name:"applyStyles",enabled:!1},CE={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:function(t){var r=t.state;return function(){var n=r.elements,s=n.reference,a=n.popper;if("removeAttribute"in s){var i=(s.getAttribute("aria-describedby")||"").split(",").filter(function(l){return l.trim()!==a.id});i.length?s.setAttribute("aria-describedby",i.join(",")):s.removeAttribute("aria-describedby")}}},fn:function(t){var r,n=t.state,s=n.elements,a=s.popper,i=s.reference,l=(r=a.getAttribute("role"))==null?void 0:r.toLowerCase();if(a.id&&l==="tooltip"&&"setAttribute"in i){var c=i.getAttribute("aria-describedby");if(c&&c.split(",").indexOf(a.id)!==-1)return;i.setAttribute("aria-describedby",c?c+","+a.id:a.id)}}},TE=[];function PE(e,t,r){var n=r===void 0?{}:r,s=n.enabled,a=s===void 0?!0:s,i=n.placement,l=i===void 0?"bottom":i,c=n.strategy,u=c===void 0?"absolute":c,d=n.modifiers,f=d===void 0?TE:d,h=Ul(n,["enabled","placement","strategy","modifiers"]),p=E.useRef(),v=E.useCallback(function(){var b;(b=p.current)==null||b.update()},[]),m=E.useCallback(function(){var b;(b=p.current)==null||b.forceUpdate()},[]),w=Nk(E.useState({placement:l,update:v,forceUpdate:m,attributes:{},styles:{popper:Pp(u),arrow:{}}})),x=w[0],g=w[1],y=E.useMemo(function(){return{name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:function(j){var N=j.state,S={},_={};Object.keys(N.elements).forEach(function(k){S[k]=N.styles[k],_[k]=N.attributes[k]}),g({state:N,styles:S,attributes:_,update:v,forceUpdate:m,placement:N.placement})}}},[v,m,g]);return E.useEffect(function(){!p.current||!a||p.current.setOptions({placement:l,strategy:u,modifiers:[].concat(f,[y,EE])})},[u,l,y,a]),E.useEffect(function(){if(!(!a||e==null||t==null))return p.current=kE(e,t,_e({},h,{placement:l,strategy:u,modifiers:[].concat(f,[CE,y])})),function(){p.current!=null&&(p.current.destroy(),p.current=void 0,g(function(b){return _e({},b,{attributes:{},styles:{popper:Pp(u)}})}))}},[a,e,t]),x}function DE(e,t,r,n){var s=n&&typeof n!="boolean"?n.capture:n;e.removeEventListener(t,r,s),r.__once&&e.removeEventListener(t,r.__once,s)}function va(e,t,r,n){return bk(e,t,r,n),function(){DE(e,t,r,n)}}var OE=function(){},$E=OE;const ME=vt($E);function AE(e){return e&&"setState"in e?e0.findDOMNode(e):e??null}const RE=function(e){return Pi(AE(e))};var IE=27,Dp=function(){};function LE(e){return e.button===0}function zE(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}var Op=function(t){return t&&("current"in t?t.current:t)};function FE(e,t,r){var n=r===void 0?{}:r,s=n.disabled,a=n.clickTrigger,i=a===void 0?"click":a,l=E.useRef(!1),c=t||Dp,u=E.useCallback(function(h){var p,v=Op(e);ME(!!v,"RootClose captured a close event but does not have a ref to compare it to. useRootClose(), should be passed a ref that resolves to a DOM node"),l.current=!v||zE(h)||!LE(h)||!!li(v,(p=h.composedPath==null?void 0:h.composedPath()[0])!=null?p:h.target)},[e]),d=xp(function(h){l.current||c(h)}),f=xp(function(h){h.keyCode===IE&&c(h)});E.useEffect(function(){if(!(s||e==null)){var h=window.event,p=RE(Op(e)),v=va(p,i,u,!0),m=va(p,i,function(g){if(g===h){h=void 0;return}d(g)}),w=va(p,"keyup",function(g){if(g===h){h=void 0;return}f(g)}),x=[];return"ontouchstart"in p.documentElement&&(x=[].slice.call(p.body.children).map(function(g){return va(g,"mousemove",Dp)})),function(){v(),m(),w(),x.forEach(function(g){return g()})}}},[e,s,i,u,d,f])}function UE(e){var t={};return Array.isArray(e)?(e==null||e.forEach(function(r){t[r.name]=r}),t):e||t}function WE(e){return e===void 0&&(e={}),Array.isArray(e)?e:Object.keys(e).map(function(t){return e[t].name=t,e[t]})}function HE(e){var t,r,n,s,a=e.enabled,i=e.enableEvents,l=e.placement,c=e.flip,u=e.offset,d=e.fixed,f=e.containerPadding,h=e.arrowElement,p=e.popperConfig,v=p===void 0?{}:p,m=UE(v.modifiers);return _e({},v,{placement:l,enabled:a,strategy:d?"fixed":v.strategy,modifiers:WE(_e({},m,{eventListeners:{enabled:i},preventOverflow:_e({},m.preventOverflow,{options:f?_e({padding:f},(t=m.preventOverflow)==null?void 0:t.options):(r=m.preventOverflow)==null?void 0:r.options}),offset:{options:_e({offset:u},(n=m.offset)==null?void 0:n.options)},arrow:_e({},m.arrow,{enabled:!!h,options:_e({},(s=m.arrow)==null?void 0:s.options,{element:h})}),flip:_e({enabled:!!c},m.flip)}))})}function BE(e,t){return e.classList?e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function qE(e,t){e.classList?e.classList.add(t):BE(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function $p(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function VE(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=$p(e.className,t):e.setAttribute("class",$p(e.className&&e.className.baseVal||"",t))}var lo;function qf(e){if((!lo&&lo!==0||e)&&Rf){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),lo=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return lo}var Vc=function(t){var r;return typeof document>"u"?null:t==null?Pi().body:(typeof t=="function"&&(t=t()),t&&"current"in t&&(t=t.current),(r=t)!=null&&r.nodeType&&t||null)};function Mp(e,t){var r=E.useState(function(){return Vc(e)}),n=r[0],s=r[1];if(!n){var a=Vc(e);a&&s(a)}return E.useEffect(function(){},[t,n]),E.useEffect(function(){var i=Vc(e);i!==n&&s(i)},[e,n]),n}const Ap=e=>!e||typeof e=="function"?e:t=>{e.current=t};function GE(e,t){const r=Ap(e),n=Ap(t);return s=>{r&&r(s),n&&n(s)}}function YE(e,t){return E.useMemo(()=>GE(e,t),[e,t])}var Vf=T.forwardRef(function(e,t){var r=e.flip,n=e.offset,s=e.placement,a=e.containerPadding,i=a===void 0?5:a,l=e.popperConfig,c=l===void 0?{}:l,u=e.transition,d=wp(),f=d[0],h=d[1],p=wp(),v=p[0],m=p[1],w=YE(h,t),x=Mp(e.container),g=Mp(e.target),y=E.useState(!e.show),b=y[0],j=y[1],N=PE(g,f,HE({placement:s,enableEvents:!!e.show,containerPadding:i||5,flip:r,offset:n,arrowElement:v,popperConfig:c})),S=N.styles,_=N.attributes,k=Ul(N,["styles","attributes"]);e.show?b&&j(!1):!e.transition&&!b&&j(!0);var C=function(){j(!0),e.onExited&&e.onExited.apply(e,arguments)},O=e.show||u&&!b;if(FE(f,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!O)return null;var A=e.children(_e({},k,{show:!!e.show,props:_e({},_.popper,{style:S.popper,ref:w}),arrowProps:_e({},_.arrow,{style:S.arrow,ref:m})}));if(u){var P=e.onExit,$=e.onExiting,B=e.onEnter,W=e.onEntering,q=e.onEntered;A=T.createElement(u,{in:e.show,appear:!0,onExit:P,onExiting:$,onExited:C,onEnter:B,onEntering:W,onEntered:q},A)}return x?e0.createPortal(A,x):null});Vf.displayName="Overlay";Vf.propTypes={show:L.bool,placement:L.oneOf(Lf),target:L.any,container:L.any,flip:L.bool,children:L.func.isRequired,containerPadding:L.number,popperConfig:L.object,rootClose:L.bool,rootCloseEvent:L.oneOf(["click","mousedown"]),rootCloseDisabled:L.bool,onHide:function(t){for(var r=arguments.length,n=new Array(r>1?r-1:0),s=1;s<r;s++)n[s-1]=arguments[s];if(t.rootClose){var a;return(a=L.func).isRequired.apply(a,[t].concat(n))}return L.func.apply(L,[t].concat(n))},transition:L.elementType,onEnter:L.func,onEntering:L.func,onEntered:L.func,onExit:L.func,onExiting:L.func,onExited:L.func};function KE(){this.__data__=[],this.size=0}var XE=KE,QE=Ei;function JE(e,t){for(var r=e.length;r--;)if(QE(e[r][0],t))return r;return-1}var ql=JE,ZE=ql,eC=Array.prototype,tC=eC.splice;function rC(e){var t=this.__data__,r=ZE(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():tC.call(t,r,1),--this.size,!0}var nC=rC,sC=ql;function aC(e){var t=this.__data__,r=sC(t,e);return r<0?void 0:t[r][1]}var iC=aC,oC=ql;function lC(e){return oC(this.__data__,e)>-1}var cC=lC,uC=ql;function dC(e,t){var r=this.__data__,n=uC(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var fC=dC,hC=XE,mC=nC,pC=iC,gC=cC,vC=fC;function Vs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Vs.prototype.clear=hC;Vs.prototype.delete=mC;Vs.prototype.get=pC;Vs.prototype.has=gC;Vs.prototype.set=vC;var Vl=Vs,yC=Vl;function xC(){this.__data__=new yC,this.size=0}var wC=xC;function bC(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}var _C=bC;function jC(e){return this.__data__.get(e)}var NC=jC;function SC(e){return this.__data__.has(e)}var kC=SC,EC=ur,CC=EC["__core-js_shared__"],TC=CC,Gc=TC,Rp=function(){var e=/[^.]+$/.exec(Gc&&Gc.keys&&Gc.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function PC(e){return!!Rp&&Rp in e}var DC=PC,OC=Function.prototype,$C=OC.toString;function MC(e){if(e!=null){try{return $C.call(e)}catch{}try{return e+""}catch{}}return""}var wx=MC,AC=Of,RC=DC,IC=Cr,LC=wx,zC=/[\\^$.*+?()[\]{}|]/g,FC=/^\[object .+?Constructor\]$/,UC=Function.prototype,WC=Object.prototype,HC=UC.toString,BC=WC.hasOwnProperty,qC=RegExp("^"+HC.call(BC).replace(zC,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function VC(e){if(!IC(e)||RC(e))return!1;var t=AC(e)?qC:FC;return t.test(LC(e))}var GC=VC;function YC(e,t){return e==null?void 0:e[t]}var KC=YC,XC=GC,QC=KC;function JC(e,t){var r=QC(e,t);return XC(r)?r:void 0}var Fn=JC,ZC=Fn,eT=ur,tT=ZC(eT,"Map"),Gf=tT,rT=Fn,nT=rT(Object,"create"),Gl=nT,Ip=Gl;function sT(){this.__data__=Ip?Ip(null):{},this.size=0}var aT=sT;function iT(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oT=iT,lT=Gl,cT="__lodash_hash_undefined__",uT=Object.prototype,dT=uT.hasOwnProperty;function fT(e){var t=this.__data__;if(lT){var r=t[e];return r===cT?void 0:r}return dT.call(t,e)?t[e]:void 0}var hT=fT,mT=Gl,pT=Object.prototype,gT=pT.hasOwnProperty;function vT(e){var t=this.__data__;return mT?t[e]!==void 0:gT.call(t,e)}var yT=vT,xT=Gl,wT="__lodash_hash_undefined__";function bT(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=xT&&t===void 0?wT:t,this}var _T=bT,jT=aT,NT=oT,ST=hT,kT=yT,ET=_T;function Gs(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Gs.prototype.clear=jT;Gs.prototype.delete=NT;Gs.prototype.get=ST;Gs.prototype.has=kT;Gs.prototype.set=ET;var CT=Gs,Lp=CT,TT=Vl,PT=Gf;function DT(){this.size=0,this.__data__={hash:new Lp,map:new(PT||TT),string:new Lp}}var OT=DT;function $T(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var MT=$T,AT=MT;function RT(e,t){var r=e.__data__;return AT(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Yl=RT,IT=Yl;function LT(e){var t=IT(this,e).delete(e);return this.size-=t?1:0,t}var zT=LT,FT=Yl;function UT(e){return FT(this,e).get(e)}var WT=UT,HT=Yl;function BT(e){return HT(this,e).has(e)}var qT=BT,VT=Yl;function GT(e,t){var r=VT(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var YT=GT,KT=OT,XT=zT,QT=WT,JT=qT,ZT=YT;function Ys(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Ys.prototype.clear=KT;Ys.prototype.delete=XT;Ys.prototype.get=QT;Ys.prototype.has=JT;Ys.prototype.set=ZT;var Yf=Ys,eP=Vl,tP=Gf,rP=Yf,nP=200;function sP(e,t){var r=this.__data__;if(r instanceof eP){var n=r.__data__;if(!tP||n.length<nP-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new rP(n)}return r.set(e,t),this.size=r.size,this}var aP=sP,iP=Vl,oP=wC,lP=_C,cP=NC,uP=kC,dP=aP;function Ks(e){var t=this.__data__=new iP(e);this.size=t.size}Ks.prototype.clear=oP;Ks.prototype.delete=lP;Ks.prototype.get=cP;Ks.prototype.has=uP;Ks.prototype.set=dP;var Kf=Ks,fP="__lodash_hash_undefined__";function hP(e){return this.__data__.set(e,fP),this}var mP=hP;function pP(e){return this.__data__.has(e)}var gP=pP,vP=Yf,yP=mP,xP=gP;function ul(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new vP;++t<r;)this.add(e[t])}ul.prototype.add=ul.prototype.push=yP;ul.prototype.has=xP;var wP=ul;function bP(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var _P=bP;function jP(e,t){return e.has(t)}var NP=jP,SP=wP,kP=_P,EP=NP,CP=1,TP=2;function PP(e,t,r,n,s,a){var i=r&CP,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;var u=a.get(e),d=a.get(t);if(u&&d)return u==t&&d==e;var f=-1,h=!0,p=r&TP?new SP:void 0;for(a.set(e,t),a.set(t,e);++f<l;){var v=e[f],m=t[f];if(n)var w=i?n(m,v,f,t,e,a):n(v,m,f,e,t,a);if(w!==void 0){if(w)continue;h=!1;break}if(p){if(!kP(t,function(x,g){if(!EP(p,g)&&(v===x||s(v,x,r,n,a)))return p.push(g)})){h=!1;break}}else if(!(v===m||s(v,m,r,n,a))){h=!1;break}}return a.delete(e),a.delete(t),h}var bx=PP,DP=ur,OP=DP.Uint8Array,_x=OP;function $P(e){var t=-1,r=Array(e.size);return e.forEach(function(n,s){r[++t]=[s,n]}),r}var MP=$P;function AP(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var RP=AP,zp=Bs,Fp=_x,IP=Ei,LP=bx,zP=MP,FP=RP,UP=1,WP=2,HP="[object Boolean]",BP="[object Date]",qP="[object Error]",VP="[object Map]",GP="[object Number]",YP="[object RegExp]",KP="[object Set]",XP="[object String]",QP="[object Symbol]",JP="[object ArrayBuffer]",ZP="[object DataView]",Up=zp?zp.prototype:void 0,Yc=Up?Up.valueOf:void 0;function eD(e,t,r,n,s,a,i){switch(r){case ZP:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case JP:return!(e.byteLength!=t.byteLength||!a(new Fp(e),new Fp(t)));case HP:case BP:case GP:return IP(+e,+t);case qP:return e.name==t.name&&e.message==t.message;case YP:case XP:return e==t+"";case VP:var l=zP;case KP:var c=n&UP;if(l||(l=FP),e.size!=t.size&&!c)return!1;var u=i.get(e);if(u)return u==t;n|=WP,i.set(e,t);var d=LP(l(e),l(t),n,s,a,i);return i.delete(e),d;case QP:if(Yc)return Yc.call(e)==Yc.call(t)}return!1}var tD=eD;function rD(e,t){for(var r=-1,n=t.length,s=e.length;++r<n;)e[s+r]=t[r];return e}var Xf=rD,nD=Array.isArray,Rt=nD,sD=Xf,aD=Rt;function iD(e,t,r){var n=t(e);return aD(e)?n:sD(n,r(e))}var jx=iD;function oD(e,t){for(var r=-1,n=e==null?0:e.length,s=0,a=[];++r<n;){var i=e[r];t(i,r,e)&&(a[s++]=i)}return a}var lD=oD;function cD(){return[]}var Nx=cD,uD=lD,dD=Nx,fD=Object.prototype,hD=fD.propertyIsEnumerable,Wp=Object.getOwnPropertySymbols,mD=Wp?function(e){return e==null?[]:(e=Object(e),uD(Wp(e),function(t){return hD.call(e,t)}))}:dD,Qf=mD;function pD(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var gD=pD,vD=qs,yD=sn,xD="[object Arguments]";function wD(e){return yD(e)&&vD(e)==xD}var bD=wD,Hp=bD,_D=sn,Sx=Object.prototype,jD=Sx.hasOwnProperty,ND=Sx.propertyIsEnumerable,SD=Hp(function(){return arguments}())?Hp:function(e){return _D(e)&&jD.call(e,"callee")&&!ND.call(e,"callee")},Jf=SD,dl={exports:{}};function kD(){return!1}var ED=kD;dl.exports;(function(e,t){var r=ur,n=ED,s=t&&!t.nodeType&&t,a=s&&!0&&e&&!e.nodeType&&e,i=a&&a.exports===s,l=i?r.Buffer:void 0,c=l?l.isBuffer:void 0,u=c||n;e.exports=u})(dl,dl.exports);var Kl=dl.exports,CD=qs,TD=$f,PD=sn,DD="[object Arguments]",OD="[object Array]",$D="[object Boolean]",MD="[object Date]",AD="[object Error]",RD="[object Function]",ID="[object Map]",LD="[object Number]",zD="[object Object]",FD="[object RegExp]",UD="[object Set]",WD="[object String]",HD="[object WeakMap]",BD="[object ArrayBuffer]",qD="[object DataView]",VD="[object Float32Array]",GD="[object Float64Array]",YD="[object Int8Array]",KD="[object Int16Array]",XD="[object Int32Array]",QD="[object Uint8Array]",JD="[object Uint8ClampedArray]",ZD="[object Uint16Array]",eO="[object Uint32Array]",fe={};fe[VD]=fe[GD]=fe[YD]=fe[KD]=fe[XD]=fe[QD]=fe[JD]=fe[ZD]=fe[eO]=!0;fe[DD]=fe[OD]=fe[BD]=fe[$D]=fe[qD]=fe[MD]=fe[AD]=fe[RD]=fe[ID]=fe[LD]=fe[zD]=fe[FD]=fe[UD]=fe[WD]=fe[HD]=!1;function tO(e){return PD(e)&&TD(e.length)&&!!fe[CD(e)]}var rO=tO;function nO(e){return function(t){return e(t)}}var Xl=nO,fl={exports:{}};fl.exports;(function(e,t){var r=nx,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a&&r.process,l=function(){try{var c=s&&s.require&&s.require("util").types;return c||i&&i.binding&&i.binding("util")}catch{}}();e.exports=l})(fl,fl.exports);var Zf=fl.exports,sO=rO,aO=Xl,Bp=Zf,qp=Bp&&Bp.isTypedArray,iO=qp?aO(qp):sO,eh=iO,oO=gD,lO=Jf,cO=Rt,uO=Kl,dO=Mf,fO=eh,hO=Object.prototype,mO=hO.hasOwnProperty;function pO(e,t){var r=cO(e),n=!r&&lO(e),s=!r&&!n&&uO(e),a=!r&&!n&&!s&&fO(e),i=r||n||s||a,l=i?oO(e.length,String):[],c=l.length;for(var u in e)(t||mO.call(e,u))&&!(i&&(u=="length"||s&&(u=="offset"||u=="parent")||a&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||dO(u,c)))&&l.push(u);return l}var kx=pO,gO=Object.prototype;function vO(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||gO;return e===r}var th=vO;function yO(e,t){return function(r){return e(t(r))}}var Ex=yO,xO=Ex,wO=xO(Object.keys,Object),bO=wO,_O=th,jO=bO,NO=Object.prototype,SO=NO.hasOwnProperty;function kO(e){if(!_O(e))return jO(e);var t=[];for(var r in Object(e))SO.call(e,r)&&r!="constructor"&&t.push(r);return t}var EO=kO,CO=kx,TO=EO,PO=Ci;function DO(e){return PO(e)?CO(e):TO(e)}var $i=DO,OO=jx,$O=Qf,MO=$i;function AO(e){return OO(e,MO,$O)}var Cx=AO,Vp=Cx,RO=1,IO=Object.prototype,LO=IO.hasOwnProperty;function zO(e,t,r,n,s,a){var i=r&RO,l=Vp(e),c=l.length,u=Vp(t),d=u.length;if(c!=d&&!i)return!1;for(var f=c;f--;){var h=l[f];if(!(i?h in t:LO.call(t,h)))return!1}var p=a.get(e),v=a.get(t);if(p&&v)return p==t&&v==e;var m=!0;a.set(e,t),a.set(t,e);for(var w=i;++f<c;){h=l[f];var x=e[h],g=t[h];if(n)var y=i?n(g,x,h,t,e,a):n(x,g,h,e,t,a);if(!(y===void 0?x===g||s(x,g,r,n,a):y)){m=!1;break}w||(w=h=="constructor")}if(m&&!w){var b=e.constructor,j=t.constructor;b!=j&&"constructor"in e&&"constructor"in t&&!(typeof b=="function"&&b instanceof b&&typeof j=="function"&&j instanceof j)&&(m=!1)}return a.delete(e),a.delete(t),m}var FO=zO,UO=Fn,WO=ur,HO=UO(WO,"DataView"),BO=HO,qO=Fn,VO=ur,GO=qO(VO,"Promise"),YO=GO,KO=Fn,XO=ur,QO=KO(XO,"Set"),JO=QO,ZO=Fn,e$=ur,t$=ZO(e$,"WeakMap"),r$=t$,md=BO,pd=Gf,gd=YO,vd=JO,yd=r$,Tx=qs,Xs=wx,Gp="[object Map]",n$="[object Object]",Yp="[object Promise]",Kp="[object Set]",Xp="[object WeakMap]",Qp="[object DataView]",s$=Xs(md),a$=Xs(pd),i$=Xs(gd),o$=Xs(vd),l$=Xs(yd),hn=Tx;(md&&hn(new md(new ArrayBuffer(1)))!=Qp||pd&&hn(new pd)!=Gp||gd&&hn(gd.resolve())!=Yp||vd&&hn(new vd)!=Kp||yd&&hn(new yd)!=Xp)&&(hn=function(e){var t=Tx(e),r=t==n$?e.constructor:void 0,n=r?Xs(r):"";if(n)switch(n){case s$:return Qp;case a$:return Gp;case i$:return Yp;case o$:return Kp;case l$:return Xp}return t});var Ql=hn,Kc=Kf,c$=bx,u$=tD,d$=FO,Jp=Ql,Zp=Rt,eg=Kl,f$=eh,h$=1,tg="[object Arguments]",rg="[object Array]",co="[object Object]",m$=Object.prototype,ng=m$.hasOwnProperty;function p$(e,t,r,n,s,a){var i=Zp(e),l=Zp(t),c=i?rg:Jp(e),u=l?rg:Jp(t);c=c==tg?co:c,u=u==tg?co:u;var d=c==co,f=u==co,h=c==u;if(h&&eg(e)){if(!eg(t))return!1;i=!0,d=!1}if(h&&!d)return a||(a=new Kc),i||f$(e)?c$(e,t,r,n,s,a):u$(e,t,c,r,n,s,a);if(!(r&h$)){var p=d&&ng.call(e,"__wrapped__"),v=f&&ng.call(t,"__wrapped__");if(p||v){var m=p?e.value():e,w=v?t.value():t;return a||(a=new Kc),s(m,w,r,n,a)}}return h?(a||(a=new Kc),d$(e,t,r,n,s,a)):!1}var g$=p$,v$=g$,sg=sn;function Px(e,t,r,n,s){return e===t?!0:e==null||t==null||!sg(e)&&!sg(t)?e!==e&&t!==t:v$(e,t,r,n,Px,s)}var rh=Px,y$=rh;function x$(e,t){return y$(e,t)}var w$=x$;const b$=vt(w$);function Xc(e,t){var r=Af(e);return r?r.innerHeight:_n(e).height}function Dx(e,t,r){e.closest&&!r&&e.closest(t);var n=e;do{if(yk(n,t))return n;n=n.parentElement}while(n&&n!==r&&n.nodeType===document.ELEMENT_NODE);return null}function _$(e,t,r,n){for(var s=e.length,a=r+(n?1:-1);n?a--:++a<s;)if(t(e[a],a,e))return a;return-1}var j$=_$,N$=Kf,S$=rh,k$=1,E$=2;function C$(e,t,r,n){var s=r.length,a=s,i=!n;if(e==null)return!a;for(e=Object(e);s--;){var l=r[s];if(i&&l[2]?l[1]!==e[l[0]]:!(l[0]in e))return!1}for(;++s<a;){l=r[s];var c=l[0],u=e[c],d=l[1];if(i&&l[2]){if(u===void 0&&!(c in e))return!1}else{var f=new N$;if(n)var h=n(u,d,c,e,t,f);if(!(h===void 0?S$(d,u,k$|E$,n,f):h))return!1}}return!0}var T$=C$,P$=Cr;function D$(e){return e===e&&!P$(e)}var Ox=D$,O$=Ox,$$=$i;function M$(e){for(var t=$$(e),r=t.length;r--;){var n=t[r],s=e[n];t[r]=[n,s,O$(s)]}return t}var A$=M$;function R$(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}var $x=R$,I$=T$,L$=A$,z$=$x;function F$(e){var t=L$(e);return t.length==1&&t[0][2]?z$(t[0][0],t[0][1]):function(r){return r===e||I$(r,e,t)}}var U$=F$,W$=Rt,H$=Ti,B$=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,q$=/^\w*$/;function V$(e,t){if(W$(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||H$(e)?!0:q$.test(e)||!B$.test(e)||t!=null&&e in Object(t)}var nh=V$,Mx=Yf,G$="Expected a function";function sh(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(G$);var r=function(){var n=arguments,s=t?t.apply(this,n):n[0],a=r.cache;if(a.has(s))return a.get(s);var i=e.apply(this,n);return r.cache=a.set(s,i)||a,i};return r.cache=new(sh.Cache||Mx),r}sh.Cache=Mx;var Y$=sh,K$=Y$,X$=500;function Q$(e){var t=K$(e,function(n){return r.size===X$&&r.clear(),n}),r=t.cache;return t}var J$=Q$,Z$=J$,eM=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,tM=/\\(\\)?/g,rM=Z$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(eM,function(r,n,s,a){t.push(s?a.replace(tM,"$1"):n||r)}),t}),nM=rM;function sM(e,t){for(var r=-1,n=e==null?0:e.length,s=Array(n);++r<n;)s[r]=t(e[r],r,e);return s}var ah=sM,ag=Bs,aM=ah,iM=Rt,oM=Ti,lM=1/0,ig=ag?ag.prototype:void 0,og=ig?ig.toString:void 0;function Ax(e){if(typeof e=="string")return e;if(iM(e))return aM(e,Ax)+"";if(oM(e))return og?og.call(e):"";var t=e+"";return t=="0"&&1/e==-lM?"-0":t}var cM=Ax,uM=cM;function dM(e){return e==null?"":uM(e)}var fM=dM,hM=Rt,mM=nh,pM=nM,gM=fM;function vM(e,t){return hM(e)?e:mM(e,t)?[e]:pM(gM(e))}var Jl=vM,yM=Ti,xM=1/0;function wM(e){if(typeof e=="string"||yM(e))return e;var t=e+"";return t=="0"&&1/e==-xM?"-0":t}var Mi=wM,bM=Jl,_M=Mi;function jM(e,t){t=bM(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[_M(t[r++])];return r&&r==n?e:void 0}var Zl=jM,NM=Zl;function SM(e,t,r){var n=e==null?void 0:NM(e,t);return n===void 0?r:n}var kM=SM;function EM(e,t){return e!=null&&t in Object(e)}var CM=EM,TM=Jl,PM=Jf,DM=Rt,OM=Mf,$M=$f,MM=Mi;function AM(e,t,r){t=TM(t,e);for(var n=-1,s=t.length,a=!1;++n<s;){var i=MM(t[n]);if(!(a=e!=null&&r(e,i)))break;e=e[i]}return a||++n!=s?a:(s=e==null?0:e.length,!!s&&$M(s)&&OM(i,s)&&(DM(e)||PM(e)))}var RM=AM,IM=CM,LM=RM;function zM(e,t){return e!=null&&LM(e,t,IM)}var FM=zM,UM=rh,WM=kM,HM=FM,BM=nh,qM=Ox,VM=$x,GM=Mi,YM=1,KM=2;function XM(e,t){return BM(e)&&qM(t)?VM(GM(e),t):function(r){var n=WM(r,e);return n===void 0&&n===t?HM(r,e):UM(t,n,YM|KM)}}var QM=XM;function JM(e){return e}var ec=JM;function ZM(e){return function(t){return t==null?void 0:t[e]}}var eA=ZM,tA=Zl;function rA(e){return function(t){return tA(t,e)}}var nA=rA,sA=eA,aA=nA,iA=nh,oA=Mi;function lA(e){return iA(e)?sA(oA(e)):aA(e)}var cA=lA,uA=U$,dA=QM,fA=ec,hA=Rt,mA=cA;function pA(e){return typeof e=="function"?e:e==null?fA:typeof e=="object"?hA(e)?dA(e[0],e[1]):uA(e):mA(e)}var tc=pA,gA=j$,vA=tc,yA=ix,xA=Math.max;function wA(e,t,r){var n=e==null?0:e.length;if(!n)return-1;var s=r==null?0:yA(r);return s<0&&(s=xA(n+s,0)),gA(e,vA(t),s)}var bA=wA;const _A=vt(bA);var jA=Math.ceil,NA=Math.max;function SA(e,t,r,n){for(var s=-1,a=NA(jA((t-e)/(r||1)),0),i=Array(a);a--;)i[n?a:++s]=e,e+=r;return i}var kA=SA,EA=kA,CA=Hl,Qc=ax;function TA(e){return function(t,r,n){return n&&typeof n!="number"&&CA(t,r,n)&&(r=n=void 0),t=Qc(t),r===void 0?(r=t,t=0):r=Qc(r),n=n===void 0?t<r?1:-1:Qc(n),EA(t,r,n,e)}}var PA=TA,DA=PA,OA=DA(),$A=OA;const MA=vt($A);var lg=Number.isNaN||function(t){return typeof t=="number"&&t!==t};function AA(e,t){return!!(e===t||lg(e)&&lg(t))}function RA(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;r++)if(!AA(e[r],t[r]))return!1;return!0}function Rx(e,t){t===void 0&&(t=RA);var r=null;function n(){for(var s=[],a=0;a<arguments.length;a++)s[a]=arguments[a];if(r&&r.lastThis===this&&t(s,r.lastArgs))return r.lastResult;var i=e.apply(this,s);return r={lastResult:i,lastArgs:s,lastThis:this},i}return n.clear=function(){r=null},n}function xd(e,t){var r=Af(e);return r?r.innerWidth:_n(e).width}var cg=Bs,IA=Jf,LA=Rt,ug=cg?cg.isConcatSpreadable:void 0;function zA(e){return LA(e)||IA(e)||!!(ug&&e&&e[ug])}var FA=zA,UA=Xf,WA=FA;function Ix(e,t,r,n,s){var a=-1,i=e.length;for(r||(r=WA),s||(s=[]);++a<i;){var l=e[a];t>0&&r(l)?t>1?Ix(l,t-1,r,n,s):UA(s,l):n||(s[s.length]=l)}return s}var Lx=Ix;function HA(e){return function(t,r,n){for(var s=-1,a=Object(t),i=n(t),l=i.length;l--;){var c=i[e?l:++s];if(r(a[c],c,a)===!1)break}return t}}var BA=HA,qA=BA,VA=qA(),GA=VA,YA=GA,KA=$i;function XA(e,t){return e&&YA(e,t,KA)}var ih=XA,QA=Ci;function JA(e,t){return function(r,n){if(r==null)return r;if(!QA(r))return e(r,n);for(var s=r.length,a=t?s:-1,i=Object(r);(t?a--:++a<s)&&n(i[a],a,i)!==!1;);return r}}var ZA=JA,e3=ih,t3=ZA,r3=t3(e3),n3=r3,s3=n3,a3=Ci;function i3(e,t){var r=-1,n=a3(e)?Array(e.length):[];return s3(e,function(s,a,i){n[++r]=t(s,a,i)}),n}var o3=i3;function l3(e,t){var r=e.length;for(e.sort(t);r--;)e[r]=e[r].value;return e}var c3=l3,dg=Ti;function u3(e,t){if(e!==t){var r=e!==void 0,n=e===null,s=e===e,a=dg(e),i=t!==void 0,l=t===null,c=t===t,u=dg(t);if(!l&&!u&&!a&&e>t||a&&i&&c&&!l&&!u||n&&i&&c||!r&&c||!s)return 1;if(!n&&!a&&!u&&e<t||u&&r&&s&&!n&&!a||l&&r&&s||!i&&s||!c)return-1}return 0}var d3=u3,f3=d3;function h3(e,t,r){for(var n=-1,s=e.criteria,a=t.criteria,i=s.length,l=r.length;++n<i;){var c=f3(s[n],a[n]);if(c){if(n>=l)return c;var u=r[n];return c*(u=="desc"?-1:1)}}return e.index-t.index}var m3=h3,Jc=ah,p3=Zl,g3=tc,v3=o3,y3=c3,x3=Xl,w3=m3,b3=ec,_3=Rt;function j3(e,t,r){t.length?t=Jc(t,function(a){return _3(a)?function(i){return p3(i,a.length===1?a[0]:a)}:a}):t=[b3];var n=-1;t=Jc(t,x3(g3));var s=v3(e,function(a,i,l){var c=Jc(t,function(u){return u(a)});return{criteria:c,index:++n,value:a}});return y3(s,function(a,i){return w3(a,i,r)})}var N3=j3;function S3(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}var k3=S3,E3=k3,fg=Math.max;function C3(e,t,r){return t=fg(t===void 0?e.length-1:t,0),function(){for(var n=arguments,s=-1,a=fg(n.length-t,0),i=Array(a);++s<a;)i[s]=n[t+s];s=-1;for(var l=Array(t+1);++s<t;)l[s]=n[s];return l[t]=r(i),E3(e,this,l)}}var zx=C3;function T3(e){return function(){return e}}var P3=T3,D3=Fn,O3=function(){try{var e=D3(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Fx=O3,$3=P3,hg=Fx,M3=ec,A3=hg?function(e,t){return hg(e,"toString",{configurable:!0,enumerable:!1,value:$3(t),writable:!0})}:M3,R3=A3,I3=800,L3=16,z3=Date.now;function F3(e){var t=0,r=0;return function(){var n=z3(),s=L3-(n-r);if(r=n,s>0){if(++t>=I3)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var U3=F3,W3=R3,H3=U3,B3=H3(W3),Ux=B3,q3=ec,V3=zx,G3=Ux;function Y3(e,t){return G3(V3(e,t,q3),e+"")}var Wx=Y3,K3=Lx,X3=N3,Q3=Wx,mg=Hl,J3=Q3(function(e,t){if(e==null)return[];var r=t.length;return r>1&&mg(e,t[0],t[1])?t=[]:r>2&&mg(t[0],t[1],t[2])&&(t=[t[0]]),X3(e,K3(t,1),[])}),Z3=J3;const eR=vt(Z3);function Hx(e){return L0(e)||tx(e)||Tf(e)||z0()}function tR(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var rR=tR,nR=Cr,sR=th,aR=rR,iR=Object.prototype,oR=iR.hasOwnProperty;function lR(e){if(!nR(e))return aR(e);var t=sR(e),r=[];for(var n in e)n=="constructor"&&(t||!oR.call(e,n))||r.push(n);return r}var cR=lR,uR=kx,dR=cR,fR=Ci;function hR(e){return fR(e)?uR(e,!0):dR(e)}var rc=hR,mR=Wx,pR=Ei,gR=Hl,vR=rc,Bx=Object.prototype,yR=Bx.hasOwnProperty,xR=mR(function(e,t){e=Object(e);var r=-1,n=t.length,s=n>2?t[2]:void 0;for(s&&gR(t[0],t[1],s)&&(n=1);++r<n;)for(var a=t[r],i=vR(a),l=-1,c=i.length;++l<c;){var u=i[l],d=e[u];(d===void 0||pR(d,Bx[u])&&!yR.call(e,u))&&(e[u]=a[u])}return e}),wR=xR;const bR=vt(wR);var pg=Fx;function _R(e,t,r){t=="__proto__"&&pg?pg(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var oh=_R,jR=oh,NR=ih,SR=tc;function kR(e,t){var r={};return t=SR(t),NR(e,function(n,s,a){jR(r,s,t(n,s,a))}),r}var ER=kR;const CR=vt(ER);function TR(e,t){for(var r=-1,n=e==null?0:e.length;++r<n&&t(e[r],r,e)!==!1;);return e}var qx=TR,PR=oh,DR=Ei,OR=Object.prototype,$R=OR.hasOwnProperty;function MR(e,t,r){var n=e[t];(!($R.call(e,t)&&DR(n,r))||r===void 0&&!(t in e))&&PR(e,t,r)}var Vx=MR,AR=Vx,RR=oh;function IR(e,t,r,n){var s=!r;r||(r={});for(var a=-1,i=t.length;++a<i;){var l=t[a],c=n?n(r[l],e[l],l,r,e):void 0;c===void 0&&(c=e[l]),s?RR(r,l,c):AR(r,l,c)}return r}var Ai=IR,LR=Ai,zR=$i;function FR(e,t){return e&&LR(t,zR(t),e)}var UR=FR,WR=Ai,HR=rc;function BR(e,t){return e&&WR(t,HR(t),e)}var qR=BR,hl={exports:{}};hl.exports;(function(e,t){var r=ur,n=t&&!t.nodeType&&t,s=n&&!0&&e&&!e.nodeType&&e,a=s&&s.exports===n,i=a?r.Buffer:void 0,l=i?i.allocUnsafe:void 0;function c(u,d){if(d)return u.slice();var f=u.length,h=l?l(f):new u.constructor(f);return u.copy(h),h}e.exports=c})(hl,hl.exports);var VR=hl.exports;function GR(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var YR=GR,KR=Ai,XR=Qf;function QR(e,t){return KR(e,XR(e),t)}var JR=QR,ZR=Ex,e4=ZR(Object.getPrototypeOf,Object),nc=e4,t4=Xf,r4=nc,n4=Qf,s4=Nx,a4=Object.getOwnPropertySymbols,i4=a4?function(e){for(var t=[];e;)t4(t,n4(e)),e=r4(e);return t}:s4,Gx=i4,o4=Ai,l4=Gx;function c4(e,t){return o4(e,l4(e),t)}var u4=c4,d4=jx,f4=Gx,h4=rc;function m4(e){return d4(e,h4,f4)}var Yx=m4,p4=Object.prototype,g4=p4.hasOwnProperty;function v4(e){var t=e.length,r=new e.constructor(t);return t&&typeof e[0]=="string"&&g4.call(e,"index")&&(r.index=e.index,r.input=e.input),r}var y4=v4,gg=_x;function x4(e){var t=new e.constructor(e.byteLength);return new gg(t).set(new gg(e)),t}var lh=x4,w4=lh;function b4(e,t){var r=t?w4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}var _4=b4,j4=/\w*$/;function N4(e){var t=new e.constructor(e.source,j4.exec(e));return t.lastIndex=e.lastIndex,t}var S4=N4,vg=Bs,yg=vg?vg.prototype:void 0,xg=yg?yg.valueOf:void 0;function k4(e){return xg?Object(xg.call(e)):{}}var E4=k4,C4=lh;function T4(e,t){var r=t?C4(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}var P4=T4,D4=lh,O4=_4,$4=S4,M4=E4,A4=P4,R4="[object Boolean]",I4="[object Date]",L4="[object Map]",z4="[object Number]",F4="[object RegExp]",U4="[object Set]",W4="[object String]",H4="[object Symbol]",B4="[object ArrayBuffer]",q4="[object DataView]",V4="[object Float32Array]",G4="[object Float64Array]",Y4="[object Int8Array]",K4="[object Int16Array]",X4="[object Int32Array]",Q4="[object Uint8Array]",J4="[object Uint8ClampedArray]",Z4="[object Uint16Array]",eI="[object Uint32Array]";function tI(e,t,r){var n=e.constructor;switch(t){case B4:return D4(e);case R4:case I4:return new n(+e);case q4:return O4(e,r);case V4:case G4:case Y4:case K4:case X4:case Q4:case J4:case Z4:case eI:return A4(e,r);case L4:return new n;case z4:case W4:return new n(e);case F4:return $4(e);case U4:return new n;case H4:return M4(e)}}var rI=tI,nI=Cr,wg=Object.create,sI=function(){function e(){}return function(t){if(!nI(t))return{};if(wg)return wg(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}(),Kx=sI,aI=Kx,iI=nc,oI=th;function lI(e){return typeof e.constructor=="function"&&!oI(e)?aI(iI(e)):{}}var cI=lI,uI=Ql,dI=sn,fI="[object Map]";function hI(e){return dI(e)&&uI(e)==fI}var mI=hI,pI=mI,gI=Xl,bg=Zf,_g=bg&&bg.isMap,vI=_g?gI(_g):pI,yI=vI,xI=Ql,wI=sn,bI="[object Set]";function _I(e){return wI(e)&&xI(e)==bI}var jI=_I,NI=jI,SI=Xl,jg=Zf,Ng=jg&&jg.isSet,kI=Ng?SI(Ng):NI,EI=kI,CI=Kf,TI=qx,PI=Vx,DI=UR,OI=qR,$I=VR,MI=YR,AI=JR,RI=u4,II=Cx,LI=Yx,zI=Ql,FI=y4,UI=rI,WI=cI,HI=Rt,BI=Kl,qI=yI,VI=Cr,GI=EI,YI=$i,KI=rc,XI=1,QI=2,JI=4,Xx="[object Arguments]",ZI="[object Array]",eL="[object Boolean]",tL="[object Date]",rL="[object Error]",Qx="[object Function]",nL="[object GeneratorFunction]",sL="[object Map]",aL="[object Number]",Jx="[object Object]",iL="[object RegExp]",oL="[object Set]",lL="[object String]",cL="[object Symbol]",uL="[object WeakMap]",dL="[object ArrayBuffer]",fL="[object DataView]",hL="[object Float32Array]",mL="[object Float64Array]",pL="[object Int8Array]",gL="[object Int16Array]",vL="[object Int32Array]",yL="[object Uint8Array]",xL="[object Uint8ClampedArray]",wL="[object Uint16Array]",bL="[object Uint32Array]",ce={};ce[Xx]=ce[ZI]=ce[dL]=ce[fL]=ce[eL]=ce[tL]=ce[hL]=ce[mL]=ce[pL]=ce[gL]=ce[vL]=ce[sL]=ce[aL]=ce[Jx]=ce[iL]=ce[oL]=ce[lL]=ce[cL]=ce[yL]=ce[xL]=ce[wL]=ce[bL]=!0;ce[rL]=ce[Qx]=ce[uL]=!1;function Co(e,t,r,n,s,a){var i,l=t&XI,c=t&QI,u=t&JI;if(r&&(i=s?r(e,n,s,a):r(e)),i!==void 0)return i;if(!VI(e))return e;var d=HI(e);if(d){if(i=FI(e),!l)return MI(e,i)}else{var f=zI(e),h=f==Qx||f==nL;if(BI(e))return $I(e,l);if(f==Jx||f==Xx||h&&!s){if(i=c||h?{}:WI(e),!l)return c?RI(e,OI(i,e)):AI(e,DI(i,e))}else{if(!ce[f])return s?e:{};i=UI(e,f,l)}}a||(a=new CI);var p=a.get(e);if(p)return p;a.set(e,i),GI(e)?e.forEach(function(w){i.add(Co(w,t,r,w,e,a))}):qI(e)&&e.forEach(function(w,x){i.set(x,Co(w,t,r,x,e,a))});var v=u?c?LI:II:c?KI:YI,m=d?void 0:v(e);return TI(m||e,function(w,x){m&&(x=w,w=e[x]),PI(i,x,Co(w,t,r,x,e,a))}),i}var _L=Co;function jL(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var NL=jL,SL=Zl,kL=rx;function EL(e,t){return t.length<2?e:SL(e,kL(t,0,-1))}var CL=EL,TL=Jl,PL=NL,DL=CL,OL=Mi;function $L(e,t){return t=TL(t,e),e=DL(e,t),e==null||delete e[OL(PL(t))]}var ML=$L,AL=qs,RL=nc,IL=sn,LL="[object Object]",zL=Function.prototype,FL=Object.prototype,Zx=zL.toString,UL=FL.hasOwnProperty,WL=Zx.call(Object);function HL(e){if(!IL(e)||AL(e)!=LL)return!1;var t=RL(e);if(t===null)return!0;var r=UL.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&Zx.call(r)==WL}var BL=HL,qL=BL;function VL(e){return qL(e)?void 0:e}var GL=VL,YL=Lx;function KL(e){var t=e==null?0:e.length;return t?YL(e,1):[]}var XL=KL,QL=XL,JL=zx,ZL=Ux;function e6(e){return ZL(JL(e,void 0,QL),e+"")}var t6=e6,r6=ah,n6=_L,s6=ML,a6=Jl,i6=Ai,o6=GL,l6=t6,c6=Yx,u6=1,d6=2,f6=4,h6=l6(function(e,t){var r={};if(e==null)return r;var n=!1;t=r6(t,function(a){return a=a6(a,e),n||(n=a.length>1),a}),i6(e,c6(e),r),n&&(r=n6(r,u6|d6|f6,o6));for(var s=t.length;s--;)s6(r,t[s]);return r}),m6=h6;const p6=vt(m6);var g6=qx,v6=Kx,y6=ih,x6=tc,w6=nc,b6=Rt,_6=Kl,j6=Of,N6=Cr,S6=eh;function k6(e,t,r){var n=b6(e),s=n||_6(e)||S6(e);if(t=x6(t),r==null){var a=e&&e.constructor;s?r=n?new a:[]:N6(e)?r=j6(a)?v6(w6(e)):{}:r={}}return(s?g6:y6)(e,function(i,l,c){return t(r,i,l,c)}),r}var E6=k6;const C6=vt(E6);var T6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n,s){n.prototype.isBetween=function(a,i,l,c){var u=s(a),d=s(i),f=(c=c||"()")[0]==="(",h=c[1]===")";return(f?this.isAfter(u,l):!this.isBefore(u,l))&&(h?this.isBefore(d,l):!this.isAfter(d,l))||(f?this.isBefore(u,l):!this.isAfter(u,l))&&(h?this.isAfter(d,l):!this.isBefore(d,l))}}})})(T6);var P6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n){n.prototype.isSameOrAfter=function(s,a){return this.isSame(s,a)||this.isAfter(s,a)}}})})(P6);var D6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n){n.prototype.isSameOrBefore=function(s,a){return this.isSame(s,a)||this.isBefore(s,a)}}})})(D6);var O6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n,s){var a=n.prototype,i=function(f){return f&&(f.indexOf?f:f.s)},l=function(f,h,p,v,m){var w=f.name?f:f.$locale(),x=i(w[h]),g=i(w[p]),y=x||g.map(function(j){return j.slice(0,v)});if(!m)return y;var b=w.weekStart;return y.map(function(j,N){return y[(N+(b||0))%7]})},c=function(){return s.Ls[s.locale()]},u=function(f,h){return f.formats[h]||function(p){return p.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(v,m,w){return m||w.slice(1)})}(f.formats[h.toUpperCase()])},d=function(){var f=this;return{months:function(h){return h?h.format("MMMM"):l(f,"months")},monthsShort:function(h){return h?h.format("MMM"):l(f,"monthsShort","months",3)},firstDayOfWeek:function(){return f.$locale().weekStart||0},weekdays:function(h){return h?h.format("dddd"):l(f,"weekdays")},weekdaysMin:function(h){return h?h.format("dd"):l(f,"weekdaysMin","weekdays",2)},weekdaysShort:function(h){return h?h.format("ddd"):l(f,"weekdaysShort","weekdays",3)},longDateFormat:function(h){return u(f.$locale(),h)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return d.bind(this)()},s.localeData=function(){var f=c();return{firstDayOfWeek:function(){return f.weekStart||0},weekdays:function(){return s.weekdays()},weekdaysShort:function(){return s.weekdaysShort()},weekdaysMin:function(){return s.weekdaysMin()},months:function(){return s.months()},monthsShort:function(){return s.monthsShort()},longDateFormat:function(h){return u(f,h)},meridiem:f.meridiem,ordinal:f.ordinal}},s.months=function(){return l(c(),"months")},s.monthsShort=function(){return l(c(),"monthsShort","months",3)},s.weekdays=function(f){return l(c(),"weekdays",null,null,f)},s.weekdaysShort=function(f){return l(c(),"weekdaysShort","weekdays",3,f)},s.weekdaysMin=function(f){return l(c(),"weekdaysMin","weekdays",2,f)}}})})(O6);var $6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){var r={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};return function(n,s,a){var i=s.prototype,l=i.format;a.en.formats=r,i.format=function(c){c===void 0&&(c="YYYY-MM-DDTHH:mm:ssZ");var u=this.$locale().formats,d=function(f,h){return f.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(p,v,m){var w=m&&m.toUpperCase();return v||h[m]||r[m]||h[w].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(x,g,y){return g||y.slice(1)})})}(c,u===void 0?{}:u);return l.call(this,d)}}})})($6);var M6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n,s){var a=function(i,l){if(!l||!l.length||l.length===1&&!l[0]||l.length===1&&Array.isArray(l[0])&&!l[0].length)return null;var c;l.length===1&&l[0].length>0&&(l=l[0]),c=(l=l.filter(function(d){return d}))[0];for(var u=1;u<l.length;u+=1)l[u].isValid()&&!l[u][i](c)||(c=l[u]);return c};s.max=function(){var i=[].slice.call(arguments,0);return a("isAfter",i)},s.min=function(){var i=[].slice.call(arguments,0);return a("isBefore",i)}}})})(M6);var A6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){var r="minute",n=/[+-]\d\d(?::?\d\d)?/g,s=/([+-]|\d\d)/g;return function(a,i,l){var c=i.prototype;l.utc=function(m){var w={date:m,utc:!0,args:arguments};return new i(w)},c.utc=function(m){var w=l(this.toDate(),{locale:this.$L,utc:!0});return m?w.add(this.utcOffset(),r):w},c.local=function(){return l(this.toDate(),{locale:this.$L,utc:!1})};var u=c.parse;c.parse=function(m){m.utc&&(this.$u=!0),this.$utils().u(m.$offset)||(this.$offset=m.$offset),u.call(this,m)};var d=c.init;c.init=function(){if(this.$u){var m=this.$d;this.$y=m.getUTCFullYear(),this.$M=m.getUTCMonth(),this.$D=m.getUTCDate(),this.$W=m.getUTCDay(),this.$H=m.getUTCHours(),this.$m=m.getUTCMinutes(),this.$s=m.getUTCSeconds(),this.$ms=m.getUTCMilliseconds()}else d.call(this)};var f=c.utcOffset;c.utcOffset=function(m,w){var x=this.$utils().u;if(x(m))return this.$u?0:x(this.$offset)?f.call(this):this.$offset;if(typeof m=="string"&&(m=function(j){j===void 0&&(j="");var N=j.match(n);if(!N)return null;var S=(""+N[0]).match(s)||["-",0,0],_=S[0],k=60*+S[1]+ +S[2];return k===0?0:_==="+"?k:-k}(m),m===null))return this;var g=Math.abs(m)<=16?60*m:m;if(g===0)return this.utc(w);var y=this.clone();if(w)return y.$offset=g,y.$u=!1,y;var b=this.$u?this.toDate().getTimezoneOffset():-1*this.utcOffset();return(y=this.local().add(g+b,r)).$offset=g,y.$x.$localOffset=b,y};var h=c.format;c.format=function(m){var w=m||(this.$u?"YYYY-MM-DDTHH:mm:ss[Z]":"");return h.call(this,w)},c.valueOf=function(){var m=this.$utils().u(this.$offset)?0:this.$offset+(this.$x.$localOffset||this.$d.getTimezoneOffset());return this.$d.valueOf()-6e4*m},c.isUTC=function(){return!!this.$u},c.toISOString=function(){return this.toDate().toISOString()},c.toString=function(){return this.toDate().toUTCString()};var p=c.toDate;c.toDate=function(m){return m==="s"&&this.$offset?l(this.format("YYYY-MM-DD HH:mm:ss:SSS")).toDate():p.call(this)};var v=c.diff;c.diff=function(m,w,x){if(m&&this.$u===m.$u)return v.call(this,m,w,x);var g=this.local(),y=l(m).local();return v.call(g,y,w,x)}}})})(A6);var R6={exports:{}};(function(e,t){(function(r,n){e.exports=n()})(ge,function(){return function(r,n){n.prototype.isLeapYear=function(){return this.$y%4==0&&this.$y%100!=0||this.$y%400==0}}})})(R6);function Zt(e){return e.children}var mt={PREVIOUS:"PREV",NEXT:"NEXT",TODAY:"TODAY",DATE:"DATE"},rt={MONTH:"month",WEEK:"week",WORK_WEEK:"work_week",DAY:"day",AGENDA:"agenda"},Sg=Object.keys(rt).map(function(e){return rt[e]});L.oneOfType([L.string,L.func]);L.any;L.func;L.oneOfType([L.arrayOf(L.oneOf(Sg)),L.objectOf(function(e,t){var r=Sg.indexOf(t)!==-1&&typeof e[t]=="boolean";if(r)return null;for(var n=arguments.length,s=new Array(n>2?n-2:0),a=2;a<n;a++)s[a-2]=arguments[a];return L.elementType.apply(L,[e,t].concat(s))})]);L.oneOfType([L.oneOf(["overlap","no-overlap"]),L.func]);var kg={seconds:1e3,minutes:1e3*60,hours:1e3*60*60,day:1e3*60*60*24};function ew(e,t){var r=Be(e,"month");return Be(r,"week",t.startOfWeek())}function tw(e,t){var r=ol(e,"month");return ol(r,"week",t.startOfWeek())}function I6(e,t){for(var r=ew(e,t),n=tw(e,t),s=[];Ws(r,n,"day");)s.push(r),r=Gt(r,1,"day");return s}function L6(e,t){var r=Be(e,t);return Us(r,e)?r:Gt(r,1,t)}function z6(e,t){for(var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"day",n=e,s=[];Ws(n,t,r);)s.push(n),n=Gt(n,1,r);return s}function F6(e,t){return t==null&&e==null?null:(t==null&&(t=new Date),e==null&&(e=new Date),e=Be(e,"day"),e=oi(e,oi(t)),e=Cs(e,Cs(t)),e=ii(e,ii(t)),ai(e,ai(t)))}function Eg(e){return oi(e)===0&&Cs(e)===0&&ii(e)===0&&ai(e)===0}function U6(e,t,r,n){return r==="day"&&(r="date"),Math.abs(cp[r](e,void 0,n)-cp[r](t,void 0,n))}function ch(e,t,r){return!r||r==="milliseconds"?Math.abs(+e-+t):Math.round(Math.abs(+Be(e,r)/kg[r]-+Be(t,r)/kg[r]))}var W6=L.oneOfType([L.string,L.func]);function H6(e,t,r,n,s){var a=typeof n=="function"?n(r,s,e):t.call(e,r,n,s);return Za(a==null||typeof a=="string","`localizer format(..)` must return a string, null, or undefined"),a}function B6(e,t,r){return new Date(e.getFullYear(),e.getMonth(),e.getDate(),0,t+r,0,0)}function uh(e,t){return e.getTimezoneOffset()-t.getTimezoneOffset()}function q6(e,t){return ch(e,t,"minutes")+uh(e,t)}function V6(e){var t=Be(e,"day");return ch(t,e,"minutes")+uh(t,e)}function G6(e,t){return Df(e,t,"day")}function Y6(e,t,r){var n=Us(e,t,"minutes");return n?ki(t,r,"minutes"):Wl(t,r,"minutes")}function wd(e,t){return U6(e,t,"day")}function K6(e){var t=e.evtA,r=t.start,n=t.end,s=t.allDay,a=e.evtB,i=a.start,l=a.end,c=a.allDay,u=+Be(r,"day")-+Be(i,"day"),d=wd(r,n),f=wd(i,l);return u||f-d||!!c-!!s||+r-+i||+n-+l}function X6(e){var t=e.event,r=t.start,n=t.end,s=e.range,a=s.start,i=s.end,l=Be(r,"day"),c=Ws(l,i,"day"),u=Pf(l,n,"minutes"),d=u?Wl(n,a,"minutes"):ki(n,a,"minutes");return c&&d}function Q6(e,t){return Us(e,t,"day")}function J6(e,t){return Eg(e)&&Eg(t)}var Z6=Ie(function e(t){var r=this;Re(this,e),Za(typeof t.format=="function","date localizer `format(..)` must be a function"),Za(typeof t.firstOfWeek=="function","date localizer `firstOfWeek(..)` must be a function"),this.propType=t.propType||W6,this.formats=t.formats,this.format=function(){for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return H6.apply(void 0,[r,t.format].concat(s))},this.startOfWeek=t.firstOfWeek,this.merge=t.merge||F6,this.inRange=t.inRange||Q0,this.lt=t.lt||Df,this.lte=t.lte||Ws,this.gt=t.gt||Wl,this.gte=t.gte||ki,this.eq=t.eq||Us,this.neq=t.neq||Pf,this.startOf=t.startOf||Be,this.endOf=t.endOf||ol,this.add=t.add||Gt,this.range=t.range||z6,this.diff=t.diff||ch,this.ceil=t.ceil||L6,this.min=t.min||K0,this.max=t.max||X0,this.minutes=t.minutes||Cs,this.daySpan=t.daySpan||wd,this.firstVisibleDay=t.firstVisibleDay||ew,this.lastVisibleDay=t.lastVisibleDay||tw,this.visibleDays=t.visibleDays||I6,this.getSlotDate=t.getSlotDate||B6,this.getTimezoneOffset=t.getTimezoneOffset||function(n){return n.getTimezoneOffset()},this.getDstOffset=t.getDstOffset||uh,this.getTotalMin=t.getTotalMin||q6,this.getMinutesFromMidnight=t.getMinutesFromMidnight||V6,this.continuesPrior=t.continuesPrior||G6,this.continuesAfter=t.continuesAfter||Y6,this.sortEvents=t.sortEvents||K6,this.inEventRange=t.inEventRange||X6,this.isSameDate=t.isSameDate||Q6,this.startAndEndAreDateOnly=t.startAndEndAreDateOnly||J6,this.segmentOffset=t.browserTZOffset?t.browserTZOffset():0});function ez(e,t,r,n){var s=oe(oe({},e.formats),r);return oe(oe({},e),{},{messages:n,startOfWeek:function(){return e.startOfWeek(t)},format:function(i,l){return e.format(i,s[l]||l,t)}})}var tz=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.navigate=function(i){r.props.onNavigate(i)},r.view=function(i){r.props.onView(i)},r}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.localizer.messages,a=n.label;return T.createElement("div",{className:"rbc-toolbar"},T.createElement("span",{className:"rbc-btn-group"},T.createElement("button",{type:"button",onClick:this.navigate.bind(null,mt.TODAY)},s.today),T.createElement("button",{type:"button",onClick:this.navigate.bind(null,mt.PREVIOUS)},s.previous),T.createElement("button",{type:"button",onClick:this.navigate.bind(null,mt.NEXT)},s.next)),T.createElement("span",{className:"rbc-toolbar-label"},a),T.createElement("span",{className:"rbc-btn-group"},this.viewNamesGroup(s)))}},{key:"viewNamesGroup",value:function(n){var s=this,a=this.props.views,i=this.props.view;if(a.length>1)return a.map(function(l){return T.createElement("button",{type:"button",key:l,className:je({"rbc-active":i===l}),onClick:s.view.bind(null,l)},n[l])})}}])}(T.Component);function he(e,t){e&&e.apply(null,[].concat(t))}var rz={date:"Date",time:"Time",event:"Event",allDay:"All Day",week:"Week",work_week:"Work Week",day:"Day",month:"Month",previous:"Back",next:"Next",yesterday:"Yesterday",tomorrow:"Tomorrow",today:"Today",agenda:"Agenda",noEventsInRange:"There are no events in this range.",showMore:function(t){return"+".concat(t," more")}};function nz(e){return oe(oe({},rz),e)}function sz(e){var t=e.ref,r=e.callback;E.useEffect(function(){var n=function(a){t.current&&!t.current.contains(a.target)&&r()};return document.addEventListener("mousedown",n),function(){document.removeEventListener("mousedown",n)}},[t,r])}var az=["style","className","event","selected","isAllDay","onSelect","onDoubleClick","onKeyPress","localizer","continuesPrior","continuesAfter","accessors","getters","children","components","slotStart","slotEnd"],rw=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.style,a=n.className,i=n.event,l=n.selected,c=n.isAllDay,u=n.onSelect,d=n.onDoubleClick,f=n.onKeyPress,h=n.localizer,p=n.continuesPrior,v=n.continuesAfter,m=n.accessors,w=n.getters,x=n.children,g=n.components,y=g.event,b=g.eventWrapper,j=n.slotStart,N=n.slotEnd,S=cr(n,az);delete S.resizable;var _=m.title(i),k=m.tooltip(i),C=m.end(i),O=m.start(i),A=m.allDay(i),P=c||A||h.diff(O,h.ceil(C,"day"),"day")>1,$=w.eventProp(i,O,C,l),B=T.createElement("div",{className:"rbc-event-content",title:k||void 0},y?T.createElement(y,{event:i,continuesPrior:p,continuesAfter:v,title:_,isAllDay:A,localizer:h,slotStart:j,slotEnd:N}):_);return T.createElement(b,Object.assign({},this.props,{type:"date"}),T.createElement("div",Object.assign({},S,{style:oe(oe({},$.style),s),className:je("rbc-event",a,$.className,{"rbc-selected":l,"rbc-event-allday":P,"rbc-event-continues-prior":p,"rbc-event-continues-after":v}),onClick:function(q){return u&&u(i,q)},onDoubleClick:function(q){return d&&d(i,q)},onKeyDown:function(q){return f&&f(i,q)}}),typeof x=="function"?x(B):B))}}])}(T.Component);function sc(e,t){return!e||t==null?!1:b$(e,t)}function nw(e,t){var r=e.right-e.left,n=r/t;return n}function sw(e,t,r,n){var s=nw(e,n);return r?n-1-Math.floor((t-e.left)/s):Math.floor((t-e.left)/s)}function iz(e,t){var r=t.x,n=t.y;return n>=e.top&&n<=e.bottom&&r>=e.left&&r<=e.right}function oz(e,t,r,n,s){var a=-1,i=-1,l=n-1,c=nw(t,n),u=sw(t,r.x,s,n),d=t.top<r.y&&t.bottom>r.y,f=t.top<e.y&&t.bottom>e.y,h=e.y>t.bottom,p=t.top>e.y,v=r.top<t.top&&r.bottom>t.bottom;return v&&(a=0,i=l),d&&(p?(a=0,i=u):h&&(a=u,i=l)),f&&(a=i=s?l-Math.floor((e.x-t.left)/c):Math.floor((e.x-t.left)/c),d?u<a?a=u:i=u:e.y<r.y?i=l:a=0),{startIdx:a,endIdx:i}}function lz(e){var t=e.target,r=e.offset,n=e.container,s=e.box,a=_n(t),i=a.top,l=a.left,c=a.width,u=a.height,d=_n(n),f=d.top,h=d.left,p=d.width,v=d.height,m=_n(s),w=m.width,x=m.height,g=f+v,y=h+p,b=i+x,j=l+w,N=r.x,S=r.y,_=b>g?i-x-S:i+S+u,k=j>y?l+N-w+c:l+N;return{topOffset:_,leftOffset:k}}function cz(e){var t=e.containerRef,r=e.accessors,n=e.getters,s=e.selected,a=e.components,i=e.localizer,l=e.position,c=e.show,u=e.events,d=e.slotStart,f=e.slotEnd,h=e.onSelect,p=e.onDoubleClick,v=e.onKeyPress,m=e.handleDragStart,w=e.popperRef,x=e.target,g=e.offset;sz({ref:w,callback:c}),E.useLayoutEffect(function(){var j=lz({target:x,offset:g,container:t.current,box:w.current}),N=j.topOffset,S=j.leftOffset;w.current.style.top="".concat(N,"px"),w.current.style.left="".concat(S,"px")},[g.x,g.y,x]);var y=l.width,b={minWidth:y+y/2};return T.createElement("div",{style:b,className:"rbc-overlay",ref:w},T.createElement("div",{className:"rbc-overlay-header"},i.format(d,"dayHeaderFormat")),u.map(function(j,N){return T.createElement(rw,{key:N,type:"popup",localizer:i,event:j,getters:n,onSelect:h,accessors:r,components:a,onDoubleClick:p,onKeyPress:v,continuesPrior:i.lt(r.end(j),d,"day"),continuesAfter:i.gte(r.start(j),f,"day"),slotStart:d,slotEnd:f,selected:sc(j,s),draggable:!0,onDragStart:function(){return m(j)},onDragEnd:function(){return c()}})}))}var aw=T.forwardRef(function(e,t){return T.createElement(cz,Object.assign({},e,{popperRef:t}))});aw.propTypes={accessors:L.object.isRequired,getters:L.object.isRequired,selected:L.object,components:L.object.isRequired,localizer:L.object.isRequired,position:L.object.isRequired,show:L.func.isRequired,events:L.array.isRequired,slotStart:L.instanceOf(Date).isRequired,slotEnd:L.instanceOf(Date),onSelect:L.func,onDoubleClick:L.func,onKeyPress:L.func,handleDragStart:L.func,style:L.object,offset:L.shape({x:L.number,y:L.number})};function uz(e){var t=e.containerRef,r=e.popupOffset,n=r===void 0?5:r,s=e.overlay,a=e.accessors,i=e.localizer,l=e.components,c=e.getters,u=e.selected,d=e.handleSelectEvent,f=e.handleDoubleClickEvent,h=e.handleKeyPressEvent,p=e.handleDragStart,v=e.onHide,m=e.overlayDisplay,w=E.useRef(null);if(!s.position)return null;var x=n;isNaN(n)||(x={x:n,y:n});var g=s.position,y=s.events,b=s.date,j=s.end;return T.createElement(Vf,{rootClose:!0,flip:!0,show:!0,placement:"bottom",onHide:v,target:s.target},function(N){var S=N.props;return T.createElement(aw,Object.assign({},S,{containerRef:t,ref:w,target:s.target,offset:x,accessors:a,getters:c,selected:u,components:l,localizer:i,position:g,show:m,events:y,slotStart:b,slotEnd:j,onSelect:d,onDoubleClick:f,onKeyPress:h,handleDragStart:p}))})}var dh=T.forwardRef(function(e,t){return T.createElement(uz,Object.assign({},e,{containerRef:t}))});dh.propTypes={popupOffset:L.oneOfType([L.number,L.shape({x:L.number,y:L.number})]),overlay:L.shape({position:L.object,events:L.array,date:L.instanceOf(Date),end:L.instanceOf(Date)}),accessors:L.object.isRequired,localizer:L.object.isRequired,components:L.object.isRequired,getters:L.object.isRequired,selected:L.object,handleSelectEvent:L.func,handleDoubleClickEvent:L.func,handleKeyPressEvent:L.func,handleDragStart:L.func,onHide:L.func,overlayDisplay:L.func};function Ge(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:document;return va(r,e,t,{passive:!1})}function dz(e,t,r){return!e||li(e,document.elementFromPoint(t,r))}function fz(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return Dx(s,".rbc-event",e)}function hz(e,t){var r=t.clientX,n=t.clientY,s=document.elementFromPoint(r,n);return Dx(s,".rbc-show-more",e)}function ml(e,t){return!!fz(e,t)}function mz(e,t){return!!hz(e,t)}function da(e){var t=e;return e.touches&&e.touches.length&&(t=e.touches[0]),{clientX:t.clientX,clientY:t.clientY,pageX:t.pageX,pageY:t.pageY}}var Cg=5,pz=250,iw=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=r.global,s=n===void 0?!1:n,a=r.longPressThreshold,i=a===void 0?250:a,l=r.validContainers,c=l===void 0?[]:l;Re(this,e),this._initialEvent=null,this.selecting=!1,this.isDetached=!1,this.container=t,this.globalMouse=!t||s,this.longPressThreshold=i,this.validContainers=c,this._listeners=Object.create(null),this._handleInitialEvent=this._handleInitialEvent.bind(this),this._handleMoveEvent=this._handleMoveEvent.bind(this),this._handleTerminatingEvent=this._handleTerminatingEvent.bind(this),this._keyListener=this._keyListener.bind(this),this._dropFromOutsideListener=this._dropFromOutsideListener.bind(this),this._dragOverFromOutsideListener=this._dragOverFromOutsideListener.bind(this),this._removeTouchMoveWindowListener=Ge("touchmove",function(){},window),this._removeKeyDownListener=Ge("keydown",this._keyListener),this._removeKeyUpListener=Ge("keyup",this._keyListener),this._removeDropFromOutsideListener=Ge("drop",this._dropFromOutsideListener),this._removeDragOverFromOutsideListener=Ge("dragover",this._dragOverFromOutsideListener),this._addInitialEventListener()}return Ie(e,[{key:"on",value:function(r,n){var s=this._listeners[r]||(this._listeners[r]=[]);return s.push(n),{remove:function(){var i=s.indexOf(n);i!==-1&&s.splice(i,1)}}}},{key:"emit",value:function(r){for(var n=arguments.length,s=new Array(n>1?n-1:0),a=1;a<n;a++)s[a-1]=arguments[a];var i,l=this._listeners[r]||[];return l.forEach(function(c){i===void 0&&(i=c.apply(void 0,s))}),i}},{key:"teardown",value:function(){this._initialEvent=null,this._initialEventData=null,this._selectRect=null,this.selecting=!1,this._lastClickData=null,this.isDetached=!0,this._listeners=Object.create(null),this._removeTouchMoveWindowListener&&this._removeTouchMoveWindowListener(),this._removeInitialEventListener&&this._removeInitialEventListener(),this._removeEndListener&&this._removeEndListener(),this._onEscListener&&this._onEscListener(),this._removeMoveListener&&this._removeMoveListener(),this._removeKeyUpListener&&this._removeKeyUpListener(),this._removeKeyDownListener&&this._removeKeyDownListener(),this._removeDropFromOutsideListener&&this._removeDropFromOutsideListener(),this._removeDragOverFromOutsideListener&&this._removeDragOverFromOutsideListener()}},{key:"isSelected",value:function(r){var n=this._selectRect;return!n||!this.selecting?!1:Tg(n,Rn(r))}},{key:"filter",value:function(r){var n=this._selectRect;return!n||!this.selecting?[]:r.filter(this.isSelected,this)}},{key:"_addLongPressListener",value:function(r,n){var s=this,a=null,i=null,l=null,c=function(h){a=setTimeout(function(){d(),r(h)},s.longPressThreshold),i=Ge("touchmove",function(){return d()}),l=Ge("touchend",function(){return d()})},u=Ge("touchstart",c),d=function(){a&&clearTimeout(a),i&&i(),l&&l(),a=null,i=null,l=null};return n&&c(n),function(){d(),u()}}},{key:"_addInitialEventListener",value:function(){var r=this,n=Ge("mousedown",function(a){r._removeInitialEventListener(),r._handleInitialEvent(a),r._removeInitialEventListener=Ge("mousedown",r._handleInitialEvent)}),s=Ge("touchstart",function(a){r._removeInitialEventListener(),r._removeInitialEventListener=r._addLongPressListener(r._handleInitialEvent,a)});this._removeInitialEventListener=function(){n(),s()}}},{key:"_dropFromOutsideListener",value:function(r){var n=da(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dropFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_dragOverFromOutsideListener",value:function(r){var n=da(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY;this.emit("dragOverFromOutside",{x:s,y:a,clientX:i,clientY:l}),r.preventDefault()}},{key:"_handleInitialEvent",value:function(r){if(this._initialEvent=r,!this.isDetached){var n=da(r),s=n.clientX,a=n.clientY,i=n.pageX,l=n.pageY,c=this.container(),u,d;if(!(r.which===3||r.button===2||!dz(c,s,a))){if(!this.globalMouse&&c&&!li(c,r.target)){var f=gz(0),h=f.top,p=f.left,v=f.bottom,m=f.right;if(d=Rn(c),u=Tg({top:d.top-h,left:d.left-p,bottom:d.bottom+v,right:d.right+m},{top:l,left:i}),!u)return}var w=this.emit("beforeSelect",this._initialEventData={isTouch:/^touch/.test(r.type),x:i,y:l,clientX:s,clientY:a});if(w!==!1)switch(r.type){case"mousedown":this._removeEndListener=Ge("mouseup",this._handleTerminatingEvent),this._onEscListener=Ge("keydown",this._handleTerminatingEvent),this._removeMoveListener=Ge("mousemove",this._handleMoveEvent);break;case"touchstart":this._handleMoveEvent(r),this._removeEndListener=Ge("touchend",this._handleTerminatingEvent),this._removeMoveListener=Ge("touchmove",this._handleMoveEvent);break}}}}},{key:"_isWithinValidContainer",value:function(r){var n=r.target,s=this.validContainers;return!s||!s.length||!n?!0:s.some(function(a){return!!n.closest(a)})}},{key:"_handleTerminatingEvent",value:function(r){var n=this.selecting,s=this._selectRect;if(!n&&r.type.includes("key")&&(r=this._initialEvent),this.selecting=!1,this._removeEndListener&&this._removeEndListener(),this._removeMoveListener&&this._removeMoveListener(),this._selectRect=null,this._initialEvent=null,this._initialEventData=null,!!r){var a=!this.container||li(this.container(),r.target),i=this._isWithinValidContainer(r);return r.key==="Escape"||!i?this.emit("reset"):!n&&a?this._handleClickEvent(r):n?this.emit("select",s):this.emit("reset")}}},{key:"_handleClickEvent",value:function(r){var n=da(r),s=n.pageX,a=n.pageY,i=n.clientX,l=n.clientY,c=new Date().getTime();return this._lastClickData&&c-this._lastClickData.timestamp<pz?(this._lastClickData=null,this.emit("doubleClick",{x:s,y:a,clientX:i,clientY:l})):(this._lastClickData={timestamp:c},this.emit("click",{x:s,y:a,clientX:i,clientY:l}))}},{key:"_handleMoveEvent",value:function(r){if(!(this._initialEventData===null||this.isDetached)){var n=this._initialEventData,s=n.x,a=n.y,i=da(r),l=i.pageX,c=i.pageY,u=Math.abs(s-l),d=Math.abs(a-c),f=Math.min(l,s),h=Math.min(c,a),p=this.selecting,v=this.isClick(l,c);v&&!p&&!(u||d)||(!p&&!v&&this.emit("selectStart",this._initialEventData),v||(this.selecting=!0,this._selectRect={top:h,left:f,x:l,y:c,right:f+u,bottom:h+d},this.emit("selecting",this._selectRect)),r.preventDefault())}}},{key:"_keyListener",value:function(r){this.ctrl=r.metaKey||r.ctrlKey}},{key:"isClick",value:function(r,n){var s=this._initialEventData,a=s.x,i=s.y,l=s.isTouch;return!l&&Math.abs(r-a)<=Cg&&Math.abs(n-i)<=Cg}}])}();function gz(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;return Nr(e)!=="object"&&(e={top:e,left:e,right:e,bottom:e}),e}function Tg(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=Rn(e),s=n.top,a=n.left,i=n.right,l=i===void 0?a:i,c=n.bottom,u=c===void 0?s:c,d=Rn(t),f=d.top,h=d.left,p=d.right,v=p===void 0?h:p,m=d.bottom,w=m===void 0?f:m;return!(u-r<f||s+r>w||l-r<h||a+r>v)}function Rn(e){if(!e.getBoundingClientRect)return e;var t=e.getBoundingClientRect(),r=t.left+Pg("left"),n=t.top+Pg("top");return{top:n,left:r,right:(e.offsetWidth||0)+r,bottom:(e.offsetHeight||0)+n}}function Pg(e){if(e==="left")return window.pageXOffset||document.body.scrollLeft||0;if(e==="top")return window.pageYOffset||document.body.scrollTop||0}var vz=function(e){function t(r,n){var s;return Re(this,t),s=Qe(this,t,[r,n]),s.state={selecting:!1},s.containerRef=E.createRef(),s}return Je(t,e),Ie(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable()}},{key:"componentDidUpdate",value:function(n){!n.selectable&&this.props.selectable&&this._selectable(),n.selectable&&!this.props.selectable&&this._teardownSelectable()}},{key:"render",value:function(){var n=this.props,s=n.range,a=n.getNow,i=n.getters,l=n.date,c=n.components.dateCellWrapper,u=n.localizer,d=this.state,f=d.selecting,h=d.startIdx,p=d.endIdx,v=a();return T.createElement("div",{className:"rbc-row-bg",ref:this.containerRef},s.map(function(m,w){var x=f&&w>=h&&w<=p,g=i.dayProp(m),y=g.className,b=g.style;return T.createElement(c,{key:w,value:m,range:s},T.createElement("div",{style:b,className:je("rbc-day-bg",y,x&&"rbc-selected-cell",u.isSameDate(m,v)&&"rbc-today",l&&u.neq(l,m,"month")&&"rbc-off-range-bg")}))}))}},{key:"_selectable",value:function(){var n=this,s=this.containerRef.current,a=this._selector=new iw(this.props.container,{longPressThreshold:this.props.longPressThreshold}),i=function(c,u){if(!ml(s,c)&&!mz(s,c)){var d=Rn(s),f=n.props,h=f.range,p=f.rtl;if(iz(d,c)){var v=sw(d,c.x,p,h.length);n._selectSlot({startIdx:v,endIdx:v,action:u,box:c})}}n._initial={},n.setState({selecting:!1})};a.on("selecting",function(l){var c=n.props,u=c.range,d=c.rtl,f=-1,h=-1;if(n.state.selecting||(he(n.props.onSelectStart,[l]),n._initial={x:l.x,y:l.y}),a.isSelected(s)){var p=Rn(s),v=oz(n._initial,p,l,u.length,d);f=v.startIdx,h=v.endIdx}n.setState({selecting:!0,startIdx:f,endIdx:h})}),a.on("beforeSelect",function(l){if(n.props.selectable==="ignoreEvents")return!ml(n.containerRef.current,l)}),a.on("click",function(l){return i(l,"click")}),a.on("doubleClick",function(l){return i(l,"doubleClick")}),a.on("select",function(l){n._selectSlot(oe(oe({},n.state),{},{action:"select",bounds:l})),n._initial={},n.setState({selecting:!1}),he(n.props.onSelectEnd,[n.state])})}},{key:"_teardownSelectable",value:function(){this._selector&&(this._selector.teardown(),this._selector=null)}},{key:"_selectSlot",value:function(n){var s=n.endIdx,a=n.startIdx,i=n.action,l=n.bounds,c=n.box;s!==-1&&a!==-1&&this.props.onSelectSlot&&this.props.onSelectSlot({start:a,end:s,action:i,bounds:l,box:c,resourceId:this.props.resourceId})}}])}(T.Component),Et={propTypes:{slotMetrics:L.object.isRequired,selected:L.object,isAllDay:L.bool,accessors:L.object.isRequired,localizer:L.object.isRequired,components:L.object.isRequired,getters:L.object.isRequired,onSelect:L.func,onDoubleClick:L.func,onKeyPress:L.func},defaultProps:{segments:[],selected:{}},renderEvent:function(t,r){var n=t.selected;t.isAllDay;var s=t.accessors,a=t.getters,i=t.onSelect,l=t.onDoubleClick,c=t.onKeyPress,u=t.localizer,d=t.slotMetrics,f=t.components,h=t.resizable,p=d.continuesPrior(r),v=d.continuesAfter(r);return T.createElement(rw,{event:r,getters:a,localizer:u,accessors:s,components:f,onSelect:i,onDoubleClick:l,onKeyPress:c,continuesPrior:p,continuesAfter:v,slotStart:d.first,slotEnd:d.last,selected:sc(r,n),resizable:h})},renderSpan:function(t,r,n){var s=arguments.length>3&&arguments[3]!==void 0?arguments[3]:" ",a=Math.abs(r)/t*100+"%";return T.createElement("div",{key:n,className:"rbc-row-segment",style:{WebkitFlexBasis:a,flexBasis:a,maxWidth:a}},s)}},ow=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this,s=this.props,a=s.segments,i=s.slotMetrics.slots,l=s.className,c=1;return T.createElement("div",{className:je(l,"rbc-row")},a.reduce(function(u,d,f){var h=d.event,p=d.left,v=d.right,m=d.span,w="_lvl_"+f,x=p-c,g=Et.renderEvent(n.props,h);return x&&u.push(Et.renderSpan(i,x,"".concat(w,"_gap"))),u.push(Et.renderSpan(i,m,w,g)),c=v+1,u},[]))}}])}(T.Component);ow.defaultProps=oe({},Et.defaultProps);function lw(e){var t=e.dateRange,r=e.unit,n=r===void 0?"day":r,s=e.localizer;return{first:t[0],last:s.add(t[t.length-1],1,n)}}function yz(e,t,r,n){var s=lw({dateRange:t,localizer:n}),a=s.first,i=s.last,l=n.diff(a,i,"day"),c=n.max(n.startOf(r.start(e),"day"),a),u=n.min(n.ceil(r.end(e),"day"),i),d=_A(t,function(h){return n.isSameDate(h,c)}),f=n.diff(c,u,"day");return f=Math.min(f,l),f=Math.max(f-n.segmentOffset,1),{event:e,span:f,left:d+1,right:Math.max(d+f,1)}}function bd(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1/0,r,n,s,a=[],i=[];for(r=0;r<e.length;r++){for(s=e[r],n=0;n<a.length&&xz(s,a[n]);n++);n>=t?i.push(s):(a[n]||(a[n]=[])).push(s)}for(r=0;r<a.length;r++)a[r].sort(function(l,c){return l.left-c.left});return{levels:a,extra:i}}function di(e,t,r,n,s){var a={start:n.start(e),end:n.end(e)},i={start:t,end:r};return s.inEventRange({event:a,range:i})}function xz(e,t){return t.some(function(r){return r.left<=e.right&&r.right>=e.left})}function wz(e,t,r){var n=ko(e),s=[],a=[];n.forEach(function(c){var u=t.start(c),d=t.end(c);r.daySpan(u,d)>1?s.push(c):a.push(c)});var i=s.sort(function(c,u){return _d(c,u,t,r)}),l=a.sort(function(c,u){return _d(c,u,t,r)});return[].concat(ko(i),ko(l))}function _d(e,t,r,n){var s={start:r.start(e),end:r.end(e),allDay:r.allDay(e)},a={start:r.start(t),end:r.end(t),allDay:r.allDay(t)};return n.sortEvents({evtA:s,evtB:a})}var jd=function(t,r){return t.left<=r&&t.right>=r},Zc=function(t,r){return t.filter(function(n){return jd(n,r)}).map(function(n){return n.event})},cw=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){for(var n=this.props,s=n.segments,a=n.slotMetrics.slots,i=bd(s).levels[0],l=1,c=1,u=[];l<=a;){var d="_lvl_"+l,f=i.filter(function(b){return jd(b,l)})[0]||{},h=f.event,p=f.left,v=f.right,m=f.span;if(!h){var w=this.getHiddenEventsForSlot(s,l);if(w.length>0){var x=l-c;x&&u.push(Et.renderSpan(a,x,d+"_gap")),u.push(Et.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1;continue}l++;continue}var g=Math.max(0,p-c);if(this.canRenderSlotEvent(p,m)){var y=Et.renderEvent(this.props,h);g&&u.push(Et.renderSpan(a,g,d+"_gap")),u.push(Et.renderSpan(a,m,d,y)),c=l=v+1}else g&&u.push(Et.renderSpan(a,g,d+"_gap")),u.push(Et.renderSpan(a,1,d,this.renderShowMore(s,l))),c=l=l+1}return T.createElement("div",{className:"rbc-row"},u)}},{key:"getHiddenEventsForSlot",value:function(n,s){var a=Zc(n,s),i=bd(n).levels[0],l=i.filter(function(c){return jd(c,s)}).map(function(c){return c.event});return a.filter(function(c){return!l.some(function(u){return u===c})})}},{key:"canRenderSlotEvent",value:function(n,s){var a=this.props.segments;return MA(n,n+s).every(function(i){var l=Zc(a,i).length;return l===1})}},{key:"renderShowMore",value:function(n,s){var a=this,i=this.props,l=i.localizer,c=i.slotMetrics,u=i.components,d=c.getEventsForSlot(s),f=Zc(n,s),h=f.length;if(u!=null&&u.showMore){var p=u.showMore,v=c.getDateForSlot(s-1);return h?T.createElement(p,{localizer:l,slotDate:v,slot:s,count:h,events:d,remainingEvents:f}):!1}return h?T.createElement("button",{type:"button",key:"sm_"+s,className:je("rbc-button-link","rbc-show-more"),onClick:function(w){return a.showMore(s,w)}},l.messages.showMore(h,f,d)):!1}},{key:"showMore",value:function(n,s){s.preventDefault(),s.stopPropagation(),this.props.onShowMore(n,s.target)}}])}(T.Component);cw.defaultProps=oe({},Et.defaultProps);var bz=function(t){var r=t.children;return T.createElement("div",{className:"rbc-row-content-scroll-container"},r)},_z=function(t,r){return t.left<=r&&t.right>=r},jz=function(t,r){return t[0].range===r[0].range&&t[0].events===r[0].events};function uw(){return Rx(function(e){for(var t=e.range,r=e.events,n=e.maxRows,s=e.minRows,a=e.accessors,i=e.localizer,l=lw({dateRange:t,localizer:i}),c=l.first,u=l.last,d=r.map(function(m){return yz(m,t,a,i)}),f=bd(d,Math.max(n-1,1)),h=f.levels,p=f.extra,v=p.length>0?s-1:s;h.length<v;)h.push([]);return{first:c,last:u,levels:h,extra:p,range:t,slots:t.length,clone:function(w){var x=uw();return x(oe(oe({},e),w))},getDateForSlot:function(w){return t[w]},getSlotForDate:function(w){return t.find(function(x){return i.isSameDate(x,w)})},getEventsForSlot:function(w){return d.filter(function(x){return _z(x,w)}).map(function(x){return x.event})},continuesPrior:function(w){return i.continuesPrior(a.start(w),c)},continuesAfter:function(w){var x=a.start(w),g=a.end(w);return i.continuesAfter(x,g,u)}}},jz)}var fi=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.handleSelectSlot=function(i){var l=r.props,c=l.range,u=l.onSelectSlot;u(c.slice(i.start,i.end+1),i)},r.handleShowMore=function(i,l){var c=r.props,u=c.range,d=c.onShowMore,f=r.slotMetrics(r.props),h=wk(r.containerRef.current,".rbc-row-bg")[0],p;h&&(p=h.children[i-1]);var v=f.getEventsForSlot(i);d(v,u[i-1],p,i,l)},r.getContainer=function(){var i=r.props.container;return i?i():r.containerRef.current},r.renderHeadingCell=function(i,l){var c=r.props,u=c.renderHeader,d=c.getNow,f=c.localizer;return u({date:i,key:"header_".concat(l),className:je("rbc-date-cell",f.isSameDate(i,d())&&"rbc-now")})},r.renderDummy=function(){var i=r.props,l=i.className,c=i.range,u=i.renderHeader,d=i.showAllEvents;return T.createElement("div",{className:l,ref:r.containerRef},T.createElement("div",{className:je("rbc-row-content",d&&"rbc-row-content-scrollable")},u&&T.createElement("div",{className:"rbc-row",ref:r.headingRowRef},c.map(r.renderHeadingCell)),T.createElement("div",{className:"rbc-row",ref:r.eventRowRef},T.createElement("div",{className:"rbc-row-segment"},T.createElement("div",{className:"rbc-event"},T.createElement("div",{className:"rbc-event-content"},""))))))},r.containerRef=E.createRef(),r.headingRowRef=E.createRef(),r.eventRowRef=E.createRef(),r.slotMetrics=uw(),r}return Je(t,e),Ie(t,[{key:"getRowLimit",value:function(){var n,s=Xc(this.eventRowRef.current),a=(n=this.headingRowRef)!==null&&n!==void 0&&n.current?Xc(this.headingRowRef.current):0,i=Xc(this.containerRef.current)-a;return Math.max(Math.floor(i/s),1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.rtl,i=n.range,l=n.className,c=n.selected,u=n.selectable,d=n.renderForMeasure,f=n.accessors,h=n.getters,p=n.components,v=n.getNow,m=n.renderHeader,w=n.onSelect,x=n.localizer,g=n.onSelectStart,y=n.onSelectEnd,b=n.onDoubleClick,j=n.onKeyPress,N=n.resourceId,S=n.longPressThreshold,_=n.isAllDay,k=n.resizable,C=n.showAllEvents;if(d)return this.renderDummy();var O=this.slotMetrics(this.props),A=O.levels,P=O.extra,$=C?bz:Zt,B=p.weekWrapper,W={selected:c,accessors:f,getters:h,localizer:x,components:p,onSelect:w,onDoubleClick:b,onKeyPress:j,resourceId:N,slotMetrics:O,resizable:k};return T.createElement("div",{className:l,role:"rowgroup",ref:this.containerRef},T.createElement(vz,{localizer:x,date:s,getNow:v,rtl:a,range:i,selectable:u,container:this.getContainer,getters:h,onSelectStart:g,onSelectEnd:y,onSelectSlot:this.handleSelectSlot,components:p,longPressThreshold:S,resourceId:N}),T.createElement("div",{className:je("rbc-row-content",C&&"rbc-row-content-scrollable"),role:"row"},m&&T.createElement("div",{className:"rbc-row ",ref:this.headingRowRef},i.map(this.renderHeadingCell)),T.createElement($,null,T.createElement(B,Object.assign({isAllDay:_},W,{rtl:this.props.rtl}),A.map(function(q,M){return T.createElement(ow,Object.assign({key:M,segments:q},W))}),!!P.length&&T.createElement(cw,Object.assign({segments:P,onShowMore:this.handleShowMore},W))))))}}])}(T.Component);fi.defaultProps={minRows:0,maxRows:1/0};var fh=function(t){var r=t.label;return T.createElement("span",{role:"columnheader","aria-sort":"none"},r)},Nz=function(t){var r=t.label,n=t.drilldownView,s=t.onDrillDown;return n?T.createElement("button",{type:"button",className:"rbc-button-link",onClick:s},r):T.createElement("span",null,r)},Sz=["date","className"],kz=function(t,r,n,s,a){return t.filter(function(i){return di(i,r,n,s,a)})},ac=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.getContainer=function(){return r.containerRef.current},r.renderWeek=function(i,l){var c=r.props,u=c.events,d=c.components,f=c.selectable,h=c.getNow,p=c.selected,v=c.date,m=c.localizer,w=c.longPressThreshold,x=c.accessors,g=c.getters,y=c.showAllEvents,b=r.state,j=b.needLimitMeasure,N=b.rowLimit,S=kz(ko(u),i[0],i[i.length-1],x,m),_=wz(S,x,m);return T.createElement(fi,{key:l,ref:l===0?r.slotRowRef:void 0,container:r.getContainer,className:"rbc-month-row",getNow:h,date:v,range:i,events:_,maxRows:y?1/0:N,selected:p,selectable:f,components:d,accessors:x,getters:g,localizer:m,renderHeader:r.readerDateHeading,renderForMeasure:j,onShowMore:r.handleShowMore,onSelect:r.handleSelectEvent,onDoubleClick:r.handleDoubleClickEvent,onKeyPress:r.handleKeyPressEvent,onSelectSlot:r.handleSelectSlot,longPressThreshold:w,rtl:r.props.rtl,resizable:r.props.resizable,showAllEvents:y})},r.readerDateHeading=function(i){var l=i.date,c=i.className,u=cr(i,Sz),d=r.props,f=d.date,h=d.getDrilldownView,p=d.localizer,v=p.neq(f,l,"month"),m=p.isSameDate(l,f),w=h(l),x=p.format(l,"dateFormat"),g=r.props.components.dateHeader||Nz;return T.createElement("div",Object.assign({},u,{className:je(c,v&&"rbc-off-range",m&&"rbc-current"),role:"cell"}),T.createElement(g,{label:x,date:l,drilldownView:w,isOffRange:v,onDrillDown:function(b){return r.handleHeadingClick(l,w,b)}}))},r.handleSelectSlot=function(i,l){r._pendingSelection=r._pendingSelection.concat(i),clearTimeout(r._selectTimer),r._selectTimer=setTimeout(function(){return r.selectDates(l)})},r.handleHeadingClick=function(i,l,c){c.preventDefault(),r.clearSelection(),he(r.props.onDrillDown,[i,l])},r.handleSelectEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){r.clearSelection();for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onKeyPressEvent,l)},r.handleShowMore=function(i,l,c,u,d){var f=r.props,h=f.popup,p=f.onDrillDown,v=f.onShowMore,m=f.getDrilldownView,w=f.doShowMoreDrillDown;if(r.clearSelection(),h){var x=ux(c,r.containerRef.current);r.setState({overlay:{date:l,events:i,position:x,target:d}})}else w&&he(p,[l,m(l)||rt.DAY]);he(v,[i,l,u])},r.overlayDisplay=function(){r.setState({overlay:null})},r.state={rowLimit:5,needLimitMeasure:!0,date:null},r.containerRef=E.createRef(),r.slotRowRef=E.createRef(),r._bgRows=[],r._pendingSelection=[],r}return Je(t,e),Ie(t,[{key:"componentDidMount",value:function(){var n=this,s;this.state.needLimitMeasure&&this.measureRowLimit(this.props),window.addEventListener("resize",this._resizeListener=function(){s||dx(function(){s=!1,n.setState({needLimitMeasure:!0})})},!1)}},{key:"componentDidUpdate",value:function(){this.state.needLimitMeasure&&this.measureRowLimit(this.props)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._resizeListener,!1)}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.className,l=a.visibleDays(s,a),c=sk(l,7);return this._weekCount=c.length,T.createElement("div",{className:je("rbc-month-view",i),role:"table","aria-label":"Month View",ref:this.containerRef},T.createElement("div",{className:"rbc-row rbc-month-header",role:"row"},this.renderHeaders(c[0])),c.map(this.renderWeek),this.props.popup&&this.renderOverlay())}},{key:"renderHeaders",value:function(n){var s=this.props,a=s.localizer,i=s.components,l=n[0],c=n[n.length-1],u=i.header||fh;return a.range(l,c,"day").map(function(d,f){return T.createElement("div",{key:"header_"+f,className:"rbc-header"},T.createElement(u,{date:d,localizer:a,label:a.format(d,"weekdayFormat")}))})}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,m=function(){return a.setState({overlay:null})};return T.createElement(dh,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"measureRowLimit",value:function(){this.setState({needLimitMeasure:!1,rowLimit:this.slotRowRef.current.getRowLimit()})}},{key:"selectDates",value:function(n){var s=this._pendingSelection.slice();this._pendingSelection=[],s.sort(function(l,c){return+l-+c});var a=new Date(s[0]),i=new Date(s[s.length-1]);i.setDate(s[s.length-1].getDate()+1),he(this.props.onSelectSlot,{slots:s,start:a,end:i,action:n.action,bounds:n.bounds,box:n.box})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}}],[{key:"getDerivedStateFromProps",value:function(n,s){var a=n.date,i=n.localizer;return{date:a,needLimitMeasure:i.neq(a,s.date,"month")}}}])}(T.Component);ac.range=function(e,t){var r=t.localizer,n=r.firstVisibleDay(e,r),s=r.lastVisibleDay(e,r);return{start:n,end:s}};ac.navigate=function(e,t,r){var n=r.localizer;switch(t){case mt.PREVIOUS:return n.add(e,-1,"month");case mt.NEXT:return n.add(e,1,"month");default:return e}};ac.title=function(e,t){var r=t.localizer;return r.format(e,"monthHeaderFormat")};var Dg=function(t){var r=t.min,n=t.max,s=t.step,a=t.slots,i=t.localizer;return"".concat(+i.startOf(r,"minutes"))+"".concat(+i.startOf(n,"minutes"))+"".concat(s,"-").concat(a)};function hh(e){for(var t=e.min,r=e.max,n=e.step,s=e.timeslots,a=e.localizer,i=Dg({start:t,end:r,step:n,timeslots:s,localizer:a}),l=1+a.getTotalMin(t,r),c=a.getMinutesFromMidnight(t),u=Math.ceil((l-1)/(n*s)),d=u*s,f=new Array(u),h=new Array(d),p=0;p<u;p++){f[p]=new Array(s);for(var v=0;v<s;v++){var m=p*s+v,w=m*n;h[m]=f[p][v]=a.getSlotDate(t,c,w)}}var x=h.length*n;h.push(a.getSlotDate(t,c,x));function g(y){var b=a.diff(t,y,"minutes")+a.getDstOffset(t,y);return Math.min(b,l)}return{groups:f,update:function(b){return Dg(b)!==i?hh(b):this},dateIsInGroup:function(b,j){var N=f[j+1];return a.inRange(b,f[j][0],N?N[0]:r,"minutes")},nextSlot:function(b){var j=h[Math.min(h.findIndex(function(N){return N===b||a.eq(N,b)})+1,h.length-1)];return a.eq(j,b)&&(j=a.add(b,n,"minutes")),j},closestSlotToPosition:function(b){var j=Math.min(h.length-1,Math.max(0,Math.floor(b*d)));return h[j]},closestSlotFromPoint:function(b,j){var N=Math.abs(j.top-j.bottom);return this.closestSlotToPosition((b.y-j.top)/N)},closestSlotFromDate:function(b){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(a.lt(b,t,"minutes"))return h[0];if(a.gt(b,r,"minutes"))return h[h.length-1];var N=a.diff(t,b,"minutes");return h[(N-N%n)/n+j]},startsBeforeDay:function(b){return a.lt(b,t,"day")},startsAfterDay:function(b){return a.gt(b,r,"day")},startsBefore:function(b){return a.lt(a.merge(t,b),t,"minutes")},startsAfter:function(b){return a.gt(a.merge(r,b),r,"minutes")},getRange:function(b,j,N,S){N||(b=a.min(r,a.max(t,b))),S||(j=a.min(r,a.max(t,j)));var _=g(b),k=g(j),C=k>n*d&&!a.eq(r,j)?(_-n)/(n*d)*100:_/(n*d)*100;return{top:C,height:k/(n*d)*100-C,start:g(b),startDate:b,end:g(j),endDate:j}},getCurrentTimePosition:function(b){var j=g(b),N=j/(n*d)*100;return N}}}var Ez=function(){function e(t,r){var n=r.accessors,s=r.slotMetrics;Re(this,e);var a=s.getRange(n.start(t),n.end(t)),i=a.start,l=a.startDate,c=a.end,u=a.endDate,d=a.top,f=a.height;this.start=i,this.end=c,this.startMs=+l,this.endMs=+u,this.top=d,this.height=f,this.data=t}return Ie(e,[{key:"_width",get:function(){if(this.rows){var r=this.rows.reduce(function(s,a){return Math.max(s,a.leaves.length+1)},0)+1;return 100/r}if(this.leaves){var n=100-this.container._width;return n/(this.leaves.length+1)}return this.row._width}},{key:"width",get:function(){var r=this._width,n=Math.min(100,this._width*1.7);if(this.rows)return n;if(this.leaves)return this.leaves.length>0?n:r;var s=this.row.leaves,a=s.indexOf(this);return a===s.length-1?r:n}},{key:"xOffset",get:function(){if(this.rows)return 0;if(this.leaves)return this.container._width;var r=this.row,n=r.leaves,s=r.xOffset,a=r._width,i=n.indexOf(this)+1;return s+i*a}}])}();function Cz(e,t,r){return Math.abs(t.start-e.start)<r||t.start>e.start&&t.start<e.end}function Tz(e){for(var t=eR(e,["startMs",function(l){return-l.endMs}]),r=[];t.length>0;){var n=t.shift();r.push(n);for(var s=0;s<t.length;s++){var a=t[s];if(!(n.endMs>a.startMs)){if(s>0){var i=t.splice(s,1)[0];r.push(i)}break}}}return r}function dw(e){for(var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=t.map(function(d){return new Ez(d,{slotMetrics:n,accessors:s})}),i=Tz(a),l=[],c=function(){var f=i[u],h=l.find(function(m){return m.end>f.start||Math.abs(f.start-m.start)<r});if(!h)return f.rows=[],l.push(f),1;f.container=h;for(var p=null,v=h.rows.length-1;!p&&v>=0;v--)Cz(h.rows[v],f,r)&&(p=h.rows[v]);p?(p.leaves.push(f),f.row=p):(f.leaves=[],h.rows.push(f))},u=0;u<i.length;u++)c();return i.map(function(d){return{event:d.data,style:{top:d.top,height:d.height,width:d.width,xOffset:Math.max(0,d.xOffset)}}})}function fw(e,t,r){for(var n=0;n<e.friends.length;++n)if(!(r.indexOf(e.friends[n])>-1)){t=t>e.friends[n].idx?t:e.friends[n].idx,r.push(e.friends[n]);var s=fw(e.friends[n],t,r);t=t>s?t:s}return t}function Pz(e){var t=e.events,r=e.minimumStartDifference,n=e.slotMetrics,s=e.accessors,a=dw({events:t,minimumStartDifference:r,slotMetrics:n,accessors:s});a.sort(function(B,W){return B=B.style,W=W.style,B.top!==W.top?B.top>W.top?1:-1:B.height!==W.height?B.top+B.height<W.top+W.height?1:-1:0});for(var i=0;i<a.length;++i)a[i].friends=[],delete a[i].style.left,delete a[i].style.left,delete a[i].idx,delete a[i].size;for(var l=0;l<a.length-1;++l)for(var c=a[l],u=c.style.top,d=c.style.top+c.style.height,f=l+1;f<a.length;++f){var h=a[f],p=h.style.top,v=h.style.top+h.style.height;(p>=u&&v<=d||v>u&&v<=d||p>=u&&p<d)&&(c.friends.push(h),h.friends.push(c))}for(var m=0;m<a.length;++m){for(var w=a[m],x=[],g=0;g<100;++g)x.push(1);for(var y=0;y<w.friends.length;++y)w.friends[y].idx!==void 0&&(x[w.friends[y].idx]=0);w.idx=x.indexOf(1)}for(var b=0;b<a.length;++b){var j=0;if(!a[b].size){var N=[],S=fw(a[b],0,N);j=100/(S+1),a[b].size=j;for(var _=0;_<N.length;++_)N[_].size=j}}for(var k=0;k<a.length;++k){var C=a[k];C.style.left=C.idx*C.size;for(var O=0,A=0;A<C.friends.length;++A){var P=C.friends[A].idx;O=O>P?O:P}O<=C.idx&&(C.size=100-C.idx*C.size);var $=C.idx===0?0:3;C.style.width="calc(".concat(C.size,"% - ").concat($,"px)"),C.style.height="calc(".concat(C.style.height,"% - 2px)"),C.style.xOffset="calc(".concat(C.style.left,"% + ").concat($,"px)")}return a}var Og={overlap:dw,"no-overlap":Pz};function Dz(e){return!!(e&&e.constructor&&e.call&&e.apply)}function Oz(e){e.events,e.minimumStartDifference,e.slotMetrics,e.accessors;var t=e.dayLayoutAlgorithm,r=t;return t in Og&&(r=Og[t]),Dz(r)?r.apply(this,arguments):[]}var hw=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.renderSlot,a=n.resource,i=n.group,l=n.getters,c=n.components,u=c===void 0?{}:c,d=u.timeSlotWrapper,f=d===void 0?Zt:d,h=l?l.slotGroupProp(i):{};return T.createElement("div",Object.assign({className:"rbc-timeslot-group"},h),i.map(function(p,v){var m=l?l.slotProp(p,a):{};return T.createElement(f,{key:v,value:p,resource:a},T.createElement("div",Object.assign({},m,{className:je("rbc-time-slot",m.className)}),s&&s(p,v)))}))}}])}(E.Component);function uo(e){return typeof e=="string"?e:e+"%"}function $z(e){var t=e.style,r=e.className,n=e.event,s=e.accessors,a=e.rtl,i=e.selected,l=e.label,c=e.continuesPrior,u=e.continuesAfter,d=e.getters,f=e.onClick,h=e.onDoubleClick,p=e.isBackgroundEvent,v=e.onKeyPress,m=e.components,w=m.event,x=m.eventWrapper,g=s.title(n),y=s.tooltip(n),b=s.end(n),j=s.start(n),N=d.eventProp(n,j,b,i),S=[T.createElement("div",{key:"1",className:"rbc-event-label"},l),T.createElement("div",{key:"2",className:"rbc-event-content"},w?T.createElement(w,{event:n,title:g}):g)],_=t.height,k=t.top,C=t.width,O=t.xOffset,A=oe(oe({},N.style),{},gn({top:uo(k),height:uo(_),width:uo(C)},a?"right":"left",uo(O)));return T.createElement(x,Object.assign({type:"time"},e),T.createElement("div",{role:"button",tabIndex:0,onClick:f,onDoubleClick:h,style:A,onKeyDown:v,title:y?(typeof l=="string"?l+": ":"")+y:void 0,className:je(p?"rbc-background-event":"rbc-event",r,N.className,{"rbc-selected":i,"rbc-event-continues-earlier":c,"rbc-event-continues-later":u})},S))}var Mz=function(t){var r=t.children,n=t.className,s=t.style,a=t.innerRef;return T.createElement("div",{className:n,style:s,ref:a},r)},Az=T.forwardRef(function(e,t){return T.createElement(Mz,Object.assign({},e,{innerRef:t}))}),Rz=["dayProp"],Iz=["eventContainerWrapper","timeIndicatorWrapper"],mw=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.state={selecting:!1,timeIndicatorPosition:null},r.intervalTriggered=!1,r.renderEvents=function(i){var l=i.events,c=i.isBackgroundEvent,u=r.props,d=u.rtl,f=u.selected,h=u.accessors,p=u.localizer,v=u.getters,m=u.components,w=u.step,x=u.timeslots,g=u.dayLayoutAlgorithm,y=u.resizable,b=r,j=b.slotMetrics,N=p.messages,S=Oz({events:l,accessors:h,slotMetrics:j,minimumStartDifference:Math.ceil(w*x/2),dayLayoutAlgorithm:g});return S.map(function(_,k){var C,O=_.event,A=_.style,P=h.end(O),$=h.start(O),B=(C=h.eventId(O))!==null&&C!==void 0?C:"evt_"+k,W="eventTimeRangeFormat",q,M=j.startsBeforeDay($),D=j.startsAfterDay(P);M?W="eventTimeRangeEndFormat":D&&(W="eventTimeRangeStartFormat"),M&&D?q=N.allDay:q=p.format({start:$,end:P},W);var z=M||j.startsBefore($),G=D||j.startsAfter(P);return T.createElement($z,{style:A,event:O,label:q,key:B,getters:v,rtl:d,components:m,continuesPrior:z,continuesAfter:G,accessors:h,resource:r.props.resource,selected:sc(O,f),onClick:function(X){return r._select(oe(oe(oe({},O),r.props.resource&&{sourceResource:r.props.resource}),c&&{isBackgroundEvent:!0}),X)},onDoubleClick:function(X){return r._doubleClick(O,X)},isBackgroundEvent:c,onKeyPress:function(X){return r._keyPress(O,X)},resizable:y})})},r._selectable=function(){var i=r.containerRef.current,l=r.props,c=l.longPressThreshold,u=l.localizer,d=r._selector=new iw(function(){return i},{longPressThreshold:c}),f=function(m){var w=r.props.onSelecting,x=r.state||{},g=h(m),y=g.startDate,b=g.endDate;w&&(u.eq(x.startDate,y,"minutes")&&u.eq(x.endDate,b,"minutes")||w({start:y,end:b,resourceId:r.props.resource})===!1)||(r.state.start!==g.start||r.state.end!==g.end||r.state.selecting!==g.selecting)&&r.setState(g)},h=function(m){var w=r.slotMetrics.closestSlotFromPoint(m,Rn(i));r.state.selecting||(r._initialSlot=w);var x=r._initialSlot;u.lte(x,w)?w=r.slotMetrics.nextSlot(w):u.gt(x,w)&&(x=r.slotMetrics.nextSlot(x));var g=r.slotMetrics.getRange(u.min(x,w),u.max(x,w));return oe(oe({},g),{},{selecting:!0,top:"".concat(g.top,"%"),height:"".concat(g.height,"%")})},p=function(m,w){if(!ml(r.containerRef.current,m)){var x=h(m),g=x.startDate,y=x.endDate;r._selectSlot({startDate:g,endDate:y,action:w,box:m})}r.setState({selecting:!1})};d.on("selecting",f),d.on("selectStart",f),d.on("beforeSelect",function(v){if(r.props.selectable==="ignoreEvents")return!ml(r.containerRef.current,v)}),d.on("click",function(v){return p(v,"click")}),d.on("doubleClick",function(v){return p(v,"doubleClick")}),d.on("select",function(v){r.state.selecting&&(r._selectSlot(oe(oe({},r.state),{},{action:"select",bounds:v})),r.setState({selecting:!1}))}),d.on("reset",function(){r.state.selecting&&r.setState({selecting:!1})})},r._teardownSelectable=function(){r._selector&&(r._selector.teardown(),r._selector=null)},r._selectSlot=function(i){for(var l=i.startDate,c=i.endDate,u=i.action,d=i.bounds,f=i.box,h=l,p=[];r.props.localizer.lte(h,c);)p.push(h),h=new Date(+h+r.props.step*60*1e3);he(r.props.onSelectSlot,{slots:p,start:l,end:c,resourceId:r.props.resource,action:u,bounds:d,box:f})},r._select=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onSelectEvent,l)},r._doubleClick=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onDoubleClickEvent,l)},r._keyPress=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onKeyPressEvent,l)},r.slotMetrics=hh(r.props),r.containerRef=E.createRef(),r}return Je(t,e),Ie(t,[{key:"componentDidMount",value:function(){this.props.selectable&&this._selectable(),this.props.isNow&&this.setTimeIndicatorPositionUpdateInterval()}},{key:"componentWillUnmount",value:function(){this._teardownSelectable(),this.clearTimeIndicatorInterval()}},{key:"componentDidUpdate",value:function(n,s){this.props.selectable&&!n.selectable&&this._selectable(),!this.props.selectable&&n.selectable&&this._teardownSelectable();var a=this.props,i=a.getNow,l=a.isNow,c=a.localizer,u=a.date,d=a.min,f=a.max,h=c.neq(n.getNow(),i(),"minutes");if(n.isNow!==l||h){if(this.clearTimeIndicatorInterval(),l){var p=!h&&c.eq(n.date,u,"minutes")&&s.timeIndicatorPosition===this.state.timeIndicatorPosition;this.setTimeIndicatorPositionUpdateInterval(p)}}else l&&(c.neq(n.min,d,"minutes")||c.neq(n.max,f,"minutes"))&&this.positionTimeIndicator()}},{key:"setTimeIndicatorPositionUpdateInterval",value:function(){var n=this,s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;!this.intervalTriggered&&!s&&this.positionTimeIndicator(),this._timeIndicatorTimeout=window.setTimeout(function(){n.intervalTriggered=!0,n.positionTimeIndicator(),n.setTimeIndicatorPositionUpdateInterval()},6e4)}},{key:"clearTimeIndicatorInterval",value:function(){this.intervalTriggered=!1,window.clearTimeout(this._timeIndicatorTimeout)}},{key:"positionTimeIndicator",value:function(){var n=this.props,s=n.min,a=n.max,i=n.getNow,l=i();if(l>=s&&l<=a){var c=this.slotMetrics.getCurrentTimePosition(l);this.intervalTriggered=!0,this.setState({timeIndicatorPosition:c})}else this.clearTimeIndicatorInterval()}},{key:"render",value:function(){var n=this.props,s=n.date,a=n.max,i=n.rtl,l=n.isNow,c=n.resource,u=n.accessors,d=n.localizer,f=n.getters,h=f.dayProp,p=cr(f,Rz),v=n.components,m=v.eventContainerWrapper,w=v.timeIndicatorWrapper,x=cr(v,Iz);this.slotMetrics=this.slotMetrics.update(this.props);var g=this.slotMetrics,y=this.state,b=y.selecting,j=y.top,N=y.height,S=y.startDate,_=y.endDate,k={start:S,end:_},C=h(a,c),O=C.className,A=C.style,P={className:"rbc-current-time-indicator",style:{top:"".concat(this.state.timeIndicatorPosition,"%")}},$=x.dayColumnWrapper||Az;return T.createElement($,{ref:this.containerRef,date:s,style:A,className:je(O,"rbc-day-slot","rbc-time-column",l&&"rbc-now",l&&"rbc-today",b&&"rbc-slot-selecting"),slotMetrics:g,resource:c},g.groups.map(function(B,W){return T.createElement(hw,{key:W,group:B,resource:c,getters:p,components:x})}),T.createElement(m,{localizer:d,resource:c,accessors:u,getters:p,components:x,slotMetrics:g},T.createElement("div",{className:je("rbc-events-container",i&&"rtl")},this.renderEvents({events:this.props.backgroundEvents,isBackgroundEvent:!0}),this.renderEvents({events:this.props.events}))),b&&T.createElement("div",{className:"rbc-slot-selection",style:{top:j,height:N}},T.createElement("span",null,d.format(k,"selectRangeFormat"))),l&&this.intervalTriggered&&T.createElement(w,P,T.createElement("div",P)))}}])}(T.Component);mw.defaultProps={dragThroughEvents:!0,timeslots:2};var pw=function(t){var r=t.label;return T.createElement(T.Fragment,null,r)},Lz=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),he(r.props.onDrillDown,[i,l])},r.renderRow=function(i){var l=r.props,c=l.events,u=l.rtl,d=l.selectable,f=l.getNow,h=l.range,p=l.getters,v=l.localizer,m=l.accessors,w=l.components,x=l.resizable,g=m.resourceId(i),y=i?c.filter(function(b){return m.resource(b)===g}):c;return T.createElement(fi,{isAllDay:!0,rtl:u,getNow:f,minRows:2,maxRows:r.props.allDayMaxRows+1,range:h,events:y,resourceId:g,className:"rbc-allday-cell",selectable:d,selected:r.props.selected,components:w,accessors:m,getters:p,localizer:v,onSelect:r.props.onSelectEvent,onShowMore:r.props.onShowMore,onDoubleClick:r.props.onDoubleClickEvent,onKeyPress:r.props.onKeyPressEvent,onSelectSlot:r.props.onSelectSlot,longPressThreshold:r.props.longPressThreshold,resizable:x})},r}return Je(t,e),Ie(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components.header,f=d===void 0?fh:d,h=c();return n.map(function(p,v){var m=l(p),w=i.format(p,"dayFormat"),x=u(p),g=x.className,y=x.style,b=T.createElement(f,{date:p,label:w,localizer:i});return T.createElement("div",{key:v,style:y,className:je("rbc-header",g,i.isSameDate(p,h)&&"rbc-today")},m?T.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(N){return s.handleHeaderClick(p,m,N)}},b):T.createElement("span",null,b))})}},{key:"render",value:function(){var n=this,s=this.props,a=s.width,i=s.rtl,l=s.resources,c=s.range,u=s.events,d=s.getNow,f=s.accessors,h=s.selectable,p=s.components,v=s.getters,m=s.scrollRef,w=s.localizer,x=s.isOverflowing,g=s.components,y=g.timeGutterHeader,b=g.resourceHeader,j=b===void 0?pw:b,N=s.resizable,S={};x&&(S[i?"marginLeft":"marginRight"]="".concat(qf()-1,"px"));var _=l.groupEvents(u);return T.createElement("div",{style:S,ref:m,className:je("rbc-time-header",x&&"rbc-overflowing")},T.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:a,minWidth:a,maxWidth:a}},y&&T.createElement(y,null)),l.map(function(k,C){var O=Tn(k,2),A=O[0],P=O[1];return T.createElement("div",{className:"rbc-time-header-content",key:A||C},P&&T.createElement("div",{className:"rbc-row rbc-row-resource",key:"resource_".concat(C)},T.createElement("div",{className:"rbc-header"},T.createElement(j,{index:C,label:f.resourceTitle(P),resource:P}))),T.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(c.length<=1?" rbc-time-header-cell-single-day":"")},n.renderHeaderCells(c)),T.createElement(fi,{isAllDay:!0,rtl:i,getNow:d,minRows:2,maxRows:n.props.allDayMaxRows+1,range:c,events:_.get(A)||[],resourceId:P&&A,className:"rbc-allday-cell",selectable:h,selected:n.props.selected,components:p,accessors:f,getters:v,localizer:w,onSelect:n.props.onSelectEvent,onShowMore:n.props.onShowMore,onDoubleClick:n.props.onDoubleClickEvent,onKeyDown:n.props.onKeyPressEvent,onSelectSlot:n.props.onSelectSlot,longPressThreshold:n.props.longPressThreshold,resizable:N}))}))}}])}(T.Component),zz=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.handleHeaderClick=function(i,l,c){c.preventDefault(),he(r.props.onDrillDown,[i,l])},r}return Je(t,e),Ie(t,[{key:"renderHeaderCells",value:function(n){var s=this,a=this.props,i=a.localizer,l=a.getDrilldownView,c=a.getNow,u=a.getters.dayProp,d=a.components,f=d.header,h=f===void 0?fh:f,p=d.resourceHeader,v=p===void 0?pw:p,m=a.resources,w=a.accessors,x=a.events,g=a.rtl,y=a.selectable,b=a.components,j=a.getters,N=a.resizable,S=c(),_=m.groupEvents(x);return n.map(function(k,C){var O=l(k),A=i.format(k,"dayFormat"),P=u(k),$=P.className,B=P.style,W=T.createElement(h,{date:k,label:A,localizer:i});return T.createElement("div",{key:C,className:"rbc-time-header-content rbc-resource-grouping"},T.createElement("div",{className:"rbc-row rbc-time-header-cell".concat(n.length<=1?" rbc-time-header-cell-single-day":"")},T.createElement("div",{style:B,className:je("rbc-header",$,i.isSameDate(k,S)&&"rbc-today")},O?T.createElement("button",{type:"button",className:"rbc-button-link",onClick:function(M){return s.handleHeaderClick(k,O,M)}},W):T.createElement("span",null,W))),T.createElement("div",{className:"rbc-row"},m.map(function(q,M){var D=Tn(q,2),z=D[0],G=D[1];return T.createElement("div",{key:"resource_".concat(z,"_").concat(M),className:je("rbc-header",$,i.isSameDate(k,S)&&"rbc-today")},T.createElement(v,{index:M,label:w.resourceTitle(G),resource:G}))})),T.createElement("div",{className:"rbc-row rbc-m-b-negative-3 rbc-h-full"},m.map(function(q,M){var D=Tn(q,2),z=D[0],G=D[1],Y=(_.get(z)||[]).filter(function(X){return i.isSameDate(X.start,k)||i.isSameDate(X.end,k)});return T.createElement(fi,{key:"resource_".concat(z,"_").concat(M),isAllDay:!0,rtl:g,getNow:c,minRows:2,maxRows:s.props.allDayMaxRows+1,range:[k],events:Y,resourceId:G&&z,className:"rbc-allday-cell",selectable:y,selected:s.props.selected,components:b,accessors:w,getters:j,localizer:i,onSelect:s.props.onSelectEvent,onShowMore:s.props.onShowMore,onDoubleClick:s.props.onDoubleClickEvent,onKeyDown:s.props.onKeyPressEvent,onSelectSlot:s.props.onSelectSlot,longPressThreshold:s.props.longPressThreshold,resizable:N})})))})}},{key:"render",value:function(){var n=this.props,s=n.width,a=n.rtl,i=n.range,l=n.scrollRef,c=n.isOverflowing,u=n.components.timeGutterHeader,d={};return c&&(d[a?"marginLeft":"marginRight"]="".concat(qf()-1,"px")),T.createElement("div",{style:d,ref:l,className:je("rbc-time-header",c&&"rbc-overflowing")},T.createElement("div",{className:"rbc-label rbc-time-header-gutter",style:{width:s,minWidth:s,maxWidth:s}},u&&T.createElement(u,null)),this.renderHeaderCells(i))}}])}(T.Component);function Fz(e){var t=e.min,r=e.max,n=e.localizer;return n.getTimezoneOffset(t)!==n.getTimezoneOffset(r)?{start:n.add(t,-1,"day"),end:n.add(r,-1,"day")}:{start:t,end:r}}var Uz=function(t){var r=t.min,n=t.max,s=t.timeslots,a=t.step,i=t.localizer,l=t.getNow,c=t.resource,u=t.components,d=t.getters,f=t.gutterRef,h=u.timeGutterWrapper,p=E.useMemo(function(){return Fz({min:r,max:n,localizer:i})},[r==null?void 0:r.toISOString(),n==null?void 0:n.toISOString(),i]),v=p.start,m=p.end,w=E.useState(hh({min:v,max:m,timeslots:s,step:a,localizer:i})),x=Tn(w,2),g=x[0],y=x[1];E.useEffect(function(){g&&y(g.update({min:v,max:m,timeslots:s,step:a,localizer:i}))},[v==null?void 0:v.toISOString(),m==null?void 0:m.toISOString(),s,a]);var b=E.useCallback(function(j,N){if(N)return null;var S=g.dateIsInGroup(l(),N);return T.createElement("span",{className:je("rbc-label",S&&"rbc-now")},i.format(j,"timeGutterFormat"))},[g,i,l]);return T.createElement(h,{slotMetrics:g},T.createElement("div",{className:"rbc-time-gutter rbc-time-column",ref:f},g.groups.map(function(j,N){return T.createElement(hw,{key:N,group:j,resource:c,components:u,renderSlot:b,getters:d})})))},Wz=T.forwardRef(function(e,t){return T.createElement(Uz,Object.assign({gutterRef:t},e))}),eu={};function Hz(e,t){return{map:function(n){return e?e.map(function(s,a){return n([t.resourceId(s),s],a)}):[n([eu,null],0)]},groupEvents:function(n){var s=new Map;return e?(n.forEach(function(a){var i=t.resource(a)||eu;if(Array.isArray(i))i.forEach(function(c){var u=s.get(c)||[];u.push(a),s.set(c,u)});else{var l=s.get(i)||[];l.push(a),s.set(i,l)}}),s):(s.set(eu,n),s)}}}var Qs=function(e){function t(r){var n;return Re(this,t),n=Qe(this,t,[r]),n.handleScroll=function(s){n.scrollRef.current&&(n.scrollRef.current.scrollLeft=s.target.scrollLeft)},n.handleResize=function(){yp(n.rafHandle),n.rafHandle=dx(n.checkOverflow)},n.handleKeyPressEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];he(n.props.onKeyPressEvent,a)},n.handleSelectEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];he(n.props.onSelectEvent,a)},n.handleDoubleClickEvent=function(){n.clearSelection();for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];he(n.props.onDoubleClickEvent,a)},n.handleShowMore=function(s,a,i,l,c){var u=n.props,d=u.popup,f=u.onDrillDown,h=u.onShowMore,p=u.getDrilldownView,v=u.doShowMoreDrillDown;if(n.clearSelection(),d){var m=ux(i,n.containerRef.current);n.setState({overlay:{date:a,events:s,position:oe(oe({},m),{},{width:"200px"}),target:c}})}else v&&he(f,[a,p(a)||rt.DAY]);he(h,[s,a,l])},n.handleSelectAllDaySlot=function(s,a){var i=n.props.onSelectSlot,l=new Date(s[0]),c=new Date(s[s.length-1]);c.setDate(s[s.length-1].getDate()+1),he(i,{slots:s,start:l,end:c,action:a.action,resourceId:a.resourceId})},n.overlayDisplay=function(){n.setState({overlay:null})},n.checkOverflow=function(){if(!n._updatingOverflow){var s=n.contentRef.current;if(s!=null&&s.scrollHeight){var a=s.scrollHeight>s.clientHeight;n.state.isOverflowing!==a&&(n._updatingOverflow=!0,n.setState({isOverflowing:a},function(){n._updatingOverflow=!1}))}}},n.memoizedResources=Rx(function(s,a){return Hz(s,a)}),n.state={gutterWidth:void 0,isOverflowing:null},n.scrollRef=T.createRef(),n.contentRef=T.createRef(),n.containerRef=T.createRef(),n._scrollRatio=null,n.gutterRef=E.createRef(),n}return Je(t,e),Ie(t,[{key:"getSnapshotBeforeUpdate",value:function(){return this.checkOverflow(),null}},{key:"componentDidMount",value:function(){this.props.width==null&&this.measureGutter(),this.calculateScroll(),this.applyScroll(),window.addEventListener("resize",this.handleResize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.handleResize),yp(this.rafHandle),this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest)}},{key:"componentDidUpdate",value:function(){this.applyScroll()}},{key:"renderDayColumn",value:function(n,s,a,i,l,c,u,d,f,h){var p=this.props,v=p.min,m=p.max,w=(i.get(s)||[]).filter(function(g){return c.inRange(n,u.start(g),u.end(g),"day")}),x=(l.get(s)||[]).filter(function(g){return c.inRange(n,u.start(g),u.end(g),"day")});return T.createElement(mw,Object.assign({},this.props,{localizer:c,min:c.merge(n,v),max:c.merge(n,m),resource:a&&s,components:d,isNow:c.isSameDate(n,h),key:"".concat(s,"-").concat(n),date:n,events:w,backgroundEvents:x,dayLayoutAlgorithm:f}))}},{key:"renderResourcesFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return s.map(function(p){var v=Tn(p,2),m=v[0],w=v[1];return n.map(function(x){return h.renderDayColumn(x,m,w,a,i,l,c,d,f,u)})})}},{key:"renderRangeFirst",value:function(n,s,a,i,l,c,u,d,f){var h=this;return n.map(function(p){return T.createElement("div",{style:{display:"flex",minHeight:"100%",flex:1},key:p},s.map(function(v){var m=Tn(v,2),w=m[0],x=m[1];return T.createElement("div",{style:{flex:1},key:c.resourceId(x)},h.renderDayColumn(p,w,x,a,i,l,c,d,f,u))}))})}},{key:"renderEvents",value:function(n,s,a,i){var l=this.props,c=l.accessors,u=l.localizer,d=l.resourceGroupingLayout,f=l.components,h=l.dayLayoutAlgorithm,p=this.memoizedResources(this.props.resources,c),v=p.groupEvents(s),m=p.groupEvents(a);return d?this.renderRangeFirst(n,p,v,m,u,c,i,f,h):this.renderResourcesFirst(n,p,v,m,u,c,i,f,h)}},{key:"render",value:function(){var n,s=this.props,a=s.events,i=s.backgroundEvents,l=s.range,c=s.width,u=s.rtl,d=s.selected,f=s.getNow,h=s.resources,p=s.components,v=s.accessors,m=s.getters,w=s.localizer,x=s.min,g=s.max,y=s.showMultiDayTimes,b=s.longPressThreshold,j=s.resizable,N=s.resourceGroupingLayout;c=c||this.state.gutterWidth;var S=l[0],_=l[l.length-1];this.slots=l.length;var k=[],C=[],O=[];a.forEach(function(P){if(di(P,S,_,v,w)){var $=v.start(P),B=v.end(P);v.allDay(P)||w.startAndEndAreDateOnly($,B)||!y&&!w.isSameDate($,B)?k.push(P):C.push(P)}}),i.forEach(function(P){di(P,S,_,v,w)&&O.push(P)}),k.sort(function(P,$){return _d(P,$,v,w)});var A={range:l,events:k,width:c,rtl:u,getNow:f,localizer:w,selected:d,allDayMaxRows:this.props.showAllEvents?1/0:(n=this.props.allDayMaxRows)!==null&&n!==void 0?n:1/0,resources:this.memoizedResources(h,v),selectable:this.props.selectable,accessors:v,getters:m,components:p,scrollRef:this.scrollRef,isOverflowing:this.state.isOverflowing,longPressThreshold:b,onSelectSlot:this.handleSelectAllDaySlot,onSelectEvent:this.handleSelectEvent,onShowMore:this.handleShowMore,onDoubleClickEvent:this.props.onDoubleClickEvent,onKeyPressEvent:this.props.onKeyPressEvent,onDrillDown:this.props.onDrillDown,getDrilldownView:this.props.getDrilldownView,resizable:j};return T.createElement("div",{className:je("rbc-time-view",h&&"rbc-time-view-resources"),ref:this.containerRef},h&&h.length>1&&N?T.createElement(zz,A):T.createElement(Lz,A),this.props.popup&&this.renderOverlay(),T.createElement("div",{ref:this.contentRef,className:"rbc-time-content",onScroll:this.handleScroll},T.createElement(Wz,{date:S,ref:this.gutterRef,localizer:w,min:w.merge(S,x),max:w.merge(S,g),step:this.props.step,getNow:this.props.getNow,timeslots:this.props.timeslots,components:p,className:"rbc-time-gutter",getters:m}),this.renderEvents(l,C,O,f())))}},{key:"renderOverlay",value:function(){var n,s,a=this,i=(n=(s=this.state)===null||s===void 0?void 0:s.overlay)!==null&&n!==void 0?n:{},l=this.props,c=l.accessors,u=l.localizer,d=l.components,f=l.getters,h=l.selected,p=l.popupOffset,v=l.handleDragStart,m=function(){return a.setState({overlay:null})};return T.createElement(dh,{overlay:i,accessors:c,localizer:u,components:d,getters:f,selected:h,popupOffset:p,ref:this.containerRef,handleKeyPressEvent:this.handleKeyPressEvent,handleSelectEvent:this.handleSelectEvent,handleDoubleClickEvent:this.handleDoubleClickEvent,handleDragStart:v,show:!!i.position,overlayDisplay:this.overlayDisplay,onHide:m})}},{key:"clearSelection",value:function(){clearTimeout(this._selectTimer),this._pendingSelection=[]}},{key:"measureGutter",value:function(){var n=this;this.measureGutterAnimationFrameRequest&&window.cancelAnimationFrame(this.measureGutterAnimationFrameRequest),this.measureGutterAnimationFrameRequest=window.requestAnimationFrame(function(){var s,a=(s=n.gutterRef)!==null&&s!==void 0&&s.current?xd(n.gutterRef.current):void 0;a&&n.state.gutterWidth!==a&&n.setState({gutterWidth:a})})}},{key:"applyScroll",value:function(){if(this._scrollRatio!=null&&this.props.enableAutoScroll===!0){var n=this.contentRef.current;n.scrollTop=n.scrollHeight*this._scrollRatio,this._scrollRatio=null}}},{key:"calculateScroll",value:function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.props,s=n.min,a=n.max,i=n.scrollToTime,l=n.localizer,c=l.diff(l.merge(i,s),i,"milliseconds"),u=l.diff(s,a,"milliseconds");this._scrollRatio=c/u}}])}(E.Component);Qs.defaultProps={step:30,timeslots:2,resourceGroupingLayout:!1};var Bz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],ic=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=cr(n,Bz),m=t.range(s,{localizer:a});return T.createElement(Qs,Object.assign({},v,{range:m,eventOffset:10,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(T.Component);ic.range=function(e,t){var r=t.localizer;return[r.startOf(e,"day")]};ic.navigate=function(e,t,r){var n=r.localizer;switch(t){case mt.PREVIOUS:return n.add(e,-1,"day");case mt.NEXT:return n.add(e,1,"day");default:return e}};ic.title=function(e,t){var r=t.localizer;return r.format(e,"dayHeaderFormat")};var qz=["date","localizer","min","max","scrollToTime","enableAutoScroll"],Jr=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=cr(n,qz),m=t.range(s,this.props);return T.createElement(Qs,Object.assign({},v,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(T.Component);Jr.defaultProps=Qs.defaultProps;Jr.navigate=function(e,t,r){var n=r.localizer;switch(t){case mt.PREVIOUS:return n.add(e,-1,"week");case mt.NEXT:return n.add(e,1,"week");default:return e}};Jr.range=function(e,t){var r=t.localizer,n=r.startOfWeek(),s=r.startOf(e,"week",n),a=r.endOf(e,"week",n);return r.range(s,a)};Jr.title=function(e,t){var r=t.localizer,n=Jr.range(e,{localizer:r}),s=Hx(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var Vz=["date","localizer","min","max","scrollToTime","enableAutoScroll"];function mh(e,t){return Jr.range(e,t).filter(function(r){return[6,0].indexOf(r.getDay())===-1})}var Ri=function(e){function t(){return Re(this,t),Qe(this,t,arguments)}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.date,a=n.localizer,i=n.min,l=i===void 0?a.startOf(new Date,"day"):i,c=n.max,u=c===void 0?a.endOf(new Date,"day"):c,d=n.scrollToTime,f=d===void 0?a.startOf(new Date,"day"):d,h=n.enableAutoScroll,p=h===void 0?!0:h,v=cr(n,Vz),m=mh(s,this.props);return T.createElement(Qs,Object.assign({},v,{range:m,eventOffset:15,localizer:a,min:l,max:u,scrollToTime:f,enableAutoScroll:p}))}}])}(T.Component);Ri.defaultProps=Qs.defaultProps;Ri.range=mh;Ri.navigate=Jr.navigate;Ri.title=function(e,t){var r=t.localizer,n=mh(e,{localizer:r}),s=Hx(n),a=s[0],i=s.slice(1);return r.format({start:a,end:i.pop()},"dayRangeHeaderFormat")};var oc=30;function lc(e){var t=e.accessors,r=e.components,n=e.date,s=e.events,a=e.getters,i=e.length,l=i===void 0?oc:i,c=e.localizer,u=e.onDoubleClickEvent,d=e.onSelectEvent,f=e.selected,h=E.useRef(null),p=E.useRef(null),v=E.useRef(null),m=E.useRef(null),w=E.useRef(null);E.useEffect(function(){y()});var x=function(_,k,C){var O=r.event,A=r.date;return k=k.filter(function(P){return di(P,c.startOf(_,"day"),c.endOf(_,"day"),t,c)}),k.map(function(P,$){var B=t.title(P),W=t.end(P),q=t.start(P),M=a.eventProp(P,q,W,sc(P,f)),D=$===0&&c.format(_,"agendaDateFormat"),z=$===0?T.createElement("td",{rowSpan:k.length,className:"rbc-agenda-date-cell"},A?T.createElement(A,{day:_,label:D}):D):!1;return T.createElement("tr",{key:C+"_"+$,className:M.className,style:M.style},z,T.createElement("td",{className:"rbc-agenda-time-cell"},g(_,P)),T.createElement("td",{className:"rbc-agenda-event-cell",onClick:function(Y){return d&&d(P,Y)},onDoubleClick:function(Y){return u&&u(P,Y)}},O?T.createElement(O,{event:P,title:B}):B))},[])},g=function(_,k){var C="",O=r.time,A=c.messages.allDay,P=t.end(k),$=t.start(k);return t.allDay(k)||(c.eq($,P)?A=c.format($,"agendaTimeFormat"):c.isSameDate($,P)?A=c.format({start:$,end:P},"agendaTimeRangeFormat"):c.isSameDate(_,$)?A=c.format($,"agendaTimeFormat"):c.isSameDate(_,P)&&(A=c.format(P,"agendaTimeFormat"))),c.gt(_,$,"day")&&(C="rbc-continues-prior"),c.lt(_,P,"day")&&(C+=" rbc-continues-after"),T.createElement("span",{className:C.trim()},O?T.createElement(O,{event:k,day:_,label:A}):A)},y=function(){if(w.current){var _=h.current,k=w.current.firstChild;if(k){var C=m.current.scrollHeight>m.current.clientHeight,O=[],A=O;O=[xd(k.children[0]),xd(k.children[1])],(A[0]!==O[0]||A[1]!==O[1])&&(p.current.style.width=O[0]+"px",v.current.style.width=O[1]+"px"),C?(qE(_,"rbc-header-overflowing"),_.style.marginRight=qf()+"px"):VE(_,"rbc-header-overflowing")}}},b=c.messages,j=c.add(n,l,"day"),N=c.range(n,j,"day");return s=s.filter(function(S){return di(S,c.startOf(n,"day"),c.endOf(j,"day"),t,c)}),s.sort(function(S,_){return+t.start(S)-+t.start(_)}),T.createElement("div",{className:"rbc-agenda-view"},s.length!==0?T.createElement(T.Fragment,null,T.createElement("table",{ref:h,className:"rbc-agenda-table"},T.createElement("thead",null,T.createElement("tr",null,T.createElement("th",{className:"rbc-header",ref:p},b.date),T.createElement("th",{className:"rbc-header",ref:v},b.time),T.createElement("th",{className:"rbc-header"},b.event)))),T.createElement("div",{className:"rbc-agenda-content",ref:m},T.createElement("table",{className:"rbc-agenda-table"},T.createElement("tbody",{ref:w},N.map(function(S,_){return x(S,s,_)}))))):T.createElement("span",{className:"rbc-agenda-empty"},b.noEventsInRange))}lc.range=function(e,t){var r=t.length,n=r===void 0?oc:r,s=t.localizer,a=s.add(e,n,"day");return{start:e,end:a}};lc.navigate=function(e,t,r){var n=r.length,s=n===void 0?oc:n,a=r.localizer;switch(t){case mt.PREVIOUS:return a.add(e,-s,"day");case mt.NEXT:return a.add(e,s,"day");default:return e}};lc.title=function(e,t){var r=t.length,n=r===void 0?oc:r,s=t.localizer,a=s.add(e,n,"day");return s.format({start:e,end:a},"agendaHeaderFormat")};var To=gn(gn(gn(gn(gn({},rt.MONTH,ac),rt.WEEK,Jr),rt.WORK_WEEK,Ri),rt.DAY,ic),rt.AGENDA,lc),Gz=["action","date","today"];function Yz(e,t){var r=t.action,n=t.date,s=t.today,a=cr(t,Gz);switch(e=typeof e=="string"?To[e]:e,r){case mt.TODAY:n=s||new Date;break;case mt.DATE:break;default:Za(e&&typeof e.navigate=="function","Calendar View components must implement a static `.navigate(date, action)` method.s"),n=e.navigate(n,r,a)}return n}function Kz(e,t){var r=null;return typeof t=="function"?r=t(e):typeof t=="string"&&Nr(e)==="object"&&e!=null&&t in e&&(r=e[t]),r}var dr=function(t){return function(r){return Kz(r,t)}},Xz=["view","date","getNow","onNavigate"],Qz=["view","toolbar","events","backgroundEvents","resourceGroupingLayout","style","className","elementProps","date","getNow","length","showMultiDayTimes","onShowMore","doShowMoreDrillDown","components","formats","messages","culture"];function gw(e){if(Array.isArray(e))return e;for(var t=[],r=0,n=Object.entries(e);r<n.length;r++){var s=Tn(n[r],2),a=s[0],i=s[1];i&&t.push(a)}return t}function Jz(e,t){var r=t.views,n=gw(r);return n.indexOf(e)!==-1}var vw=function(e){function t(){var r;Re(this,t);for(var n=arguments.length,s=new Array(n),a=0;a<n;a++)s[a]=arguments[a];return r=Qe(this,t,[].concat(s)),r.getViews=function(){var i=r.props.views;return Array.isArray(i)?C6(i,function(l,c){return l[c]=To[c]},{}):Nr(i)==="object"?CR(i,function(l,c){return l===!0?To[c]:l}):To},r.getView=function(){var i=r.getViews();return i[r.props.view]},r.getDrilldownView=function(i){var l=r.props,c=l.view,u=l.drilldownView,d=l.getDrilldownView;return d?d(i,c,Object.keys(r.getViews())):u},r.handleRangeChange=function(i,l,c){var u=r.props,d=u.onRangeChange,f=u.localizer;d&&l.range&&d(l.range(i,{localizer:f}),c)},r.handleNavigate=function(i,l){var c=r.props,u=c.view,d=c.date,f=c.getNow,h=c.onNavigate,p=cr(c,Xz),v=r.getView(),m=f();d=Yz(v,oe(oe({},p),{},{action:i,date:l||d||m,today:m})),h(d,u,i),r.handleRangeChange(d,v)},r.handleViewChange=function(i){i!==r.props.view&&Jz(i,r.props)&&r.props.onView(i);var l=r.getViews();r.handleRangeChange(r.props.date||r.props.getNow(),l[i],i)},r.handleSelectEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onSelectEvent,l)},r.handleDoubleClickEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onDoubleClickEvent,l)},r.handleKeyPressEvent=function(){for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];he(r.props.onKeyPressEvent,l)},r.handleSelectSlot=function(i){he(r.props.onSelectSlot,i)},r.handleDrillDown=function(i,l){var c=r.props.onDrillDown;if(c){c(i,l,r.drilldownView);return}l&&r.handleViewChange(l),r.handleNavigate(mt.DATE,i)},r.state={context:t.getContext(r.props)},r}return Je(t,e),Ie(t,[{key:"render",value:function(){var n=this.props,s=n.view,a=n.toolbar,i=n.events,l=n.backgroundEvents,c=n.resourceGroupingLayout,u=n.style,d=n.className,f=n.elementProps,h=n.date,p=n.getNow,v=n.length,m=n.showMultiDayTimes,w=n.onShowMore,x=n.doShowMoreDrillDown;n.components,n.formats,n.messages,n.culture;var g=cr(n,Qz);h=h||p();var y=this.getView(),b=this.state.context,j=b.accessors,N=b.components,S=b.getters,_=b.localizer,k=b.viewNames,C=N.toolbar||tz,O=y.title(h,{localizer:_,length:v});return T.createElement("div",Object.assign({},f,{className:je(d,"rbc-calendar",g.rtl&&"rbc-rtl"),style:u}),a&&T.createElement(C,{date:h,view:s,views:k,label:O,onView:this.handleViewChange,onNavigate:this.handleNavigate,localizer:_}),T.createElement(y,Object.assign({},g,{events:i,backgroundEvents:l,date:h,getNow:p,length:v,localizer:_,getters:S,components:N,accessors:j,showMultiDayTimes:m,getDrilldownView:this.getDrilldownView,onNavigate:this.handleNavigate,onDrillDown:this.handleDrillDown,onSelectEvent:this.handleSelectEvent,onDoubleClickEvent:this.handleDoubleClickEvent,onKeyPressEvent:this.handleKeyPressEvent,onSelectSlot:this.handleSelectSlot,onShowMore:w,doShowMoreDrillDown:x,resourceGroupingLayout:c})))}}],[{key:"getDerivedStateFromProps",value:function(n){return{context:t.getContext(n)}}},{key:"getContext",value:function(n){var s=n.startAccessor,a=n.endAccessor,i=n.allDayAccessor,l=n.tooltipAccessor,c=n.titleAccessor,u=n.resourceAccessor,d=n.resourceIdAccessor,f=n.resourceTitleAccessor,h=n.eventIdAccessor,p=n.eventPropGetter,v=n.backgroundEventPropGetter,m=n.slotPropGetter,w=n.slotGroupPropGetter,x=n.dayPropGetter,g=n.view,y=n.views,b=n.localizer,j=n.culture,N=n.messages,S=N===void 0?{}:N,_=n.components,k=_===void 0?{}:_,C=n.formats,O=C===void 0?{}:C,A=gw(y),P=nz(S);return{viewNames:A,localizer:ez(b,j,O,P),getters:{eventProp:function(){return p&&p.apply(void 0,arguments)||{}},backgroundEventProp:function(){return v&&v.apply(void 0,arguments)||{}},slotProp:function(){return m&&m.apply(void 0,arguments)||{}},slotGroupProp:function(){return w&&w.apply(void 0,arguments)||{}},dayProp:function(){return x&&x.apply(void 0,arguments)||{}}},components:bR(k[g]||{},p6(k,A),{eventWrapper:Zt,backgroundEventWrapper:Zt,eventContainerWrapper:Zt,dateCellWrapper:Zt,weekWrapper:Zt,timeSlotWrapper:Zt,timeGutterWrapper:Zt,timeIndicatorWrapper:Zt}),accessors:{start:dr(s),end:dr(a),allDay:dr(i),tooltip:dr(l),title:dr(c),resource:dr(u),resourceId:dr(d),resourceTitle:dr(f),eventId:dr(h)}}}}])}(T.Component);vw.defaultProps={events:[],backgroundEvents:[],elementProps:{},popup:!1,toolbar:!0,view:rt.MONTH,views:[rt.MONTH,rt.WEEK,rt.DAY,rt.AGENDA],step:30,length:30,allDayMaxRows:1/0,doShowMoreDrillDown:!0,drilldownView:rt.DAY,titleAccessor:"title",tooltipAccessor:"title",allDayAccessor:"allDay",startAccessor:"start",endAccessor:"end",resourceAccessor:"resourceId",resourceIdAccessor:"id",resourceTitleAccessor:"title",eventIdAccessor:"id",longPressThreshold:250,getNow:function(){return new Date},dayLayoutAlgorithm:"overlap"};var ph=B0(vw,{view:"onView",date:"onNavigate",selected:"onSelectEvent"}),Zz=function(t,r,n){var s=t.start,a=t.end;return"".concat(n.format(s,"P",r),"  ").concat(n.format(a,"P",r))},tu=function(t,r,n){var s=t.start,a=t.end;return"".concat(n.format(s,"p",r),"  ").concat(n.format(a,"p",r))},e5=function(t,r,n){var s=t.start;return"".concat(n.format(s,"h:mma",r),"  ")},t5=function(t,r,n){var s=t.end;return"  ".concat(n.format(s,"h:mma",r))},r5=function(t,r,n){var s=t.start,a=t.end;return"".concat(n.format(s,"MMMM dd",r),"  ").concat(n.format(a,Us(s,a,"month")?"dd":"MMMM dd",r))},n5={dateFormat:"dd",dayFormat:"dd eee",weekdayFormat:"ccc",selectRangeFormat:tu,eventTimeRangeFormat:tu,eventTimeRangeStartFormat:e5,eventTimeRangeEndFormat:t5,timeGutterFormat:"p",monthHeaderFormat:"MMMM yyyy",dayHeaderFormat:"cccc MMM dd",dayRangeHeaderFormat:r5,agendaHeaderFormat:Zz,agendaDateFormat:"ccc MMM dd",agendaTimeFormat:"p",agendaTimeRangeFormat:tu},gh=function(t){var r=t.startOfWeek,n=t.getDay,s=t.format,a=t.locales;return new Z6({formats:n5,firstOfWeek:function(l){return n(r(new Date,{locale:a[l]}))},format:function(l,c,u){return s(new Date(l),c,{locale:a[u]})}})};const yw=6048e5,s5=864e5,a5=6e4,i5=36e5,o5=1e3,fo=43200,$g=1440,Mg=Symbol.for("constructDateFrom");function Pe(e,t){return typeof e=="function"?e(t):e&&typeof e=="object"&&Mg in e?e[Mg](t):e instanceof Date?new e.constructor(t):new Date(t)}function ne(e,t){return Pe(t||e,e)}function xw(e,t,r){const n=ne(e,r==null?void 0:r.in);return isNaN(t)?Pe((r==null?void 0:r.in)||e,NaN):(t&&n.setDate(n.getDate()+t),n)}function hi(e,t,r){const n=ne(e,r==null?void 0:r.in);if(isNaN(t))return Pe(e,NaN);if(!t)return n;const s=n.getDate(),a=Pe(e,n.getTime());a.setMonth(n.getMonth()+t+1,0);const i=a.getDate();return s>=i?a:(n.setFullYear(a.getFullYear(),a.getMonth(),s),n)}let l5={};function Un(){return l5}function Yt(e,t){var l,c,u,d;const r=Un(),n=(t==null?void 0:t.weekStartsOn)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,s=ne(e,t==null?void 0:t.in),a=s.getDay(),i=(a<n?7:0)+a-n;return s.setDate(s.getDate()-i),s.setHours(0,0,0,0),s}function $s(e,t){return Yt(e,{...t,weekStartsOn:1})}function ww(e,t){const r=ne(e,t==null?void 0:t.in),n=r.getFullYear(),s=Pe(r,0);s.setFullYear(n+1,0,4),s.setHours(0,0,0,0);const a=$s(s),i=Pe(r,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const l=$s(i);return r.getTime()>=a.getTime()?n+1:r.getTime()>=l.getTime()?n:n-1}function Ms(e){const t=ne(e),r=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return r.setUTCFullYear(t.getFullYear()),+e-+r}function Js(e,...t){const r=Pe.bind(null,e||t.find(n=>typeof n=="object"));return t.map(r)}function pl(e,t){const r=ne(e,t==null?void 0:t.in);return r.setHours(0,0,0,0),r}function bw(e,t,r){const[n,s]=Js(r==null?void 0:r.in,e,t),a=pl(n),i=pl(s),l=+a-Ms(a),c=+i-Ms(i);return Math.round((l-c)/s5)}function c5(e,t){const r=ww(e,t),n=Pe(e,0);return n.setFullYear(r,0,4),n.setHours(0,0,0,0),$s(n)}function Po(e,t){const r=+ne(e)-+ne(t);return r<0?-1:r>0?1:r}function u5(e){return Pe(e,Date.now())}function d5(e,t,r){const[n,s]=Js(r==null?void 0:r.in,e,t);return+pl(n)==+pl(s)}function f5(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function h5(e){return!(!f5(e)&&typeof e!="number"||isNaN(+ne(e)))}function m5(e,t,r){const[n,s]=Js(r==null?void 0:r.in,e,t),a=n.getFullYear()-s.getFullYear(),i=n.getMonth()-s.getMonth();return a*12+i}function Ag(e,t,r){const[n,s]=Js(r==null?void 0:r.in,e,t),a=Rg(n,s),i=Math.abs(bw(n,s));n.setDate(n.getDate()-a*i);const l=+(Rg(n,s)===-a),c=a*(i-l);return c===0?0:c}function Rg(e,t){const r=e.getFullYear()-t.getFullYear()||e.getMonth()-t.getMonth()||e.getDate()-t.getDate()||e.getHours()-t.getHours()||e.getMinutes()-t.getMinutes()||e.getSeconds()-t.getSeconds()||e.getMilliseconds()-t.getMilliseconds();return r<0?-1:r>0?1:r}function p5(e){return t=>{const n=(e?Math[e]:Math.trunc)(t);return n===0?0:n}}function g5(e,t){return+ne(e)-+ne(t)}function v5(e,t){const r=ne(e,t==null?void 0:t.in);return r.setHours(23,59,59,999),r}function _w(e,t){const r=ne(e,t==null?void 0:t.in),n=r.getMonth();return r.setFullYear(r.getFullYear(),n+1,0),r.setHours(23,59,59,999),r}function y5(e,t){const r=ne(e,t==null?void 0:t.in);return+v5(r,t)==+_w(r,t)}function x5(e,t,r){const[n,s,a]=Js(r==null?void 0:r.in,e,e,t),i=Po(s,a),l=Math.abs(m5(s,a));if(l<1)return 0;s.getMonth()===1&&s.getDate()>27&&s.setDate(30),s.setMonth(s.getMonth()-i*l);let c=Po(s,a)===-i;y5(n)&&l===1&&Po(n,a)===1&&(c=!1);const u=i*(l-+c);return u===0?0:u}function w5(e,t,r){const n=g5(e,t)/1e3;return p5(r==null?void 0:r.roundingMethod)(n)}function b5(e,t){const r=ne(e,t==null?void 0:t.in);return r.setDate(1),r.setHours(0,0,0,0),r}function _5(e,t){const r=ne(e,t==null?void 0:t.in);return r.setFullYear(r.getFullYear(),0,1),r.setHours(0,0,0,0),r}const j5={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},N5=(e,t,r)=>{let n;const s=j5[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function vs(e){return(t={})=>{const r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}const S5={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},k5={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},E5={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},C5={date:vs({formats:S5,defaultWidth:"full"}),time:vs({formats:k5,defaultWidth:"full"}),dateTime:vs({formats:E5,defaultWidth:"full"})},T5={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},P5=(e,t,r,n)=>T5[e];function tr(e){return(t,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let s;if(n==="formatting"&&e.formattingValues){const i=e.defaultFormattingWidth||e.defaultWidth,l=r!=null&&r.width?String(r.width):i;s=e.formattingValues[l]||e.formattingValues[i]}else{const i=e.defaultWidth,l=r!=null&&r.width?String(r.width):e.defaultWidth;s=e.values[l]||e.values[i]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const D5={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},O5={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},$5={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},M5={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},A5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},R5={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},I5=(e,t)=>{const r=Number(e),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},L5={ordinalNumber:I5,era:tr({values:D5,defaultWidth:"wide"}),quarter:tr({values:O5,defaultWidth:"wide",argumentCallback:e=>e-1}),month:tr({values:$5,defaultWidth:"wide"}),day:tr({values:M5,defaultWidth:"wide"}),dayPeriod:tr({values:A5,defaultWidth:"wide",formattingValues:R5,defaultFormattingWidth:"wide"})};function rr(e){return(t,r={})=>{const n=r.width,s=n&&e.matchPatterns[n]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],l=n&&e.parsePatterns[n]||e.parsePatterns[e.defaultParseWidth],c=Array.isArray(l)?F5(l,f=>f.test(i)):z5(l,f=>f.test(i));let u;u=e.valueCallback?e.valueCallback(c):c,u=r.valueCallback?r.valueCallback(u):u;const d=t.slice(i.length);return{value:u,rest:d}}}function z5(e,t){for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}function F5(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}function jw(e){return(t,r={})=>{const n=t.match(e.matchPattern);if(!n)return null;const s=n[0],a=t.match(e.parsePattern);if(!a)return null;let i=e.valueCallback?e.valueCallback(a[0]):a[0];i=r.valueCallback?r.valueCallback(i):i;const l=t.slice(s.length);return{value:i,rest:l}}}const U5=/^(\d+)(th|st|nd|rd)?/i,W5=/\d+/i,H5={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},B5={any:[/^b/i,/^(a|c)/i]},q5={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},V5={any:[/1/i,/2/i,/3/i,/4/i]},G5={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Y5={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},K5={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},X5={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Q5={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},J5={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Z5={ordinalNumber:jw({matchPattern:U5,parsePattern:W5,valueCallback:e=>parseInt(e,10)}),era:rr({matchPatterns:H5,defaultMatchWidth:"wide",parsePatterns:B5,defaultParseWidth:"any"}),quarter:rr({matchPatterns:q5,defaultMatchWidth:"wide",parsePatterns:V5,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rr({matchPatterns:G5,defaultMatchWidth:"wide",parsePatterns:Y5,defaultParseWidth:"any"}),day:rr({matchPatterns:K5,defaultMatchWidth:"wide",parsePatterns:X5,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:Q5,defaultMatchWidth:"any",parsePatterns:J5,defaultParseWidth:"any"})},vh={code:"en-US",formatDistance:N5,formatLong:C5,formatRelative:P5,localize:L5,match:Z5,options:{weekStartsOn:0,firstWeekContainsDate:1}};function eF(e,t){const r=ne(e,t==null?void 0:t.in);return bw(r,_5(r))+1}function Nw(e,t){const r=ne(e,t==null?void 0:t.in),n=+$s(r)-+c5(r);return Math.round(n/yw)+1}function yh(e,t){var d,f,h,p;const r=ne(e,t==null?void 0:t.in),n=r.getFullYear(),s=Un(),a=(t==null?void 0:t.firstWeekContainsDate)??((f=(d=t==null?void 0:t.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((p=(h=s.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=Pe((t==null?void 0:t.in)||e,0);i.setFullYear(n+1,0,a),i.setHours(0,0,0,0);const l=Yt(i,t),c=Pe((t==null?void 0:t.in)||e,0);c.setFullYear(n,0,a),c.setHours(0,0,0,0);const u=Yt(c,t);return+r>=+l?n+1:+r>=+u?n:n-1}function tF(e,t){var l,c,u,d;const r=Un(),n=(t==null?void 0:t.firstWeekContainsDate)??((c=(l=t==null?void 0:t.locale)==null?void 0:l.options)==null?void 0:c.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,s=yh(e,t),a=Pe((t==null?void 0:t.in)||e,0);return a.setFullYear(s,0,n),a.setHours(0,0,0,0),Yt(a,t)}function Sw(e,t){const r=ne(e,t==null?void 0:t.in),n=+Yt(r,t)-+tF(r,t);return Math.round(n/yw)+1}function se(e,t){const r=e<0?"-":"",n=Math.abs(e).toString().padStart(t,"0");return r+n}const Or={y(e,t){const r=e.getFullYear(),n=r>0?r:1-r;return se(t==="yy"?n%100:n,t.length)},M(e,t){const r=e.getMonth();return t==="M"?String(r+1):se(r+1,2)},d(e,t){return se(e.getDate(),t.length)},a(e,t){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(e,t){return se(e.getHours()%12||12,t.length)},H(e,t){return se(e.getHours(),t.length)},m(e,t){return se(e.getMinutes(),t.length)},s(e,t){return se(e.getSeconds(),t.length)},S(e,t){const r=t.length,n=e.getMilliseconds(),s=Math.trunc(n*Math.pow(10,r-3));return se(s,t.length)}},Kn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Ig={G:function(e,t,r){const n=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(e,t,r){if(t==="yo"){const n=e.getFullYear(),s=n>0?n:1-n;return r.ordinalNumber(s,{unit:"year"})}return Or.y(e,t)},Y:function(e,t,r,n){const s=yh(e,n),a=s>0?s:1-s;if(t==="YY"){const i=a%100;return se(i,2)}return t==="Yo"?r.ordinalNumber(a,{unit:"year"}):se(a,t.length)},R:function(e,t){const r=ww(e);return se(r,t.length)},u:function(e,t){const r=e.getFullYear();return se(r,t.length)},Q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(n);case"QQ":return se(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(e,t,r){const n=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(n);case"qq":return se(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(e,t,r){const n=e.getMonth();switch(t){case"M":case"MM":return Or.M(e,t);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(e,t,r){const n=e.getMonth();switch(t){case"L":return String(n+1);case"LL":return se(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(e,t,r,n){const s=Sw(e,n);return t==="wo"?r.ordinalNumber(s,{unit:"week"}):se(s,t.length)},I:function(e,t,r){const n=Nw(e);return t==="Io"?r.ordinalNumber(n,{unit:"week"}):se(n,t.length)},d:function(e,t,r){return t==="do"?r.ordinalNumber(e.getDate(),{unit:"date"}):Or.d(e,t)},D:function(e,t,r){const n=eF(e);return t==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):se(n,t.length)},E:function(e,t,r){const n=e.getDay();switch(t){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return se(a,2);case"eo":return r.ordinalNumber(a,{unit:"day"});case"eee":return r.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(s,{width:"short",context:"formatting"});case"eeee":default:return r.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,r,n){const s=e.getDay(),a=(s-n.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return se(a,t.length);case"co":return r.ordinalNumber(a,{unit:"day"});case"ccc":return r.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(s,{width:"narrow",context:"standalone"});case"cccccc":return r.day(s,{width:"short",context:"standalone"});case"cccc":default:return r.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,r){const n=e.getDay(),s=n===0?7:n;switch(t){case"i":return String(s);case"ii":return se(s,t.length);case"io":return r.ordinalNumber(s,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(e,t,r){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,r){const n=e.getHours();let s;switch(n===12?s=Kn.noon:n===0?s=Kn.midnight:s=n/12>=1?"pm":"am",t){case"b":case"bb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,r){const n=e.getHours();let s;switch(n>=17?s=Kn.evening:n>=12?s=Kn.afternoon:n>=4?s=Kn.morning:s=Kn.night,t){case"B":case"BB":case"BBB":return r.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,r){if(t==="ho"){let n=e.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Or.h(e,t)},H:function(e,t,r){return t==="Ho"?r.ordinalNumber(e.getHours(),{unit:"hour"}):Or.H(e,t)},K:function(e,t,r){const n=e.getHours()%12;return t==="Ko"?r.ordinalNumber(n,{unit:"hour"}):se(n,t.length)},k:function(e,t,r){let n=e.getHours();return n===0&&(n=24),t==="ko"?r.ordinalNumber(n,{unit:"hour"}):se(n,t.length)},m:function(e,t,r){return t==="mo"?r.ordinalNumber(e.getMinutes(),{unit:"minute"}):Or.m(e,t)},s:function(e,t,r){return t==="so"?r.ordinalNumber(e.getSeconds(),{unit:"second"}):Or.s(e,t)},S:function(e,t){return Or.S(e,t)},X:function(e,t,r){const n=e.getTimezoneOffset();if(n===0)return"Z";switch(t){case"X":return zg(n);case"XXXX":case"XX":return mn(n);case"XXXXX":case"XXX":default:return mn(n,":")}},x:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"x":return zg(n);case"xxxx":case"xx":return mn(n);case"xxxxx":case"xxx":default:return mn(n,":")}},O:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+Lg(n,":");case"OOOO":default:return"GMT"+mn(n,":")}},z:function(e,t,r){const n=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+Lg(n,":");case"zzzz":default:return"GMT"+mn(n,":")}},t:function(e,t,r){const n=Math.trunc(+e/1e3);return se(n,t.length)},T:function(e,t,r){return se(+e,t.length)}};function Lg(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=Math.trunc(n/60),a=n%60;return a===0?r+String(s):r+String(s)+t+se(a,2)}function zg(e,t){return e%60===0?(e>0?"-":"+")+se(Math.abs(e)/60,2):mn(e,t)}function mn(e,t=""){const r=e>0?"-":"+",n=Math.abs(e),s=se(Math.trunc(n/60),2),a=se(n%60,2);return r+s+t+a}const Fg=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},kw=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},rF=(e,t)=>{const r=e.match(/(P+)(p+)?/)||[],n=r[1],s=r[2];if(!s)return Fg(e,t);let a;switch(n){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",Fg(n,t)).replace("{{time}}",kw(s,t))},Nd={p:kw,P:rF},nF=/^D+$/,sF=/^Y+$/,aF=["D","DD","YY","YYYY"];function Ew(e){return nF.test(e)}function Cw(e){return sF.test(e)}function Sd(e,t,r){const n=iF(e,t,r);if(console.warn(n),aF.includes(e))throw new RangeError(n)}function iF(e,t,r){const n=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const oF=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lF=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cF=/^'([^]*?)'?$/,uF=/''/g,dF=/[a-zA-Z]/;function Z(e,t,r){var d,f,h,p,v,m,w,x;const n=Un(),s=(r==null?void 0:r.locale)??n.locale??vh,a=(r==null?void 0:r.firstWeekContainsDate)??((f=(d=r==null?void 0:r.locale)==null?void 0:d.options)==null?void 0:f.firstWeekContainsDate)??n.firstWeekContainsDate??((p=(h=n.locale)==null?void 0:h.options)==null?void 0:p.firstWeekContainsDate)??1,i=(r==null?void 0:r.weekStartsOn)??((m=(v=r==null?void 0:r.locale)==null?void 0:v.options)==null?void 0:m.weekStartsOn)??n.weekStartsOn??((x=(w=n.locale)==null?void 0:w.options)==null?void 0:x.weekStartsOn)??0,l=ne(e,r==null?void 0:r.in);if(!h5(l))throw new RangeError("Invalid time value");let c=t.match(lF).map(g=>{const y=g[0];if(y==="p"||y==="P"){const b=Nd[y];return b(g,s.formatLong)}return g}).join("").match(oF).map(g=>{if(g==="''")return{isToken:!1,value:"'"};const y=g[0];if(y==="'")return{isToken:!1,value:fF(g)};if(Ig[y])return{isToken:!0,value:g};if(y.match(dF))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:g}});s.localize.preprocessor&&(c=s.localize.preprocessor(l,c));const u={firstWeekContainsDate:a,weekStartsOn:i,locale:s};return c.map(g=>{if(!g.isToken)return g.value;const y=g.value;(!(r!=null&&r.useAdditionalWeekYearTokens)&&Cw(y)||!(r!=null&&r.useAdditionalDayOfYearTokens)&&Ew(y))&&Sd(y,t,String(e));const b=Ig[y[0]];return b(l,y,s.localize,u)}).join("")}function fF(e){const t=e.match(cF);return t?t[1].replace(uF,"'"):e}function hF(e,t,r){const n=Un(),s=(r==null?void 0:r.locale)??n.locale??vh,a=2520,i=Po(e,t);if(isNaN(i))throw new RangeError("Invalid time value");const l=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:i}),[c,u]=Js(r==null?void 0:r.in,...i>0?[t,e]:[e,t]),d=w5(u,c),f=(Ms(u)-Ms(c))/1e3,h=Math.round((d-f)/60);let p;if(h<2)return r!=null&&r.includeSeconds?d<5?s.formatDistance("lessThanXSeconds",5,l):d<10?s.formatDistance("lessThanXSeconds",10,l):d<20?s.formatDistance("lessThanXSeconds",20,l):d<40?s.formatDistance("halfAMinute",0,l):d<60?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",1,l):h===0?s.formatDistance("lessThanXMinutes",1,l):s.formatDistance("xMinutes",h,l);if(h<45)return s.formatDistance("xMinutes",h,l);if(h<90)return s.formatDistance("aboutXHours",1,l);if(h<$g){const v=Math.round(h/60);return s.formatDistance("aboutXHours",v,l)}else{if(h<a)return s.formatDistance("xDays",1,l);if(h<fo){const v=Math.round(h/$g);return s.formatDistance("xDays",v,l)}else if(h<fo*2)return p=Math.round(h/fo),s.formatDistance("aboutXMonths",p,l)}if(p=x5(u,c),p<12){const v=Math.round(h/fo);return s.formatDistance("xMonths",v,l)}else{const v=p%12,m=Math.trunc(p/12);return v<3?s.formatDistance("aboutXYears",m,l):v<9?s.formatDistance("overXYears",m,l):s.formatDistance("almostXYears",m+1,l)}}function mF(e,t){return hF(e,u5(e),t)}function xh(e,t){return ne(e,t==null?void 0:t.in).getDay()}function pF(){return Object.assign({},Un())}function gF(e,t){const r=ne(e,t==null?void 0:t.in).getDay();return r===0?7:r}function vF(e,t){const r=yF(t)?new t(0):Pe(t,0);return r.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),r.setHours(e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()),r}function yF(e){var t;return typeof e=="function"&&((t=e.prototype)==null?void 0:t.constructor)===e}const xF=10;class Tw{constructor(){F(this,"subPriority",0)}validate(t,r){return!0}}class wF extends Tw{constructor(t,r,n,s,a){super(),this.value=t,this.validateValue=r,this.setValue=n,this.priority=s,a&&(this.subPriority=a)}validate(t,r){return this.validateValue(t,this.value,r)}set(t,r,n){return this.setValue(t,r,this.value,n)}}class bF extends Tw{constructor(r,n){super();F(this,"priority",xF);F(this,"subPriority",-1);this.context=r||(s=>Pe(n,s))}set(r,n){return n.timestampIsSet?r:Pe(r,vF(r,this.context))}}class re{run(t,r,n,s){const a=this.parse(t,r,n,s);return a?{setter:new wF(a.value,this.validate,this.set,this.priority,this.subPriority),rest:a.rest}:null}validate(t,r,n){return!0}}class _F extends re{constructor(){super(...arguments);F(this,"priority",140);F(this,"incompatibleTokens",["R","u","t","T"])}parse(r,n,s){switch(n){case"G":case"GG":case"GGG":return s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"});case"GGGGG":return s.era(r,{width:"narrow"});case"GGGG":default:return s.era(r,{width:"wide"})||s.era(r,{width:"abbreviated"})||s.era(r,{width:"narrow"})}}set(r,n,s){return n.era=s,r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}const Ce={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},nr={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function Te(e,t){return e&&{value:t(e.value),rest:e.rest}}function ye(e,t){const r=t.match(e);return r?{value:parseInt(r[0],10),rest:t.slice(r[0].length)}:null}function sr(e,t){const r=t.match(e);if(!r)return null;if(r[0]==="Z")return{value:0,rest:t.slice(1)};const n=r[1]==="+"?1:-1,s=r[2]?parseInt(r[2],10):0,a=r[3]?parseInt(r[3],10):0,i=r[5]?parseInt(r[5],10):0;return{value:n*(s*i5+a*a5+i*o5),rest:t.slice(r[0].length)}}function Pw(e){return ye(Ce.anyDigitsSigned,e)}function Ne(e,t){switch(e){case 1:return ye(Ce.singleDigit,t);case 2:return ye(Ce.twoDigits,t);case 3:return ye(Ce.threeDigits,t);case 4:return ye(Ce.fourDigits,t);default:return ye(new RegExp("^\\d{1,"+e+"}"),t)}}function gl(e,t){switch(e){case 1:return ye(Ce.singleDigitSigned,t);case 2:return ye(Ce.twoDigitsSigned,t);case 3:return ye(Ce.threeDigitsSigned,t);case 4:return ye(Ce.fourDigitsSigned,t);default:return ye(new RegExp("^-?\\d{1,"+e+"}"),t)}}function wh(e){switch(e){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function Dw(e,t){const r=t>0,n=r?t:1-t;let s;if(n<=50)s=e||100;else{const a=n+50,i=Math.trunc(a/100)*100,l=e>=a%100;s=e+i-(l?100:0)}return r?s:1-s}function Ow(e){return e%400===0||e%4===0&&e%100!==0}class jF extends re{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["Y","R","u","w","I","i","e","c","t","T"])}parse(r,n,s){const a=i=>({year:i,isTwoDigitYear:n==="yy"});switch(n){case"y":return Te(Ne(4,r),a);case"yo":return Te(s.ordinalNumber(r,{unit:"year"}),a);default:return Te(Ne(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s){const a=r.getFullYear();if(s.isTwoDigitYear){const l=Dw(s.year,a);return r.setFullYear(l,0,1),r.setHours(0,0,0,0),r}const i=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(i,0,1),r.setHours(0,0,0,0),r}}class NF extends re{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["y","R","u","Q","q","M","L","I","d","D","i","t","T"])}parse(r,n,s){const a=i=>({year:i,isTwoDigitYear:n==="YY"});switch(n){case"Y":return Te(Ne(4,r),a);case"Yo":return Te(s.ordinalNumber(r,{unit:"year"}),a);default:return Te(Ne(n.length,r),a)}}validate(r,n){return n.isTwoDigitYear||n.year>0}set(r,n,s,a){const i=yh(r,a);if(s.isTwoDigitYear){const c=Dw(s.year,i);return r.setFullYear(c,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Yt(r,a)}const l=!("era"in n)||n.era===1?s.year:1-s.year;return r.setFullYear(l,0,a.firstWeekContainsDate),r.setHours(0,0,0,0),Yt(r,a)}}class SF extends re{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"])}parse(r,n){return gl(n==="R"?4:n.length,r)}set(r,n,s){const a=Pe(r,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),$s(a)}}class kF extends re{constructor(){super(...arguments);F(this,"priority",130);F(this,"incompatibleTokens",["G","y","Y","R","w","I","i","e","c","t","T"])}parse(r,n){return gl(n==="u"?4:n.length,r)}set(r,n,s){return r.setFullYear(s,0,1),r.setHours(0,0,0,0),r}}class EF extends re{constructor(){super(...arguments);F(this,"priority",120);F(this,"incompatibleTokens",["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"Q":case"QQ":return Ne(n.length,r);case"Qo":return s.ordinalNumber(r,{unit:"quarter"});case"QQQ":return s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQQ":return s.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return s.quarter(r,{width:"wide",context:"formatting"})||s.quarter(r,{width:"abbreviated",context:"formatting"})||s.quarter(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class CF extends re{constructor(){super(...arguments);F(this,"priority",120);F(this,"incompatibleTokens",["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"q":case"qq":return Ne(n.length,r);case"qo":return s.ordinalNumber(r,{unit:"quarter"});case"qqq":return s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"});case"qqqqq":return s.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return s.quarter(r,{width:"wide",context:"standalone"})||s.quarter(r,{width:"abbreviated",context:"standalone"})||s.quarter(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=1&&n<=4}set(r,n,s){return r.setMonth((s-1)*3,1),r.setHours(0,0,0,0),r}}class TF extends re{constructor(){super(...arguments);F(this,"incompatibleTokens",["Y","R","q","Q","L","w","I","D","i","e","c","t","T"]);F(this,"priority",110)}parse(r,n,s){const a=i=>i-1;switch(n){case"M":return Te(ye(Ce.month,r),a);case"MM":return Te(Ne(2,r),a);case"Mo":return Te(s.ordinalNumber(r,{unit:"month"}),a);case"MMM":return s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"});case"MMMMM":return s.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return s.month(r,{width:"wide",context:"formatting"})||s.month(r,{width:"abbreviated",context:"formatting"})||s.month(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}class PF extends re{constructor(){super(...arguments);F(this,"priority",110);F(this,"incompatibleTokens",["Y","R","q","Q","M","w","I","D","i","e","c","t","T"])}parse(r,n,s){const a=i=>i-1;switch(n){case"L":return Te(ye(Ce.month,r),a);case"LL":return Te(Ne(2,r),a);case"Lo":return Te(s.ordinalNumber(r,{unit:"month"}),a);case"LLL":return s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"});case"LLLLL":return s.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return s.month(r,{width:"wide",context:"standalone"})||s.month(r,{width:"abbreviated",context:"standalone"})||s.month(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.setMonth(s,1),r.setHours(0,0,0,0),r}}function DF(e,t,r){const n=ne(e,r==null?void 0:r.in),s=Sw(n,r)-t;return n.setDate(n.getDate()-s*7),ne(n,r==null?void 0:r.in)}class OF extends re{constructor(){super(...arguments);F(this,"priority",100);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","i","t","T"])}parse(r,n,s){switch(n){case"w":return ye(Ce.week,r);case"wo":return s.ordinalNumber(r,{unit:"week"});default:return Ne(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s,a){return Yt(DF(r,s,a),a)}}function $F(e,t,r){const n=ne(e,r==null?void 0:r.in),s=Nw(n,r)-t;return n.setDate(n.getDate()-s*7),n}class MF extends re{constructor(){super(...arguments);F(this,"priority",100);F(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"])}parse(r,n,s){switch(n){case"I":return ye(Ce.week,r);case"Io":return s.ordinalNumber(r,{unit:"week"});default:return Ne(n.length,r)}}validate(r,n){return n>=1&&n<=53}set(r,n,s){return $s($F(r,s))}}const AF=[31,28,31,30,31,30,31,31,30,31,30,31],RF=[31,29,31,30,31,30,31,31,30,31,30,31];class IF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"subPriority",1);F(this,"incompatibleTokens",["Y","R","q","Q","w","I","D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"d":return ye(Ce.date,r);case"do":return s.ordinalNumber(r,{unit:"date"});default:return Ne(n.length,r)}}validate(r,n){const s=r.getFullYear(),a=Ow(s),i=r.getMonth();return a?n>=1&&n<=RF[i]:n>=1&&n<=AF[i]}set(r,n,s){return r.setDate(s),r.setHours(0,0,0,0),r}}class LF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"subpriority",1);F(this,"incompatibleTokens",["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"])}parse(r,n,s){switch(n){case"D":case"DD":return ye(Ce.dayOfYear,r);case"Do":return s.ordinalNumber(r,{unit:"date"});default:return Ne(n.length,r)}}validate(r,n){const s=r.getFullYear();return Ow(s)?n>=1&&n<=366:n>=1&&n<=365}set(r,n,s){return r.setMonth(0,s),r.setHours(0,0,0,0),r}}function bh(e,t,r){var f,h,p,v;const n=Un(),s=(r==null?void 0:r.weekStartsOn)??((h=(f=r==null?void 0:r.locale)==null?void 0:f.options)==null?void 0:h.weekStartsOn)??n.weekStartsOn??((v=(p=n.locale)==null?void 0:p.options)==null?void 0:v.weekStartsOn)??0,a=ne(e,r==null?void 0:r.in),i=a.getDay(),c=(t%7+7)%7,u=7-s,d=t<0||t>6?t-(i+u)%7:(c+u)%7-(i+u)%7;return xw(a,d,r)}class zF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["D","i","e","c","t","T"])}parse(r,n,s){switch(n){case"E":case"EE":case"EEE":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEEE":return s.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"EEEE":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=bh(r,s,a),r.setHours(0,0,0,0),r}}class FF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"])}parse(r,n,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"e":case"ee":return Te(Ne(n.length,r),i);case"eo":return Te(s.ordinalNumber(r,{unit:"day"}),i);case"eee":return s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeeee":return s.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"});case"eeee":default:return s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=bh(r,s,a),r.setHours(0,0,0,0),r}}class UF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"])}parse(r,n,s,a){const i=l=>{const c=Math.floor((l-1)/7)*7;return(l+a.weekStartsOn+6)%7+c};switch(n){case"c":case"cc":return Te(Ne(n.length,r),i);case"co":return Te(s.ordinalNumber(r,{unit:"day"}),i);case"ccc":return s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"ccccc":return s.day(r,{width:"narrow",context:"standalone"});case"cccccc":return s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"});case"cccc":default:return s.day(r,{width:"wide",context:"standalone"})||s.day(r,{width:"abbreviated",context:"standalone"})||s.day(r,{width:"short",context:"standalone"})||s.day(r,{width:"narrow",context:"standalone"})}}validate(r,n){return n>=0&&n<=6}set(r,n,s,a){return r=bh(r,s,a),r.setHours(0,0,0,0),r}}function WF(e,t,r){const n=ne(e,r==null?void 0:r.in),s=gF(n,r),a=t-s;return xw(n,a,r)}class HF extends re{constructor(){super(...arguments);F(this,"priority",90);F(this,"incompatibleTokens",["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"])}parse(r,n,s){const a=i=>i===0?7:i;switch(n){case"i":case"ii":return Ne(n.length,r);case"io":return s.ordinalNumber(r,{unit:"day"});case"iii":return Te(s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiii":return Te(s.day(r,{width:"narrow",context:"formatting"}),a);case"iiiiii":return Te(s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a);case"iiii":default:return Te(s.day(r,{width:"wide",context:"formatting"})||s.day(r,{width:"abbreviated",context:"formatting"})||s.day(r,{width:"short",context:"formatting"})||s.day(r,{width:"narrow",context:"formatting"}),a)}}validate(r,n){return n>=1&&n<=7}set(r,n,s){return r=WF(r,s),r.setHours(0,0,0,0),r}}class BF extends re{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["b","B","H","k","t","T"])}parse(r,n,s){switch(n){case"a":case"aa":case"aaa":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaaa":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(wh(s),0,0,0),r}}class qF extends re{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["a","B","H","k","t","T"])}parse(r,n,s){switch(n){case"b":case"bb":case"bbb":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbbb":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(wh(s),0,0,0),r}}class VF extends re{constructor(){super(...arguments);F(this,"priority",80);F(this,"incompatibleTokens",["a","b","t","T"])}parse(r,n,s){switch(n){case"B":case"BB":case"BBB":return s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBBB":return s.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return s.dayPeriod(r,{width:"wide",context:"formatting"})||s.dayPeriod(r,{width:"abbreviated",context:"formatting"})||s.dayPeriod(r,{width:"narrow",context:"formatting"})}}set(r,n,s){return r.setHours(wh(s),0,0,0),r}}class GF extends re{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["H","K","k","t","T"])}parse(r,n,s){switch(n){case"h":return ye(Ce.hour12h,r);case"ho":return s.ordinalNumber(r,{unit:"hour"});default:return Ne(n.length,r)}}validate(r,n){return n>=1&&n<=12}set(r,n,s){const a=r.getHours()>=12;return a&&s<12?r.setHours(s+12,0,0,0):!a&&s===12?r.setHours(0,0,0,0):r.setHours(s,0,0,0),r}}class YF extends re{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["a","b","h","K","k","t","T"])}parse(r,n,s){switch(n){case"H":return ye(Ce.hour23h,r);case"Ho":return s.ordinalNumber(r,{unit:"hour"});default:return Ne(n.length,r)}}validate(r,n){return n>=0&&n<=23}set(r,n,s){return r.setHours(s,0,0,0),r}}class KF extends re{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["h","H","k","t","T"])}parse(r,n,s){switch(n){case"K":return ye(Ce.hour11h,r);case"Ko":return s.ordinalNumber(r,{unit:"hour"});default:return Ne(n.length,r)}}validate(r,n){return n>=0&&n<=11}set(r,n,s){return r.getHours()>=12&&s<12?r.setHours(s+12,0,0,0):r.setHours(s,0,0,0),r}}class XF extends re{constructor(){super(...arguments);F(this,"priority",70);F(this,"incompatibleTokens",["a","b","h","H","K","t","T"])}parse(r,n,s){switch(n){case"k":return ye(Ce.hour24h,r);case"ko":return s.ordinalNumber(r,{unit:"hour"});default:return Ne(n.length,r)}}validate(r,n){return n>=1&&n<=24}set(r,n,s){const a=s<=24?s%24:s;return r.setHours(a,0,0,0),r}}class QF extends re{constructor(){super(...arguments);F(this,"priority",60);F(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"m":return ye(Ce.minute,r);case"mo":return s.ordinalNumber(r,{unit:"minute"});default:return Ne(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setMinutes(s,0,0),r}}class JF extends re{constructor(){super(...arguments);F(this,"priority",50);F(this,"incompatibleTokens",["t","T"])}parse(r,n,s){switch(n){case"s":return ye(Ce.second,r);case"so":return s.ordinalNumber(r,{unit:"second"});default:return Ne(n.length,r)}}validate(r,n){return n>=0&&n<=59}set(r,n,s){return r.setSeconds(s,0),r}}class ZF extends re{constructor(){super(...arguments);F(this,"priority",30);F(this,"incompatibleTokens",["t","T"])}parse(r,n){const s=a=>Math.trunc(a*Math.pow(10,-n.length+3));return Te(Ne(n.length,r),s)}set(r,n,s){return r.setMilliseconds(s),r}}class e8 extends re{constructor(){super(...arguments);F(this,"priority",10);F(this,"incompatibleTokens",["t","T","x"])}parse(r,n){switch(n){case"X":return sr(nr.basicOptionalMinutes,r);case"XX":return sr(nr.basic,r);case"XXXX":return sr(nr.basicOptionalSeconds,r);case"XXXXX":return sr(nr.extendedOptionalSeconds,r);case"XXX":default:return sr(nr.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Pe(r,r.getTime()-Ms(r)-s)}}class t8 extends re{constructor(){super(...arguments);F(this,"priority",10);F(this,"incompatibleTokens",["t","T","X"])}parse(r,n){switch(n){case"x":return sr(nr.basicOptionalMinutes,r);case"xx":return sr(nr.basic,r);case"xxxx":return sr(nr.basicOptionalSeconds,r);case"xxxxx":return sr(nr.extendedOptionalSeconds,r);case"xxx":default:return sr(nr.extended,r)}}set(r,n,s){return n.timestampIsSet?r:Pe(r,r.getTime()-Ms(r)-s)}}class r8 extends re{constructor(){super(...arguments);F(this,"priority",40);F(this,"incompatibleTokens","*")}parse(r){return Pw(r)}set(r,n,s){return[Pe(r,s*1e3),{timestampIsSet:!0}]}}class n8 extends re{constructor(){super(...arguments);F(this,"priority",20);F(this,"incompatibleTokens","*")}parse(r){return Pw(r)}set(r,n,s){return[Pe(r,s),{timestampIsSet:!0}]}}const s8={G:new _F,y:new jF,Y:new NF,R:new SF,u:new kF,Q:new EF,q:new CF,M:new TF,L:new PF,w:new OF,I:new MF,d:new IF,D:new LF,E:new zF,e:new FF,c:new UF,i:new HF,a:new BF,b:new qF,B:new VF,h:new GF,H:new YF,K:new KF,k:new XF,m:new QF,s:new JF,S:new ZF,X:new e8,x:new t8,t:new r8,T:new n8},a8=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,i8=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,o8=/^'([^]*?)'?$/,l8=/''/g,c8=/\S/,u8=/[a-zA-Z]/;function _h(e,t,r,n){var w,x,g,y,b,j,N,S;const s=()=>Pe((n==null?void 0:n.in)||r,NaN),a=pF(),i=(n==null?void 0:n.locale)??a.locale??vh,l=(n==null?void 0:n.firstWeekContainsDate)??((x=(w=n==null?void 0:n.locale)==null?void 0:w.options)==null?void 0:x.firstWeekContainsDate)??a.firstWeekContainsDate??((y=(g=a.locale)==null?void 0:g.options)==null?void 0:y.firstWeekContainsDate)??1,c=(n==null?void 0:n.weekStartsOn)??((j=(b=n==null?void 0:n.locale)==null?void 0:b.options)==null?void 0:j.weekStartsOn)??a.weekStartsOn??((S=(N=a.locale)==null?void 0:N.options)==null?void 0:S.weekStartsOn)??0;if(!t)return e?s():ne(r,n==null?void 0:n.in);const u={firstWeekContainsDate:l,weekStartsOn:c,locale:i},d=[new bF(n==null?void 0:n.in,r)],f=t.match(i8).map(_=>{const k=_[0];if(k in Nd){const C=Nd[k];return C(_,i.formatLong)}return _}).join("").match(a8),h=[];for(let _ of f){!(n!=null&&n.useAdditionalWeekYearTokens)&&Cw(_)&&Sd(_,t,e),!(n!=null&&n.useAdditionalDayOfYearTokens)&&Ew(_)&&Sd(_,t,e);const k=_[0],C=s8[k];if(C){const{incompatibleTokens:O}=C;if(Array.isArray(O)){const P=h.find($=>O.includes($.token)||$.token===k);if(P)throw new RangeError(`The format string mustn't contain \`${P.fullToken}\` and \`${_}\` at the same time`)}else if(C.incompatibleTokens==="*"&&h.length>0)throw new RangeError(`The format string mustn't contain \`${_}\` and any other token at the same time`);h.push({token:k,fullToken:_});const A=C.run(e,_,i.match,u);if(!A)return s();d.push(A.setter),e=A.rest}else{if(k.match(u8))throw new RangeError("Format string contains an unescaped latin alphabet character `"+k+"`");if(_==="''"?_="'":k==="'"&&(_=d8(_)),e.indexOf(_)===0)e=e.slice(_.length);else return s()}}if(e.length>0&&c8.test(e))return s();const p=d.map(_=>_.priority).sort((_,k)=>k-_).filter((_,k,C)=>C.indexOf(_)===k).map(_=>d.filter(k=>k.priority===_).sort((k,C)=>C.subPriority-k.subPriority)).map(_=>_[0]);let v=ne(r,n==null?void 0:n.in);if(isNaN(+v))return s();const m={};for(const _ of p){if(!_.validate(v,u))return s();const k=_.set(v,m,u);Array.isArray(k)?(v=k[0],Object.assign(m,k[1])):v=k}return v}function d8(e){return e.match(o8)[1].replace(l8,"'")}function mi(e,t,r){return hi(e,-t,r)}const f8={lessThanXSeconds:{one:"menos de un segundo",other:"menos de {{count}} segundos"},xSeconds:{one:"1 segundo",other:"{{count}} segundos"},halfAMinute:"medio minuto",lessThanXMinutes:{one:"menos de un minuto",other:"menos de {{count}} minutos"},xMinutes:{one:"1 minuto",other:"{{count}} minutos"},aboutXHours:{one:"alrededor de 1 hora",other:"alrededor de {{count}} horas"},xHours:{one:"1 hora",other:"{{count}} horas"},xDays:{one:"1 da",other:"{{count}} das"},aboutXWeeks:{one:"alrededor de 1 semana",other:"alrededor de {{count}} semanas"},xWeeks:{one:"1 semana",other:"{{count}} semanas"},aboutXMonths:{one:"alrededor de 1 mes",other:"alrededor de {{count}} meses"},xMonths:{one:"1 mes",other:"{{count}} meses"},aboutXYears:{one:"alrededor de 1 ao",other:"alrededor de {{count}} aos"},xYears:{one:"1 ao",other:"{{count}} aos"},overXYears:{one:"ms de 1 ao",other:"ms de {{count}} aos"},almostXYears:{one:"casi 1 ao",other:"casi {{count}} aos"}},h8=(e,t,r)=>{let n;const s=f8[e];return typeof s=="string"?n=s:t===1?n=s.one:n=s.other.replace("{{count}}",t.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"en "+n:"hace "+n:n},m8={full:"EEEE, d 'de' MMMM 'de' y",long:"d 'de' MMMM 'de' y",medium:"d MMM y",short:"dd/MM/y"},p8={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},g8={full:"{{date}} 'a las' {{time}}",long:"{{date}} 'a las' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},v8={date:vs({formats:m8,defaultWidth:"full"}),time:vs({formats:p8,defaultWidth:"full"}),dateTime:vs({formats:g8,defaultWidth:"full"})},y8={lastWeek:"'el' eeee 'pasado a la' p",yesterday:"'ayer a la' p",today:"'hoy a la' p",tomorrow:"'maana a la' p",nextWeek:"eeee 'a la' p",other:"P"},x8={lastWeek:"'el' eeee 'pasado a las' p",yesterday:"'ayer a las' p",today:"'hoy a las' p",tomorrow:"'maana a las' p",nextWeek:"eeee 'a las' p",other:"P"},w8=(e,t,r,n)=>t.getHours()!==1?x8[e]:y8[e],b8={narrow:["AC","DC"],abbreviated:["AC","DC"],wide:["antes de cristo","despus de cristo"]},_8={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},j8={narrow:["e","f","m","a","m","j","j","a","s","o","n","d"],abbreviated:["ene","feb","mar","abr","may","jun","jul","ago","sep","oct","nov","dic"],wide:["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"]},N8={narrow:["d","l","m","m","j","v","s"],short:["do","lu","ma","mi","ju","vi","s"],abbreviated:["dom","lun","mar","mi","jue","vie","sb"],wide:["domingo","lunes","martes","mircoles","jueves","viernes","sbado"]},S8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"maana",afternoon:"tarde",evening:"tarde",night:"noche"}},k8={narrow:{am:"a",pm:"p",midnight:"mn",noon:"md",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},abbreviated:{am:"AM",pm:"PM",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"},wide:{am:"a.m.",pm:"p.m.",midnight:"medianoche",noon:"mediodia",morning:"de la maana",afternoon:"de la tarde",evening:"de la tarde",night:"de la noche"}},E8=(e,t)=>Number(e)+"",C8={ordinalNumber:E8,era:tr({values:b8,defaultWidth:"wide"}),quarter:tr({values:_8,defaultWidth:"wide",argumentCallback:e=>Number(e)-1}),month:tr({values:j8,defaultWidth:"wide"}),day:tr({values:N8,defaultWidth:"wide"}),dayPeriod:tr({values:S8,defaultWidth:"wide",formattingValues:k8,defaultFormattingWidth:"wide"})},T8=/^(\d+)()?/i,P8=/\d+/i,D8={narrow:/^(ac|dc|a|d)/i,abbreviated:/^(a\.?\s?c\.?|a\.?\s?e\.?\s?c\.?|d\.?\s?c\.?|e\.?\s?c\.?)/i,wide:/^(antes de cristo|antes de la era com[u]n|despu[e]s de cristo|era com[u]n)/i},O8={any:[/^ac/i,/^dc/i],wide:[/^(antes de cristo|antes de la era com[u]n)/i,/^(despu[e]s de cristo|era com[u]n)/i]},$8={narrow:/^[1234]/i,abbreviated:/^T[1234]/i,wide:/^[1234]()? trimestre/i},M8={any:[/1/i,/2/i,/3/i,/4/i]},A8={narrow:/^[efmajsond]/i,abbreviated:/^(ene|feb|mar|abr|may|jun|jul|ago|sep|oct|nov|dic)/i,wide:/^(enero|febrero|marzo|abril|mayo|junio|julio|agosto|septiembre|octubre|noviembre|diciembre)/i},R8={narrow:[/^e/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^en/i,/^feb/i,/^mar/i,/^abr/i,/^may/i,/^jun/i,/^jul/i,/^ago/i,/^sep/i,/^oct/i,/^nov/i,/^dic/i]},I8={narrow:/^[dlmjvs]/i,short:/^(do|lu|ma|mi|ju|vi|s[a])/i,abbreviated:/^(dom|lun|mar|mi[e]|jue|vie|s[a]b)/i,wide:/^(domingo|lunes|martes|mi[e]rcoles|jueves|viernes|s[a]bado)/i},L8={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^j/i,/^v/i,/^s/i],any:[/^do/i,/^lu/i,/^ma/i,/^mi/i,/^ju/i,/^vi/i,/^sa/i]},z8={narrow:/^(a|p|mn|md|(de la|a las) (maana|tarde|noche))/i,any:/^([ap]\.?\s?m\.?|medianoche|mediodia|(de la|a las) (maana|tarde|noche))/i},F8={any:{am:/^a/i,pm:/^p/i,midnight:/^mn/i,noon:/^md/i,morning:/maana/i,afternoon:/tarde/i,evening:/tarde/i,night:/noche/i}},U8={ordinalNumber:jw({matchPattern:T8,parsePattern:P8,valueCallback:function(e){return parseInt(e,10)}}),era:rr({matchPatterns:D8,defaultMatchWidth:"wide",parsePatterns:O8,defaultParseWidth:"any"}),quarter:rr({matchPatterns:$8,defaultMatchWidth:"wide",parsePatterns:M8,defaultParseWidth:"any",valueCallback:e=>e+1}),month:rr({matchPatterns:A8,defaultMatchWidth:"wide",parsePatterns:R8,defaultParseWidth:"any"}),day:rr({matchPatterns:I8,defaultMatchWidth:"wide",parsePatterns:L8,defaultParseWidth:"any"}),dayPeriod:rr({matchPatterns:z8,defaultMatchWidth:"any",parsePatterns:F8,defaultParseWidth:"any"})},Ke={code:"es",formatDistance:h8,formatLong:v8,formatRelative:w8,localize:C8,match:U8,options:{weekStartsOn:1,firstWeekContainsDate:1}},W8={es:Ke,gl:Ke},H8=gh({format:Z,parse:_h,startOfWeek:()=>Yt(new Date,{locale:Ke}),getDay:xh,locales:W8}),B8=()=>{var x;const[e,t]=E.useState([]),[r,n]=E.useState(!0),[s,a]=E.useState(null),[i,l]=E.useState(null),[c,u]=E.useState(!1),{language:d}=ie(),{user:f}=Kt();E.useEffect(()=>{h()},[f]);const h=async()=>{if(f)try{n(!0),a(null);const{data:g}=await U.from("properties").select("id").eq("owner_id",f.id),y=(g==null?void 0:g.map(S=>S.id))||[],{data:b,error:j}=await U.from("reservations").select("*, properties(name)").in("property_id",y).in("status",["confirmed","completed"]);if(j)throw j;const N=(b||[]).map(S=>{var k;const _=((k=S.properties)==null?void 0:k.name)||"Propiedad";return{title:`${S.guest_name} - ${_}`,start:new Date(S.check_in),end:new Date(S.check_out),resource:{source:S.source||"manual",propertyName:_,reservationData:S}}});t(N)}catch(g){console.error("Error fetching reservations:",g),a("No se pudieron cargar las reservas.")}finally{n(!1)}},p=g=>{var N;const y=((N=g.resource)==null?void 0:N.source)||"";let b="#10B981";const j=y.toLowerCase();return j==="airbnb"||j.includes("airbnb")?b="#FF5A5F":j==="booking"||j.includes("booking")?b="#003580":j==="vrbo"||j.includes("vrbo")?b="#1C4FA2":(j==="manual"||j.includes("manual"))&&(b="#10B981"),{style:{backgroundColor:b,borderRadius:"6px",opacity:.95,color:"white",border:"0px",display:"block",fontWeight:"500",fontSize:"13px"}}},v=g=>{l(g.resource.reservationData),u(!0)},m=()=>{u(!1),l(null)},w=E.useMemo(()=>({allDay:d==="es"?"Todo el da":"Todo o da",previous:"Anterior",next:d==="es"?"Siguiente":"Seguinte",today:d==="es"?"Hoy":"Hoxe",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",date:d==="es"?"Fecha":"Data",time:"Hora",event:"Evento",noEventsInRange:d==="es"?"No hay reservas en este rango":"Non hai reservas neste rango",showMore:g=>`+ ${g} ${d==="es"?"ms":"mis"}`}),[d]);return r?o.jsx("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),o.jsx("div",{className:"h-96 bg-gray-200 rounded"})]})}):s?o.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6 text-center",children:[o.jsx("p",{className:"text-red-600 mb-4",children:s}),o.jsx("button",{onClick:h,className:"px-6 py-2 bg-atlantic-blue text-white rounded-lg hover:bg-atlantic-blue/90 transition-colors",children:"Reintentar"})]}):o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"bg-white rounded-xl border border-gray-100 shadow-sm p-6",children:[o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{children:[o.jsx("h2",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Calendario de reservas"}),o.jsxs("div",{className:"flex items-center gap-4 text-sm flex-wrap",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#FF5A5F"}}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Airbnb"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#003580"}}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Booking"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#1C4FA2"}}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Vrbo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 rounded",style:{backgroundColor:"#10B981"}}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Manual"})]})]})]})}),o.jsx("div",{className:"calendar-container",style:{height:"600px"},children:o.jsx(ph,{localizer:H8,events:e,startAccessor:"start",endAccessor:"end",style:{height:"100%"},eventPropGetter:p,messages:w,culture:d,onSelectEvent:v})})]}),c&&i&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h3",{className:"text-2xl font-bold text-atlantic-blue",children:d==="es"?"Detalles de Reserva":"Detalles da Reserva"}),o.jsx("button",{onClick:m,className:"p-2 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx(_t,{size:24,className:"text-gray-600"})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(gt,{className:"text-atlantic-blue flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:d==="es"?"Husped":"Hspede"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.guest_name}),i.guest_email&&o.jsx("p",{className:"text-sm text-gray-600",children:i.guest_email})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(pt,{className:"text-atlantic-blue flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:d==="es"?"Propiedad":"Propiedade"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:(x=i.properties)==null?void 0:x.name})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ee,{className:"text-atlantic-blue flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:d==="es"?"Fechas":"Datas"}),o.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[Z(new Date(i.check_in),"dd/MM/yyyy",{locale:Ke})," - ",Z(new Date(i.check_out),"dd/MM/yyyy",{locale:Ke})]}),o.jsxs("p",{className:"text-sm text-gray-600",children:[i.nights," ",d==="es"?"noches":"noites"]})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(kf,{className:"text-atlantic-blue flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Plataforma"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.source})]})]}),o.jsxs("div",{className:"flex items-start gap-3",children:[o.jsx(Ll,{className:"text-atlantic-blue flex-shrink-0 mt-1",size:20}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Estado"}),o.jsx("p",{className:"text-lg font-semibold text-gray-900",children:i.status==="confirmed"?"Confirmada":"Completada"})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsxs("div",{className:"flex justify-between items-center",children:[o.jsx("p",{className:"text-lg font-medium text-gray-700",children:"Total"}),o.jsxs("p",{className:"text-2xl font-bold text-atlantic-blue",children:[i.total_amount.toFixed(2),""]})]})})]}),o.jsx("div",{className:"px-6 pb-6",children:o.jsx("button",{onClick:m,className:"w-full py-3 bg-atlantic-blue text-white font-semibold rounded-lg hover:bg-atlantic-blue/90 transition-colors",children:d==="es"?"Cerrar":"Pechar"})})]})})]})},q8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState({occupancyRate:0,totalReservations:0,monthlyRevenue:0,properties:0,occupancyTrend:0,reservationsTrend:0,revenueTrend:0}),[s,a]=E.useState(!0),l={es:{occupancyRate:"Tasa de ocupacin",totalReservations:"Reservas este mes",monthlyRevenue:"Ingresos este mes",properties:"Propiedades activas",vsLastMonth:"vs mes anterior",occupancyTooltip:"Porcentaje de das ocupados en el mes actual",reservationsTooltip:"Total de reservas confirmadas este mes",revenueTooltip:"Ingresos totales generados este mes",propertiesTooltip:"Nmero de propiedades activas"},gl:{occupancyRate:"Taxa de ocupacin",totalReservations:"Reservas este mes",monthlyRevenue:"Ingresos este mes",properties:"Propiedades activas",vsLastMonth:"vs mes anterior",occupancyTooltip:"Porcentaxe de das ocupados no mes actual",reservationsTooltip:"Total de reservas confirmadas este mes",revenueTooltip:"Ingresos totais xerados este mes",propertiesTooltip:"Nmero de propiedades activas"}}[t];E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:d}=await U.from("properties").select("id").eq("owner_id",e.id).eq("status","active"),f=(d==null?void 0:d.map(B=>B.id))||[];if(f.length===0){n({occupancyRate:0,totalReservations:0,monthlyRevenue:0,properties:0,occupancyTrend:0,reservationsTrend:0,revenueTrend:0}),a(!1);return}const h=new Date().getMonth(),p=new Date().getFullYear(),v=new Date(p,h,1).toISOString(),m=new Date(p,h+1,0,23,59,59).toISOString(),w=new Date().getMonth()-1,x=w<0?p-1:p,g=new Date(x,w<0?11:w,1).toISOString(),y=new Date(p,h,0,23,59,59).toISOString(),{data:b}=await U.from("reservations").select("*").in("property_id",f).gte("check_in",v).lte("check_in",m),{data:j}=await U.from("reservations").select("id").in("property_id",f).gte("check_in",g).lte("check_in",y),N=(b==null?void 0:b.reduce((B,W)=>B+(Number(W.total_amount)||0),0))||0,{data:S}=await U.from("reservations").select("total_amount").in("property_id",f).gte("check_in",g).lte("check_in",y),_=(S==null?void 0:S.reduce((B,W)=>B+(Number(W.total_amount)||0),0))||0,C=new Date(p,h+1,0).getDate()*f.length,O=(b==null?void 0:b.reduce((B,W)=>B+(W.nights||0),0))||0,A=C>0?O/C*100:0,P=_>0?(N-_)/_*100:0,$=((j==null?void 0:j.length)||0)>0?(((b==null?void 0:b.length)||0)-((j==null?void 0:j.length)||0))/((j==null?void 0:j.length)||0)*100:0;n({occupancyRate:Math.round(A*10)/10,totalReservations:(b==null?void 0:b.length)||0,monthlyRevenue:N,properties:f.length,occupancyTrend:0,reservationsTrend:Math.round($*10)/10,revenueTrend:Math.round(P*10)/10})}catch(d){console.error("Error fetching stats:",d)}finally{a(!1)}};if(s)return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[1,2,3,4].map(d=>o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-4 bg-gray-200 rounded w-1/2 mb-4"}),o.jsx("div",{className:"h-10 bg-gray-200 rounded w-3/4 mb-3"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/3"})]})},d))});const u=[{icon:Ja,label:l.occupancyRate,value:`${r.occupancyRate}%`,trend:r.occupancyTrend,color:"text-blue-600",bgColor:"bg-blue-50",tooltip:l.occupancyTooltip,isPrimary:!0},{icon:Ee,label:l.totalReservations,value:r.totalReservations.toString(),trend:r.reservationsTrend,color:"text-emerald-600",bgColor:"bg-emerald-50",tooltip:l.reservationsTooltip},{icon:Vt,label:l.monthlyRevenue,value:`${r.monthlyRevenue.toLocaleString("es-ES",{minimumFractionDigits:0,maximumFractionDigits:0})}`,trend:r.revenueTrend,color:"text-teal-600",bgColor:"bg-teal-50",tooltip:l.revenueTooltip},{icon:pt,label:l.properties,value:r.properties.toString(),trend:0,color:"text-slate-600",bgColor:"bg-slate-50",tooltip:l.propertiesTooltip}];return o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:u.map((d,f)=>{const h=d.icon,p=d.trend>0?Ja:Z2;return o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm hover:shadow-md transition-all duration-300 group relative",title:d.tooltip,children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsx("p",{className:"text-sm font-medium text-gray-500 uppercase tracking-wide",children:d.label}),o.jsx("div",{className:`${d.bgColor} ${d.color} w-10 h-10 rounded-lg flex items-center justify-center transition-transform duration-300 group-hover:scale-110`,children:o.jsx(h,{size:20,strokeWidth:2.5})})]}),o.jsx("div",{className:"mb-3",children:o.jsx("p",{className:`${d.isPrimary?"text-5xl":"text-4xl"} font-bold text-gray-900 tracking-tight`,children:d.value})}),d.trend!==0&&o.jsxs("div",{className:"flex items-center gap-1",children:[o.jsx(p,{size:14,className:d.trend>0?"text-emerald-500":"text-red-500"}),o.jsxs("span",{className:`text-xs font-semibold ${d.trend>0?"text-emerald-600":"text-red-600"}`,children:[Math.abs(d.trend),"%"]}),o.jsx("span",{className:"text-xs text-gray-500 ml-1",children:l.vsLastMonth})]})]},f)})})},V8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),l={es:{myProperties:"Mis propiedades",active:"Activa",maintenance:"Mantenimiento",inactive:"Inactiva",noProperties:"No tienes propiedades an",contactAdmin:"Contacta con Galquiler para aadir tu primera propiedad",viewProperty:"Ver propiedad",addProperty:"Aadir propiedad",capacity:"Capacidad",guests:"huspedes"},gl:{myProperties:"Mias propiedades",active:"Activa",maintenance:"Mantemento",inactive:"Inactiva",noProperties:"Non tes propiedades anda",contactAdmin:"Contacta con Galquiler para engadir a ta primeira propiedade",viewProperty:"Ver propiedade",addProperty:"Engadir propiedade",capacity:"Capacidade",guests:"hspedes"}}[t];E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:f,error:h}=await U.from("properties").select("*").eq("owner_id",e.id).order("created_at",{ascending:!1});if(h)throw h;n(f||[])}catch(f){console.error("Error fetching properties:",f)}finally{a(!1)}},u={active:"bg-emerald-500/90 text-white",maintenance:"bg-amber-500/90 text-white",inactive:"bg-gray-500/90 text-white"},d={active:l.active,maintenance:l.maintenance,inactive:l.inactive};return s?o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/4"}),o.jsx("div",{className:"h-10 bg-gray-200 rounded w-32"})]}),o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[1,2,3].map(f=>o.jsx("div",{className:"h-80 bg-gray-200 rounded-xl"},f))})]})}):o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.myProperties}),o.jsxs("button",{className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium text-sm",children:[o.jsx(zl,{size:18}),l.addProperty]})]}),r.length===0?o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"bg-gray-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(pt,{className:"text-gray-400",size:40})}),o.jsx("p",{className:"text-gray-600 text-lg mb-2 font-medium",children:l.noProperties}),o.jsx("p",{className:"text-gray-500 text-sm",children:l.contactAdmin})]}):o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.map(f=>o.jsxs("div",{className:"group border border-gray-200 rounded-xl overflow-hidden hover:border-blue-300 hover:shadow-lg transition-all duration-300 cursor-pointer bg-white",children:[o.jsxs("div",{className:"relative overflow-hidden",children:[o.jsx("img",{src:f.image_url||"https://images.pexels.com/photos/1457842/pexels-photo-1457842.jpeg?auto=compress&cs=tinysrgb&w=800",alt:f.name,className:"w-full h-52 object-cover transition-transform duration-500 group-hover:scale-110"}),o.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),o.jsx("div",{className:"absolute top-3 right-3",children:o.jsx("span",{className:`px-3 py-1.5 rounded-lg text-xs font-semibold backdrop-blur-sm ${u[f.status]} shadow-sm`,children:d[f.status]})})]}),o.jsxs("div",{className:"p-5",children:[o.jsx("h4",{className:"text-lg font-bold text-gray-900 mb-2 group-hover:text-blue-600 transition-colors",children:f.name}),o.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-gray-600 mb-3",children:[o.jsx(jr,{size:16,className:"text-gray-400"}),o.jsx("span",{children:f.location})]}),f.description&&o.jsx("p",{className:"text-sm text-gray-600 line-clamp-2 mb-4",children:f.description}),o.jsx("div",{className:"flex items-center justify-between pt-4 border-t border-gray-100",children:o.jsxs("button",{className:"text-sm font-semibold text-blue-600 hover:text-blue-700 transition-colors",children:[l.viewProperty," "]})})]})]},f.id))})]})},G8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),l={es:{recentReviews:"ltimas valoraciones",noReviews:"No hay valoraciones an",ago:"hace",averageRating:"Promedio"},gl:{recentReviews:"ltimas valoracins",noReviews:"Non hai valoracins anda",ago:"fai",averageRating:"Promedio"}}[t];E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:d}=await U.from("properties").select("id").eq("owner_id",e.id),f=(d==null?void 0:d.map(v=>v.id))||[],{data:h,error:p}=await U.from("reviews").select("*, properties(name)").in("property_id",f).order("review_date",{ascending:!1}).limit(5);if(p)throw p;n(h||[])}catch(d){console.error("Error fetching reviews:",d)}finally{a(!1)}},u=r.length>0?(r.reduce((d,f)=>d+f.rating,0)/r.length).toFixed(1):0;return s?o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(d=>o.jsx("div",{className:"h-28 bg-gray-200 rounded-xl"},d))})]})}):o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:l.recentReviews}),r.length>0&&o.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 bg-amber-50 rounded-lg border border-amber-200",children:[o.jsx(Pa,{className:"text-amber-500 fill-current",size:16}),o.jsx("span",{className:"text-sm font-bold text-amber-700",children:u})]})]}),r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Pa,{className:"text-gray-400",size:32})}),o.jsx("p",{className:"text-gray-500",children:l.noReviews})]}):o.jsx("div",{className:"space-y-3",children:r.map(d=>{var f;return o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-blue-300 hover:shadow-md transition-all duration-300 group relative",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx("p",{className:"font-bold text-gray-900",children:d.guest_name}),o.jsx("div",{className:"flex items-center gap-0.5",children:[...Array(5)].map((h,p)=>o.jsx(Pa,{className:p<d.rating?"text-amber-400 fill-current":"text-gray-300",size:14},p))})]}),o.jsx("p",{className:"text-xs text-gray-500 font-medium",children:(f=d.properties)==null?void 0:f.name})]}),d.platform&&o.jsx("span",{className:"text-xs px-2 py-1 bg-gray-100 text-gray-600 rounded-md font-medium",children:d.platform})]}),d.comment&&o.jsxs("div",{className:"relative mb-3",children:[o.jsx(X2,{className:"absolute -top-1 -left-1 text-blue-100",size:24}),o.jsxs("p",{className:"text-sm text-gray-700 leading-relaxed pl-5",children:['"',d.comment,'"']})]}),o.jsx("p",{className:"text-xs text-gray-500",children:mF(new Date(d.review_date),{addSuffix:!0,locale:Ke})})]},d.id)})})]})},Y8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),l={es:{upcomingReservations:"Prximas reservas",nights:"noches",night:"noche",noReservations:"No hay reservas prximas",confirmed:"Confirmada",checkInSoon:"Entrada prxima",daysUntil:"das",tomorrow:"Maana",today:"Hoy"},gl:{upcomingReservations:"Prximas reservas",nights:"noites",night:"noite",noReservations:"Non hai reservas prximas",confirmed:"Confirmada",checkInSoon:"Entrada prxima",daysUntil:"das",tomorrow:"Ma",today:"Hoxe"}}[t];E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:p}=await U.from("properties").select("id").eq("owner_id",e.id),v=(p==null?void 0:p.map(g=>g.id))||[],m=new Date().toISOString().split("T")[0],{data:w,error:x}=await U.from("reservations").select("*, properties(name)").in("property_id",v).eq("status","confirmed").gte("check_in",m).order("check_in",{ascending:!0}).limit(5);if(x)throw x;n(w||[])}catch(p){console.error("Error fetching reservations:",p)}finally{a(!1)}},u={airbnb:"",booking:"",vrbo:"",manual:""},d={airbnb:"bg-red-50 text-red-700 border-red-200",booking:"bg-blue-50 text-blue-700 border-blue-200",vrbo:"bg-sky-50 text-sky-700 border-sky-200",manual:"bg-emerald-50 text-emerald-700 border-emerald-200"},f=p=>{if(!p)return"manual";const v=p.toLowerCase();return v.includes("airbnb")?"airbnb":v.includes("booking")?"booking":v.includes("vrbo")?"vrbo":"manual"};if(s)return o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),o.jsx("div",{className:"space-y-4",children:[1,2,3].map(p=>o.jsx("div",{className:"h-28 bg-gray-200 rounded-xl"},p))})]})});const h=p=>{const v=Ag(new Date(p),new Date);return v===0?l.today:v===1?l.tomorrow:`${v} ${l.daysUntil}`};return o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:l.upcomingReservations}),r.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx(Ee,{className:"text-gray-300 mx-auto mb-3",size:48}),o.jsx("p",{className:"text-gray-500",children:l.noReservations})]}):o.jsx("div",{className:"space-y-3",children:r.map(p=>{var y;const v=Ag(new Date(p.check_in),new Date),m=f(p.source),w=p.source||"Manual",x=d[m]||d.manual,g=u[m]||u.manual;return o.jsxs("div",{className:"border border-gray-200 rounded-xl p-4 hover:border-blue-300 hover:shadow-md transition-all duration-300 group cursor-pointer",children:[o.jsxs("div",{className:"flex items-start justify-between mb-3",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 w-11 h-11 rounded-xl flex items-center justify-center shadow-sm group-hover:scale-110 transition-transform duration-300",children:o.jsx(Si,{className:"text-white",size:20,strokeWidth:2.5})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("p",{className:"font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:p.guest_name||"Husped"}),o.jsx("p",{className:"text-xs text-gray-500 font-medium",children:(y=p.properties)==null?void 0:y.name})]})]}),o.jsx("div",{className:"flex flex-col items-end gap-1",children:o.jsxs("span",{className:`text-xs px-2.5 py-1 rounded-lg font-semibold border ${x}`,children:[g," ",w.charAt(0).toUpperCase()+w.slice(1)]})})]}),o.jsxs("div",{className:"flex items-center justify-between pt-3 border-t border-gray-100",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{size:14,className:"text-gray-400"}),o.jsxs("span",{className:"text-sm text-gray-700 font-medium",children:[Z(new Date(p.check_in),"d MMM",{locale:Ke})," -"," ",Z(new Date(p.check_out),"d MMM",{locale:Ke})]})]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsxs("span",{className:"text-xs font-semibold text-gray-600",children:[p.nights," ",p.nights===1?l.night:l.nights]}),v<=3?o.jsxs("span",{className:"flex items-center gap-1 text-xs px-2.5 py-1 bg-amber-50 text-amber-700 rounded-lg font-semibold border border-amber-200",children:[o.jsx(Ll,{size:12}),h(p.check_in)]}):o.jsxs("span",{className:"flex items-center gap-1 text-xs px-2.5 py-1 bg-emerald-50 text-emerald-700 rounded-lg font-semibold border border-emerald-200",children:[o.jsx(I2,{size:12}),l.confirmed]})]})]})]},p.id)})})]})},K8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),l={es:{title:"Ingresos y ocupacin",subtitle:"ltimos 6 meses",revenue:"Ingresos",occupancy:"Ocupacin",noData:"No hay datos de ingresos disponibles",months:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"]},gl:{title:"Ingresos e ocupacin",subtitle:"ltimos 6 meses",revenue:"Ingresos",occupancy:"Ocupacin",noData:"Non hai datos de ingresos dispoibles",months:["Xan","Feb","Mar","Abr","Mai","Xu","Xul","Ago","Set","Out","Nov","Dec"]}}[t];E.useEffect(()=>{c()},[e]);const c=async()=>{if(e)try{const{data:f}=await U.from("properties").select("id").eq("owner_id",e.id),h=(f==null?void 0:f.map(y=>y.id))||[];if(h.length===0){a(!1);return}const p=new Date().getFullYear(),v=new Date(p,0,1).toISOString(),{data:m}=await U.from("reservations").select("total_amount, check_out").in("property_id",h).eq("status","completed").gte("check_out",v),w={};for(let y=0;y<12;y++)w[y]=0;m==null||m.forEach(y=>{const j=new Date(y.check_out).getMonth();w[j]+=Number(y.total_amount)||0});const x=new Date().getMonth(),g=[];for(let y=5;y>=0;y--){const b=(x-y+12)%12;g.push({month:l.months[b],revenue:w[b]||0})}n(g)}catch(f){console.error("Error fetching revenue data:",f)}finally{a(!1)}};if(s)return o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm",children:o.jsxs("div",{className:"animate-pulse space-y-4",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/3 mb-2"}),o.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/4 mb-6"}),o.jsx("div",{className:"h-72 bg-gray-200 rounded"})]})});const u=Math.max(...r.map(f=>f.revenue),1),d=r.some(f=>f.revenue>0);return o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm h-full",children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1",children:l.title}),o.jsx("p",{className:"text-sm text-gray-500",children:l.subtitle})]}),d?o.jsxs("div",{className:"relative",children:[o.jsx("div",{className:"flex items-end justify-between h-64 gap-3 px-2",children:r.map((f,h)=>{const p=f.revenue/u*100,v=h===r.length-1;return o.jsxs("div",{className:"flex-1 flex flex-col items-center gap-3",children:[o.jsxs("div",{className:"w-full flex flex-col items-center justify-end h-full relative group",children:[o.jsxs("div",{className:"absolute -top-12 opacity-0 group-hover:opacity-100 transition-all duration-200 bg-gray-900 text-white text-xs py-2 px-3 rounded-lg shadow-lg z-10 whitespace-nowrap",children:[o.jsxs("div",{className:"font-semibold",children:["",f.revenue.toLocaleString("es-ES")]}),o.jsx("div",{className:"text-gray-300 text-xs",children:f.month}),o.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2 w-2 h-2 bg-gray-900 rotate-45"})]}),o.jsx("div",{className:`w-full rounded-t-xl transition-all duration-500 shadow-sm hover:shadow-md ${v?"bg-gradient-to-t from-blue-600 to-blue-500":"bg-gradient-to-t from-teal-500 to-teal-400 hover:from-blue-600 hover:to-blue-500"}`,style:{height:`${Math.max(p,f.revenue>0?5:0)}%`,minHeight:f.revenue>0?"12px":"0"}})]}),o.jsx("span",{className:`text-xs font-medium ${v?"text-blue-600":"text-gray-600"}`,children:f.month})]},h)})}),o.jsx("div",{className:"mt-8 pt-4 border-t border-gray-100",children:o.jsxs("div",{className:"flex items-center justify-center gap-6 text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-br from-blue-600 to-blue-500 rounded"}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Mes actual"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-3 h-3 bg-gradient-to-br from-teal-500 to-teal-400 rounded"}),o.jsx("span",{className:"text-gray-600 font-medium",children:"Meses anteriores"})]})]})})]}):o.jsxs("div",{className:"text-center py-16",children:[o.jsx("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4",children:o.jsx(Vt,{className:"text-gray-400",size:32})}),o.jsx("p",{className:"text-gray-500",children:l.noData})]})]})},X8=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),l={es:{title:"Canales de reserva",total:"Total",noData:"Sin datos de reservas"},gl:{title:"Canles de reserva",total:"Total",noData:"Sen datos de reservas"}}[t],c={Airbnb:"#FF5A5F",Booking:"#003580",Vrbo:"#1C4FA2",Manual:"#10B981",other:"#6B7280"};E.useEffect(()=>{u()},[e]);const u=async()=>{if(e)try{const{data:f}=await U.from("properties").select("id").eq("owner_id",e.id),h=(f==null?void 0:f.map(w=>w.id))||[];if(h.length===0){a(!1);return}const{data:p}=await U.from("reservations").select("source").in("property_id",h).eq("status","confirmed"),v={};p==null||p.forEach(w=>{const x=w.source||"Manual";v[x]=(v[x]||0)+1});const m=Object.entries(v).map(([w,x])=>({name:w,count:x,color:c[w]||c.other}));n(m)}catch(f){console.error("Error fetching sources:",f)}finally{a(!1)}},d=r.reduce((f,h)=>f+h.count,0);return s?o.jsx("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm h-full",children:o.jsxs("div",{className:"animate-pulse",children:[o.jsx("div",{className:"h-6 bg-gray-200 rounded w-1/2 mb-6"}),o.jsx("div",{className:"flex items-center justify-center mb-6",children:o.jsx("div",{className:"w-48 h-48 bg-gray-200 rounded-full"})}),o.jsx("div",{className:"space-y-3",children:[1,2,3].map(f=>o.jsx("div",{className:"h-4 bg-gray-200 rounded"},f))})]})}):o.jsxs("div",{className:"bg-white p-6 rounded-xl border border-gray-100 shadow-sm h-full",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-6",children:l.title}),r.length===0?o.jsx("div",{className:"flex items-center justify-center h-64 text-gray-400",children:o.jsx("p",{children:l.noData})}):o.jsxs("div",{children:[o.jsx("div",{className:"flex items-center justify-center mb-8",children:o.jsxs("div",{className:"relative w-48 h-48",children:[o.jsx("svg",{viewBox:"0 0 200 200",className:"transform -rotate-90",children:r.reduce((f,h,p)=>{const v=h.count/d*100,m=2*Math.PI*70,w=f.offset,x=`${v/100*m} ${m}`;return f.segments.push(o.jsx("circle",{cx:"100",cy:"100",r:"70",fill:"none",stroke:h.color,strokeWidth:"28",strokeDasharray:x,strokeDashoffset:-w,className:"transition-all duration-500"},p)),f.offset+=v/100*m,f},{segments:[],offset:0}).segments}),o.jsxs("div",{className:"absolute inset-0 flex flex-col items-center justify-center",children:[o.jsx("p",{className:"text-3xl font-bold text-gray-900",children:d}),o.jsx("p",{className:"text-sm text-gray-500",children:l.total})]})]})}),o.jsx("div",{className:"space-y-3",children:r.map((f,h)=>{const p=(f.count/d*100).toFixed(1);return o.jsxs("div",{className:"flex items-center justify-between group",children:[o.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[o.jsx("div",{className:"w-3 h-3 rounded-full transition-transform duration-300 group-hover:scale-125",style:{backgroundColor:f.color}}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.name})]}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsx("div",{className:"flex-1 h-2 bg-gray-100 rounded-full overflow-hidden w-24",children:o.jsx("div",{className:"h-full rounded-full transition-all duration-500",style:{backgroundColor:f.color,width:`${p}%`}})}),o.jsx("span",{className:"text-sm font-semibold text-gray-900 w-12 text-right",children:f.count}),o.jsxs("span",{className:"text-xs text-gray-500 w-12 text-right",children:[p,"%"]})]})]},h)})})]})]})},Q8=()=>{const{language:e}=ie(),[t,r]=E.useState([]),[n,s]=E.useState(!0),[a,i]=E.useState(""),[l,c]=E.useState(null),d={es:{title:"Gestin de Usuarios",search:"Buscar usuarios...",email:"Email",name:"Nombre",phone:"Telfono",role:"Rol",createdAt:"Fecha de registro",admin:"Administrador",user:"Usuario",makeAdmin:"Hacer Admin",makeUser:"Hacer Usuario",noUsers:"No se encontraron usuarios",confirmTitle:"Confirmar cambio de rol?",confirmMakeAdmin:"Ests seguro de que quieres hacer administrador a",confirmMakeUser:"Ests seguro de que quieres quitar los permisos de administrador a",warningAdmin:"Esta persona tendr acceso completo al panel de administracin.",warningUser:"Esta persona perder acceso al panel de administracin.",cancel:"Cancelar",confirm:"Confirmar"},gl:{title:"Xestin de Usuarios",search:"Buscar usuarios...",email:"Email",name:"Nome",phone:"Telfono",role:"Rol",createdAt:"Data de rexistro",admin:"Administrador",user:"Usuario",makeAdmin:"Facer Admin",makeUser:"Facer Usuario",noUsers:"Non se atoparon usuarios",confirmTitle:"Confirmar cambio de rol?",confirmMakeAdmin:"Ests seguro de que queres facer administrador a",confirmMakeUser:"Ests seguro de que queres quitar os permisos de administrador a",warningAdmin:"Esta persoa ter acceso completo ao panel de administracin.",warningUser:"Esta persoa perder acceso ao panel de administracin.",cancel:"Cancelar",confirm:"Confirmar"}}[e];E.useEffect(()=>{f()},[]);const f=async()=>{try{const{data:m,error:w}=await U.from("profiles").select("*").order("created_at",{ascending:!1});if(w)throw w;r(m||[])}catch(m){console.error("Error fetching profiles:",m)}finally{s(!1)}},h=async(m,w)=>{const x=w==="admin"?"user":"admin";try{const{error:g}=await U.from("profiles").update({role:x}).eq("id",m);if(g)throw g;f(),c(null)}catch(g){console.error("Error updating role:",g)}},p=(m,w,x)=>{c({userId:m,currentRole:w,userName:x})},v=t.filter(m=>{var w;return m.email.toLowerCase().includes(a.toLowerCase())||((w=m.full_name)==null?void 0:w.toLowerCase().includes(a.toLowerCase()))});return n?o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-atlantic-blue"})}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:d.title}),o.jsxs("div",{className:"relative",children:[o.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-gray",size:20}),o.jsx("input",{type:"text",placeholder:d.search,value:a,onChange:m=>i(m.target.value),className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]})]}),v.length===0?o.jsx("div",{className:"text-center py-12 text-neutral-gray",children:d.noUsers}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:d.email}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:d.name}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:d.phone}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:d.role}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:d.createdAt}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:"Acciones"})]})}),o.jsx("tbody",{children:v.map(m=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(ji,{size:16,className:"text-neutral-gray"}),m.email]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{size:16,className:"text-neutral-gray"}),m.full_name||"-"]})}),o.jsx("td",{className:"py-4 px-4",children:m.phone||"-"}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("span",{className:`inline-flex items-center gap-1 px-3 py-1 rounded-full text-sm font-medium ${m.role==="admin"?"bg-atlantic-blue text-white":"bg-gray-100 text-neutral-gray"}`,children:[o.jsx(nl,{size:14}),m.role==="admin"?d.admin:d.user]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{size:16,className:"text-neutral-gray"}),new Date(m.created_at).toLocaleDateString()]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("button",{onClick:()=>p(m.id,m.role,m.full_name||m.email),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${m.role==="admin"?"bg-gray-100 text-neutral-gray hover:bg-gray-200":"bg-soft-mint text-atlantic-blue hover:bg-atlantic-blue hover:text-white"}`,children:m.role==="admin"?d.makeUser:d.makeAdmin})})]},m.id))})]})}),l&&o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"bg-yellow-50 border-b border-yellow-100 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-yellow-100 p-2 rounded-full",children:o.jsx(Qa,{className:"text-yellow-600",size:24})}),o.jsx("h2",{className:"text-xl font-bold text-neutral-gray",children:d.confirmTitle})]}),o.jsx("button",{onClick:()=>c(null),className:"text-neutral-gray hover:text-atlantic-blue transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsxs("p",{className:"text-neutral-gray text-lg",children:[l.currentRole==="admin"?d.confirmMakeUser:d.confirmMakeAdmin," ",o.jsx("span",{className:"font-semibold text-atlantic-blue",children:l.userName}),"?"]}),o.jsx("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:o.jsx("p",{className:"text-sm text-yellow-800 font-medium",children:l.currentRole==="admin"?d.warningUser:d.warningAdmin})})]}),o.jsxs("div",{className:"flex gap-3 p-6 pt-0",children:[o.jsx("button",{onClick:()=>c(null),className:"flex-1 px-6 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:d.cancel}),o.jsx("button",{onClick:()=>h(l.userId,l.currentRole),className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium",children:d.confirm})]})]})})]})},J8=({isOpen:e,onClose:t,onSuccess:r})=>{const{language:n}=ie(),[s,a]=E.useState([]),[i,l]=E.useState(!1),[c,u]=E.useState(!1),[d,f]=E.useState(null),[h,p]=E.useState(null),[v,m]=E.useState({owner_id:"",name:"",description:"",location:"",address:"",status:"active",commission_percentage:10,custom_commission:"",is_custom:!1}),x={es:{title:"Aadir Nueva Propiedad",owner:"Propietario",selectOwner:"Seleccionar propietario",propertyName:"Nombre de la propiedad",description:"Descripcin",location:"Ubicacin",address:"Direccin completa",status:"Estado",active:"Activa",maintenance:"Mantenimiento",inactive:"Inactiva",commission:"Comisin Galquiler",custom:"Personalizado",image:"Imagen",selectImage:"Seleccionar imagen",cancel:"Cancelar",create:"Crear Propiedad",creating:"Creando...",required:"Campo requerido"},gl:{title:"Engadir Nova Propiedade",owner:"Propietario",selectOwner:"Seleccionar propietario",propertyName:"Nome da propiedade",description:"Descricin",location:"Ubicacin",address:"Direccin completa",status:"Estado",active:"Activa",maintenance:"Mantemento",inactive:"Inactiva",commission:"Comisin Galquiler",custom:"Personalizado",image:"Imaxe",selectImage:"Seleccionar imaxe",cancel:"Cancelar",create:"Crear Propiedade",creating:"Creando...",required:"Campo requirido"}}[n];E.useEffect(()=>{e&&g()},[e]);const g=async()=>{try{const{data:S,error:_}=await U.from("profiles").select("id, email, full_name").order("email");if(_)throw _;a(S||[])}catch(S){console.error("Error fetching profiles:",S)}},y=S=>{var k;const _=(k=S.target.files)==null?void 0:k[0];if(_){f(_);const C=new FileReader;C.onloadend=()=>{p(C.result)},C.readAsDataURL(_)}},b=async S=>{if(!d)return null;u(!0);try{const _=d.name.split(".").pop(),k=`${S}/${Date.now()}.${_}`,{error:C}=await U.storage.from("property-images").upload(k,d);if(C)throw C;const{data:{publicUrl:O}}=U.storage.from("property-images").getPublicUrl(k);return O}catch(_){return console.error("Error uploading image:",_),null}finally{u(!1)}},j=async S=>{if(S.preventDefault(),!v.owner_id||!v.name||!v.location){alert(x.required);return}l(!0);try{const{data:_,error:k}=await U.from("properties").insert([{owner_id:v.owner_id,name:v.name,description:v.description||null,location:v.location,address:v.address||null,status:v.status,commission_percentage:v.commission_percentage}]).select().single();if(k)throw k;if(d&&_){const C=await b(_.id);C&&await U.from("properties").update({image_url:C}).eq("id",_.id)}r(),N()}catch(_){console.error("Error creating property:",_),alert("Error al crear la propiedad")}finally{l(!1)}},N=()=>{m({owner_id:"",name:"",description:"",location:"",address:"",status:"active",commission_percentage:10,custom_commission:"",is_custom:!1}),f(null),p(null),t()};return e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:x.title}),o.jsx("button",{onClick:N,className:"text-neutral-gray hover:text-atlantic-blue transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("form",{onSubmit:j,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(gt,{size:16}),x.owner," *"]}),o.jsxs("select",{value:v.owner_id,onChange:S=>m({...v,owner_id:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:x.selectOwner}),s.map(S=>o.jsx("option",{value:S.id,children:S.full_name||S.email},S.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(pt,{size:16}),x.propertyName," *"]}),o.jsx("input",{type:"text",value:v.name,onChange:S=>m({...v,name:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Apartamento Centro Histrico",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Fs,{size:16}),x.description]}),o.jsx("textarea",{value:v.description,onChange:S=>m({...v,description:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",rows:4,placeholder:"Descripcin detallada de la propiedad..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(jr,{size:16}),x.location," *"]}),o.jsx("input",{type:"text",value:v.location,onChange:S=>m({...v,location:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Santiago de Compostela",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(jr,{size:16}),x.address]}),o.jsx("input",{type:"text",value:v.address,onChange:S=>m({...v,address:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Direccin completa de la propiedad"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:x.status}),o.jsxs("select",{value:v.status,onChange:S=>m({...v,status:S.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"active",children:x.active}),o.jsx("option",{value:"maintenance",children:x.maintenance}),o.jsx("option",{value:"inactive",children:x.inactive})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx($0,{size:16}),x.commission]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("select",{value:v.is_custom?"custom":v.commission_percentage.toString(),onChange:S=>{const _=S.target.value;m(_==="custom"?{...v,is_custom:!0,custom_commission:""}:{...v,is_custom:!1,commission_percentage:parseFloat(_),custom_commission:""})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"7",children:"7%"}),o.jsx("option",{value:"10",children:"10%"}),o.jsx("option",{value:"15",children:"15%"}),o.jsx("option",{value:"custom",children:x.custom})]}),v.is_custom&&o.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:v.custom_commission,onChange:S=>{const _=S.target.value;m({...v,custom_commission:_,commission_percentage:parseFloat(_)||0})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ingrese porcentaje personalizado (ej: 12.5)",autoFocus:!0})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(ks,{size:16}),x.image]}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-atlantic-blue transition-colors",children:h?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:h,alt:"Preview",className:"max-h-48 mx-auto rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{f(null),p(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:o.jsx(_t,{size:16})})]}):o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:y,className:"hidden"}),o.jsx(ks,{size:32,className:"mx-auto mb-2 text-neutral-gray"}),o.jsx("p",{className:"text-neutral-gray",children:x.selectImage}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"JPG, PNG, WEBP (max 5MB)"})]})})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:N,className:"flex-1 px-6 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:x.cancel}),o.jsx("button",{type:"submit",disabled:i||c,className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i?x.creating:x.create})]})]})]})}):null},Z8=({isOpen:e,onClose:t,onSuccess:r,property:n})=>{const{language:s}=ie(),[a,i]=E.useState([]),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[f,h]=E.useState(null),[p,v]=E.useState(n.image_url),[m,w]=E.useState({owner_id:n.owner_id,name:n.name,description:n.description||"",location:n.location,address:n.address||"",status:n.status,commission_percentage:n.commission_percentage||10,custom_commission:"",is_custom:!1}),g={es:{title:"Editar Propiedad",owner:"Propietario",selectOwner:"Seleccionar propietario",propertyName:"Nombre de la propiedad",description:"Descripcin",location:"Ubicacin",address:"Direccin completa",status:"Estado",active:"Activa",maintenance:"Mantenimiento",inactive:"Inactiva",commission:"Comisin Galquiler",custom:"Personalizado",image:"Imagen",selectImage:"Seleccionar imagen",cancel:"Cancelar",save:"Guardar Cambios",saving:"Guardando...",required:"Campo requerido"},gl:{title:"Editar Propiedade",owner:"Propietario",selectOwner:"Seleccionar propietario",propertyName:"Nome da propiedade",description:"Descricin",location:"Ubicacin",address:"Direccin completa",status:"Estado",active:"Activa",maintenance:"Mantemento",inactive:"Inactiva",commission:"Comisin Galquiler",custom:"Personalizado",image:"Imaxe",selectImage:"Seleccionar imaxe",cancel:"Cancelar",save:"Gardar Cambios",saving:"Gardando...",required:"Campo requirido"}}[s];E.useEffect(()=>{if(e){y();const _=n.commission_percentage||10,k=_!==7&&_!==10&&_!==15;w({owner_id:n.owner_id,name:n.name,description:n.description||"",location:n.location,address:n.address||"",status:n.status,commission_percentage:_,custom_commission:k?_.toString():"",is_custom:k}),v(n.image_url),h(null)}},[e,n]);const y=async()=>{try{const{data:_,error:k}=await U.from("profiles").select("id, email, full_name").order("email");if(k)throw k;i(_||[])}catch(_){console.error("Error fetching profiles:",_)}},b=_=>{var C;const k=(C=_.target.files)==null?void 0:C[0];if(k){h(k);const O=new FileReader;O.onloadend=()=>{v(O.result)},O.readAsDataURL(k)}},j=async()=>{if(!f)return null;d(!0);try{const _=f.name.split(".").pop(),k=`${n.id}/${Date.now()}.${_}`,{error:C}=await U.storage.from("property-images").upload(k,f);if(C)throw C;const{data:{publicUrl:O}}=U.storage.from("property-images").getPublicUrl(k);return O}catch(_){return console.error("Error uploading image:",_),null}finally{d(!1)}},N=async _=>{if(_.preventDefault(),!m.owner_id||!m.name||!m.location){alert(g.required);return}c(!0);try{let k=n.image_url;if(f){const O=await j();O&&(k=O)}const{error:C}=await U.from("properties").update({owner_id:m.owner_id,name:m.name,description:m.description||null,location:m.location,address:m.address||null,status:m.status,image_url:k,commission_percentage:m.commission_percentage}).eq("id",n.id);if(C)throw C;r(),S()}catch(k){console.error("Error updating property:",k),alert("Error al actualizar la propiedad")}finally{c(!1)}},S=()=>{h(null),t()};return e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:g.title}),o.jsx("button",{onClick:S,className:"text-neutral-gray hover:text-atlantic-blue transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("form",{onSubmit:N,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(gt,{size:16}),g.owner," *"]}),o.jsxs("select",{value:m.owner_id,onChange:_=>w({...m,owner_id:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",required:!0,children:[o.jsx("option",{value:"",children:g.selectOwner}),a.map(_=>o.jsx("option",{value:_.id,children:_.full_name||_.email},_.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(pt,{size:16}),g.propertyName," *"]}),o.jsx("input",{type:"text",value:m.name,onChange:_=>w({...m,name:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Apartamento Centro Histrico",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Fs,{size:16}),g.description]}),o.jsx("textarea",{value:m.description,onChange:_=>w({...m,description:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent resize-none",rows:4,placeholder:"Descripcin detallada de la propiedad..."})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(jr,{size:16}),g.location," *"]}),o.jsx("input",{type:"text",value:m.location,onChange:_=>w({...m,location:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Santiago de Compostela",required:!0})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(jr,{size:16}),g.address]}),o.jsx("input",{type:"text",value:m.address,onChange:_=>w({...m,address:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Direccin completa de la propiedad"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:g.status}),o.jsxs("select",{value:m.status,onChange:_=>w({...m,status:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"active",children:g.active}),o.jsx("option",{value:"maintenance",children:g.maintenance}),o.jsx("option",{value:"inactive",children:g.inactive})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx($0,{size:16}),g.commission]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("select",{value:m.is_custom?"custom":m.commission_percentage.toString(),onChange:_=>{const k=_.target.value;w(k==="custom"?{...m,is_custom:!0,custom_commission:m.commission_percentage.toString()}:{...m,is_custom:!1,commission_percentage:parseFloat(k),custom_commission:""})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"7",children:"7%"}),o.jsx("option",{value:"10",children:"10%"}),o.jsx("option",{value:"15",children:"15%"}),o.jsx("option",{value:"custom",children:g.custom})]}),m.is_custom&&o.jsx("input",{type:"number",min:"0",max:"100",step:"0.01",value:m.custom_commission,onChange:_=>{const k=_.target.value;w({...m,custom_commission:k,commission_percentage:parseFloat(k)||m.commission_percentage})},className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ingrese porcentaje personalizado (ej: 12.5)",autoFocus:!0})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(ks,{size:16}),g.image]}),o.jsx("div",{className:"border-2 border-dashed border-gray-300 rounded-lg p-6 text-center hover:border-atlantic-blue transition-colors",children:p?o.jsxs("div",{className:"relative",children:[o.jsx("img",{src:p,alt:"Preview",className:"max-h-48 mx-auto rounded-lg"}),o.jsx("button",{type:"button",onClick:()=>{h(null),v(null)},className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600",children:o.jsx(_t,{size:16})})]}):o.jsxs("label",{className:"cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",onChange:b,className:"hidden"}),o.jsx(ks,{size:32,className:"mx-auto mb-2 text-neutral-gray"}),o.jsx("p",{className:"text-neutral-gray",children:g.selectImage}),o.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"JPG, PNG, WEBP (max 5MB)"})]})})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:S,className:"flex-1 px-6 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:g.cancel}),o.jsx("button",{type:"submit",disabled:l||u,className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?g.saving:g.save})]})]})]})}):null},eU=({isOpen:e,onClose:t,onConfirm:r,propertyName:n,isDeleting:s})=>{const{language:a}=ie(),l={es:{title:"Confirmar Eliminacin",message:"Ests seguro de que quieres eliminar esta propiedad?",propertyLabel:"Propiedad:",warning:"Esta accin no se puede deshacer. Se eliminarn todas las reservas, integraciones y datos relacionados con esta propiedad.",cancel:"Cancelar",confirm:"Eliminar Propiedad",deleting:"Eliminando..."},gl:{title:"Confirmar Eliminacin",message:"Ests seguro de que queres eliminar esta propiedade?",propertyLabel:"Propiedade:",warning:"Esta accin non se pode desfacer. Eliminaranse todas as reservas, integracins e datos relacionados con esta propiedade.",cancel:"Cancelar",confirm:"Eliminar Propiedade",deleting:"Eliminando..."}}[a];return e?o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-md w-full",children:[o.jsxs("div",{className:"bg-red-50 border-b border-red-100 px-6 py-4 flex items-center justify-between rounded-t-2xl",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("div",{className:"bg-red-100 p-2 rounded-full",children:o.jsx(Qa,{size:24,className:"text-red-600"})}),o.jsx("h2",{className:"text-xl font-bold text-red-900",children:l.title})]}),o.jsx("button",{onClick:t,disabled:s,className:"text-red-600 hover:text-red-800 transition-colors disabled:opacity-50",children:o.jsx(_t,{size:24})})]}),o.jsxs("div",{className:"p-6 space-y-4",children:[o.jsx("p",{className:"text-neutral-gray text-base",children:l.message}),o.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-neutral-gray font-medium mb-1",children:l.propertyLabel}),o.jsx("p",{className:"text-lg font-bold text-atlantic-blue",children:n})]}),o.jsx("div",{className:"bg-red-50 border-l-4 border-red-500 p-4 rounded",children:o.jsx("p",{className:"text-sm text-red-800",children:o.jsxs("span",{className:"font-semibold",children:[" ",l.warning]})})})]}),o.jsxs("div",{className:"px-6 py-4 bg-gray-50 flex gap-3 rounded-b-2xl",children:[o.jsx("button",{onClick:t,disabled:s,className:"flex-1 px-4 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-white transition-colors font-medium disabled:opacity-50",children:l.cancel}),o.jsx("button",{onClick:r,disabled:s,className:"flex-1 px-4 py-3 bg-red-600 text-white rounded-lg hover:bg-red-700 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:s?l.deleting:l.confirm})]})]})}):null},tU=({isOpen:e,onClose:t,onSuccess:r,propertyId:n,propertyName:s})=>{const{language:a}=ie(),[i,l]=E.useState(!1),[c,u]=E.useState([]),[d,f]=E.useState(new Set),[h,p]=E.useState({guest_name:"",guest_email:"",guest_phone:"",check_in:"",check_out:"",total_amount:"",status:"confirmed",source:"Airbnb",notes:""}),m={es:{title:"Aadir Reserva",property:"Propiedad",guestName:"Nombre del husped",guestEmail:"Email del husped",guestPhone:"Telfono del husped",notes:"Notas adicionales",checkIn:"Fecha de entrada",checkOut:"Fecha de salida",amount:"Importe total",status:"Estado",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",source:"Plataforma",airbnb:"Airbnb",booking:"Booking",manual:"Manual",vrbo:"Vrbo",cancel:"Cancelar",create:"Crear Reserva",creating:"Creando...",required:"Por favor completa todos los campos obligatorios",invalidDates:"La fecha de salida debe ser posterior a la de entrada",dateConflict:"Las fechas seleccionadas tienen conflicto con reservas existentes",blockedDatesInfo:"Las fechas ocupadas aparecen deshabilitadas",existingReservations:"Reservas existentes"},gl:{title:"Engadir Reserva",property:"Propiedade",guestName:"Nome do hspede",guestEmail:"Email do hspede",guestPhone:"Telfono do hspede",notes:"Notas adicionais",checkIn:"Data de entrada",checkOut:"Data de sada",amount:"Importe total",status:"Estado",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",source:"Plataforma",airbnb:"Airbnb",booking:"Booking",manual:"Manual",vrbo:"Vrbo",cancel:"Cancelar",create:"Crear Reserva",creating:"Creando...",required:"Por favor completa todos os campos obrigatorios",invalidDates:"A data de sada debe ser posterior  de entrada",dateConflict:"As datas seleccionadas teen conflito con reservas existentes",blockedDatesInfo:"As datas ocupadas aparecen deshabilitadas",existingReservations:"Reservas existentes"}}[a];E.useEffect(()=>{e&&n&&w()},[e,n]);const w=async()=>{try{const{data:_,error:k}=await U.from("reservations").select("check_in, check_out").eq("property_id",n).in("status",["confirmed","completed"]);if(k)throw k;u(_||[]);const C=new Set;_==null||_.forEach(O=>{const A=new Date(O.check_in),P=new Date(O.check_out);let $=new Date(A);for(;$<=P;)C.add($.toISOString().split("T")[0]),$.setDate($.getDate()+1)}),f(C)}catch(_){console.error("Error fetching existing reservations:",_)}},x=_=>d.has(_),g=(_,k)=>{if(!_||!k)return!1;const C=new Date(_),O=new Date(k);let A=new Date(C);for(;A<O;){if(d.has(A.toISOString().split("T")[0]))return!0;A.setDate(A.getDate()+1)}return!1},y=(_,k)=>{if(!_||!k)return 0;const C=new Date(_),A=new Date(k).getTime()-C.getTime(),P=Math.ceil(A/(1e3*60*60*24));return P>0?P:0},b=async _=>{if(_.preventDefault(),!h.check_in||!h.check_out){alert(m.required);return}const k=new Date(h.check_in);if(new Date(h.check_out)<=k){alert(m.invalidDates);return}if(g(h.check_in,h.check_out)){alert(m.dateConflict);return}const O=y(h.check_in,h.check_out);l(!0);try{const{error:A}=await U.from("reservations").insert([{property_id:n,guest_name:h.guest_name||null,guest_email:h.guest_email||null,guest_phone:h.guest_phone||null,check_in:h.check_in,check_out:h.check_out,nights:O,total_amount:h.total_amount?parseFloat(h.total_amount):null,status:h.status,source:h.source,notes:h.notes||null}]);if(A)throw A;r(),j()}catch(A){console.error("Error creating reservation:",A),alert("Error al crear la reserva")}finally{l(!1)}},j=()=>{p({guest_name:"",guest_email:"",guest_phone:"",check_in:"",check_out:"",total_amount:"",status:"confirmed",source:"Airbnb",notes:""}),f(new Set),u([]),t()},N=()=>new Date().toISOString().split("T")[0];if(!e)return null;const S=y(h.check_in,h.check_out);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:m.title}),o.jsx("button",{onClick:j,className:"text-neutral-gray hover:text-atlantic-blue transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("form",{onSubmit:b,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-soft-mint p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:m.property}),o.jsx("p",{className:"font-semibold text-atlantic-blue",children:s})]}),c.length>0&&o.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded",children:[o.jsxs("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:[m.existingReservations,": ",c.length]}),o.jsx("p",{className:"text-xs text-yellow-700",children:m.blockedDatesInfo})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(gt,{size:16}),m.guestName]}),o.jsx("input",{type:"text",value:h.guest_name,onChange:_=>p({...h,guest_name:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Juan Prez"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(ji,{size:16}),m.guestEmail]}),o.jsx("input",{type:"email",value:h.guest_email,onChange:_=>p({...h,guest_email:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"juan@email.com"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ni,{size:16}),m.guestPhone]}),o.jsx("input",{type:"tel",value:h.guest_phone,onChange:_=>p({...h,guest_phone:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"+34 666 777 888"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ee,{size:16}),m.checkIn," *"]}),o.jsx("input",{type:"date",value:h.check_in,onChange:_=>p({...h,check_in:_.target.value}),min:N(),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent ${h.check_in&&x(h.check_in)?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),h.check_in&&x(h.check_in)&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Esta fecha ya est ocupada"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ee,{size:16}),m.checkOut," *"]}),o.jsx("input",{type:"date",value:h.check_out,onChange:_=>p({...h,check_out:_.target.value}),min:h.check_in||N(),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent ${h.check_out&&x(h.check_out)?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),h.check_out&&x(h.check_out)&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Esta fecha ya est ocupada"})]})]}),S>0&&o.jsx("div",{className:"bg-soft-mint p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-neutral-gray",children:["Noches: ",o.jsx("span",{className:"font-semibold text-atlantic-blue",children:S})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Vt,{size:16}),m.amount," ()"]}),o.jsx("input",{type:"number",step:"0.01",value:h.total_amount,onChange:_=>p({...h,total_amount:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:m.status}),o.jsxs("select",{value:h.status,onChange:_=>p({...h,status:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"confirmed",children:m.confirmed}),o.jsx("option",{value:"completed",children:m.completed}),o.jsx("option",{value:"cancelled",children:m.cancelled})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:m.source}),o.jsxs("select",{value:h.source,onChange:_=>p({...h,source:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"Airbnb",children:m.airbnb}),o.jsx("option",{value:"Booking",children:m.booking}),o.jsx("option",{value:"Vrbo",children:m.vrbo}),o.jsx("option",{value:"Manual",children:m.manual})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Fs,{size:16}),m.notes]}),o.jsx("textarea",{value:h.notes,onChange:_=>p({...h,notes:_.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent resize-none",rows:3,placeholder:"Informacin adicional sobre la reserva..."})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:j,className:"flex-1 px-6 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:m.cancel}),o.jsx("button",{type:"submit",disabled:i,className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:i?m.creating:m.create})]})]})]})})},rU=()=>{const{language:e}=ie(),[t,r]=E.useState([]),[n,s]=E.useState(!0),[a,i]=E.useState(null),[l,c]=E.useState(!1),[u,d]=E.useState(!1),[f,h]=E.useState(!1),[p,v]=E.useState(!1),[m,w]=E.useState(null),[x,g]=E.useState(null),[y,b]=E.useState(null),[j,N]=E.useState(!1),[S,_]=E.useState(""),[k,C]=E.useState("grid"),A={es:{title:"Gestin de Propiedades",addProperty:"Aadir Propiedad",name:"Nombre",location:"Ubicacin",owner:"Propietario",status:"Estado",active:"Activa",maintenance:"Mantenimiento",inactive:"Inactiva",uploadImage:"Subir imagen",delete:"Eliminar",edit:"Editar",noProperties:"No hay propiedades",manageReservations:"Reservas",search:"Buscar por nombre o propietario...",gridView:"Vista cuadrcula",listView:"Vista lista"},gl:{title:"Xestin de Propiedades",addProperty:"Engadir Propiedade",name:"Nome",location:"Ubicacin",owner:"Propietario",status:"Estado",active:"Activa",maintenance:"Mantemento",inactive:"Inactiva",uploadImage:"Subir imaxe",delete:"Eliminar",edit:"Editar",noProperties:"Non hai propiedades",manageReservations:"Reservas",search:"Buscar por nome ou propietario...",gridView:"Vista cuadrcula",listView:"Vista lista"}}[e];E.useEffect(()=>{P()},[]);const P=async()=>{try{const{data:D,error:z}=await U.from("properties").select(`
          *,
          profiles (
            email,
            full_name
          )
        `).order("created_at",{ascending:!1});if(z)throw z;r(D||[])}catch(D){console.error("Error fetching properties:",D)}finally{s(!1)}},$=async(D,z)=>{i(D);try{const G=z.name.split(".").pop(),Y=`${D}/${Date.now()}.${G}`,{error:X}=await U.storage.from("property-images").upload(Y,z);if(X)throw X;const{data:{publicUrl:I}}=U.storage.from("property-images").getPublicUrl(Y),{error:ee}=await U.from("properties").update({image_url:I}).eq("id",D);if(ee)throw ee;P()}catch(G){console.error("Error uploading image:",G),alert("Error al subir la imagen")}finally{i(null)}},B=async()=>{if(y){N(!0);try{const{error:D}=await U.from("properties").delete().eq("id",y.id);if(D)throw D;h(!1),b(null),P()}catch(D){console.error("Error deleting property:",D),alert("Error al eliminar la propiedad")}finally{N(!1)}}},W=D=>{switch(D){case"active":return"bg-green-100 text-green-800";case"maintenance":return"bg-yellow-100 text-yellow-800";case"inactive":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},q=D=>{switch(D){case"active":return A.active;case"maintenance":return A.maintenance;case"inactive":return A.inactive;default:return D}};if(n)return o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-atlantic-blue"})});const M=t.filter(D=>{var I,ee,Se;const z=S.toLowerCase(),G=D.name.toLowerCase().includes(z),Y=((ee=(I=D.profiles)==null?void 0:I.full_name)==null?void 0:ee.toLowerCase().includes(z))||((Se=D.profiles)==null?void 0:Se.email.toLowerCase().includes(z)),X=D.location.toLowerCase().includes(z);return G||Y||X});return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:A.title}),o.jsxs("button",{onClick:()=>c(!0),className:"flex items-center gap-2 px-4 py-2 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors",children:[o.jsx(zl,{size:20}),A.addProperty]})]}),o.jsxs("div",{className:"flex gap-4 mb-6",children:[o.jsxs("div",{className:"relative flex-1",children:[o.jsx(Fl,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-neutral-gray",size:20}),o.jsx("input",{type:"text",placeholder:A.search,value:S,onChange:D=>_(D.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{className:"flex gap-2 bg-gray-100 p-1 rounded-lg",children:[o.jsx("button",{onClick:()=>C("grid"),className:`p-2 rounded transition-colors ${k==="grid"?"bg-white text-atlantic-blue shadow-sm":"text-neutral-gray hover:text-atlantic-blue"}`,title:A.gridView,children:o.jsx(F2,{size:20})}),o.jsx("button",{onClick:()=>C("list"),className:`p-2 rounded transition-colors ${k==="list"?"bg-white text-atlantic-blue shadow-sm":"text-neutral-gray hover:text-atlantic-blue"}`,title:A.listView,children:o.jsx(D0,{size:20})})]})]}),M.length===0?o.jsx("div",{className:"text-center py-12 text-neutral-gray",children:S?"No se encontraron propiedades":A.noProperties}):k==="grid"?o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:M.map(D=>{var z,G;return o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:[o.jsxs("div",{className:"relative h-40 bg-gray-100",children:[D.image_url?o.jsx("img",{src:D.image_url,alt:D.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(pt,{size:40,className:"text-gray-400"})}),o.jsxs("label",{className:"absolute bottom-2 right-2 cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Y=>{var I;const X=(I=Y.target.files)==null?void 0:I[0];X&&$(D.id,X)},disabled:a===D.id}),o.jsx("div",{className:"bg-white p-2 rounded-lg shadow-md hover:bg-gray-50 transition-colors",children:a===D.id?o.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-t-2 border-b-2 border-atlantic-blue"}):o.jsx(ks,{size:20,className:"text-atlantic-blue"})})]})]}),o.jsxs("div",{className:"p-4",children:[o.jsx("h3",{className:"text-lg font-bold text-atlantic-blue mb-2",children:D.name}),o.jsxs("div",{className:"space-y-2 text-sm text-neutral-gray mb-4",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(jr,{size:16}),D.location]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{size:16}),((z=D.profiles)==null?void 0:z.full_name)||((G=D.profiles)==null?void 0:G.email)]}),o.jsx("div",{children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${W(D.status)}`,children:q(D.status)})})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("button",{onClick:()=>{w({id:D.id,name:D.name}),v(!0)},className:"w-full flex items-center justify-center gap-2 px-3 py-2 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors text-sm font-medium",children:[o.jsx(Ee,{size:16}),A.manageReservations]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>{g(D),d(!0)},className:"flex-1 flex items-center justify-center gap-2 px-3 py-2 bg-soft-mint text-atlantic-blue rounded-lg hover:bg-atlantic-blue hover:text-white transition-colors text-sm",children:[o.jsx(sp,{size:16}),A.edit]}),o.jsx("button",{onClick:()=>{b({id:D.id,name:D.name}),h(!0)},className:"px-3 py-2 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:o.jsx(id,{size:16})})]})]})]})]},D.id)})}):o.jsx("div",{className:"space-y-3",children:M.map(D=>{var z,G;return o.jsx("div",{className:"bg-white border border-gray-200 rounded-xl overflow-hidden hover:shadow-lg transition-shadow",children:o.jsxs("div",{className:"flex",children:[o.jsxs("div",{className:"relative w-20 h-20 bg-gray-100 flex-shrink-0",children:[D.image_url?o.jsx("img",{src:D.image_url,alt:D.name,className:"w-full h-full object-cover"}):o.jsx("div",{className:"flex items-center justify-center h-full",children:o.jsx(pt,{size:20,className:"text-gray-400"})}),o.jsxs("label",{className:"absolute bottom-2 right-2 cursor-pointer",children:[o.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:Y=>{var I;const X=(I=Y.target.files)==null?void 0:I[0];X&&$(D.id,X)},disabled:a===D.id}),o.jsx("div",{className:"bg-white p-1 rounded shadow-sm hover:bg-gray-50 transition-colors",children:a===D.id?o.jsx("div",{className:"animate-spin rounded-full h-3 w-3 border-t-2 border-b-2 border-atlantic-blue"}):o.jsx(ks,{size:12,className:"text-atlantic-blue"})})]})]}),o.jsxs("div",{className:"flex-1 px-4 py-3 flex items-center justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-base font-bold text-atlantic-blue mb-1.5",children:D.name}),o.jsxs("div",{className:"flex gap-5 text-xs text-neutral-gray",children:[o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(jr,{size:14}),D.location]}),o.jsxs("div",{className:"flex items-center gap-1.5",children:[o.jsx(gt,{size:14}),((z=D.profiles)==null?void 0:z.full_name)||((G=D.profiles)==null?void 0:G.email)]}),o.jsx("span",{className:`inline-block px-2 py-0.5 rounded-full text-xs font-medium ${W(D.status)}`,children:q(D.status)})]})]}),o.jsxs("div",{className:"flex gap-1.5",children:[o.jsxs("button",{onClick:()=>{w({id:D.id,name:D.name}),v(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors text-xs font-medium",children:[o.jsx(Ee,{size:14}),A.manageReservations]}),o.jsxs("button",{onClick:()=>{g(D),d(!0)},className:"flex items-center gap-1.5 px-3 py-1.5 bg-soft-mint text-atlantic-blue rounded-lg hover:bg-atlantic-blue hover:text-white transition-colors text-xs",children:[o.jsx(sp,{size:14}),A.edit]}),o.jsx("button",{onClick:()=>{b({id:D.id,name:D.name}),h(!0)},className:"px-2 py-1.5 bg-red-50 text-red-600 rounded-lg hover:bg-red-100 transition-colors",children:o.jsx(id,{size:14})})]})]})]})},D.id)})}),o.jsx(J8,{isOpen:l,onClose:()=>c(!1),onSuccess:P}),x&&o.jsx(Z8,{isOpen:u,onClose:()=>{d(!1),g(null)},onSuccess:P,property:x}),y&&o.jsx(eU,{isOpen:f,onClose:()=>{h(!1),b(null)},onConfirm:B,propertyName:y.name,isDeleting:j}),m&&o.jsx(tU,{isOpen:p,onClose:()=>{v(!1),w(null)},onSuccess:()=>{},propertyId:m.id,propertyName:m.name})]})},$w=({isOpen:e,onClose:t,onSuccess:r,reservation:n})=>{var j;const{language:s}=ie(),[a,i]=E.useState(!1),[l,c]=E.useState([]),[u,d]=E.useState(new Set),[f,h]=E.useState({guest_name:n.guest_name||"",guest_email:n.guest_email||"",guest_phone:n.guest_phone||"",check_in:n.check_in.split("T")[0],check_out:n.check_out.split("T")[0],total_amount:((j=n.total_amount)==null?void 0:j.toString())||"",status:n.status,source:n.source||"Airbnb",notes:n.notes||""}),v={es:{title:"Editar Reserva",property:"Propiedad",guestName:"Nombre del husped",guestEmail:"Email del husped",guestPhone:"Telfono del husped",notes:"Notas adicionales",checkIn:"Fecha de entrada",checkOut:"Fecha de salida",amount:"Importe total",status:"Estado",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",source:"Plataforma",airbnb:"Airbnb",booking:"Booking",manual:"Manual",vrbo:"Vrbo",cancel:"Cancelar",save:"Guardar Cambios",saving:"Guardando...",required:"Por favor completa todos los campos obligatorios",invalidDates:"La fecha de salida debe ser posterior a la de entrada",dateConflict:"Las fechas seleccionadas tienen conflicto con otras reservas",blockedDatesInfo:"Las fechas ocupadas aparecen deshabilitadas",existingReservations:"Otras reservas"},gl:{title:"Editar Reserva",property:"Propiedade",guestName:"Nome do hspede",guestEmail:"Email do hspede",guestPhone:"Telfono do hspede",notes:"Notas adicionais",checkIn:"Data de entrada",checkOut:"Data de sada",amount:"Importe total",status:"Estado",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",source:"Plataforma",airbnb:"Airbnb",booking:"Booking",manual:"Manual",vrbo:"Vrbo",cancel:"Cancelar",save:"Gardar Cambios",saving:"Gardando...",required:"Por favor completa todos os campos obrigatorios",invalidDates:"A data de sada debe ser posterior  de entrada",dateConflict:"As datas seleccionadas teen conflito con outras reservas",blockedDatesInfo:"As datas ocupadas aparecen deshabilitadas",existingReservations:"Outras reservas"}}[s];E.useEffect(()=>{e&&m()},[e]);const m=async()=>{try{const{data:N,error:S}=await U.from("reservations").select("id, check_in, check_out").eq("property_id",n.property_id).neq("id",n.id).in("status",["confirmed","completed"]);if(S)throw S;c(N||[]);const _=new Set;N==null||N.forEach(k=>{const C=new Date(k.check_in),O=new Date(k.check_out);let A=new Date(C);for(;A<=O;)_.add(A.toISOString().split("T")[0]),A.setDate(A.getDate()+1)}),d(_)}catch(N){console.error("Error fetching existing reservations:",N)}},w=N=>u.has(N),x=(N,S)=>{if(!N||!S)return!1;const _=new Date(N),k=new Date(S);let C=new Date(_);for(;C<k;){if(u.has(C.toISOString().split("T")[0]))return!0;C.setDate(C.getDate()+1)}return!1},g=(N,S)=>{if(!N||!S)return 0;const _=new Date(N),C=new Date(S).getTime()-_.getTime(),O=Math.ceil(C/(1e3*60*60*24));return O>0?O:0},y=async N=>{if(N.preventDefault(),!f.check_in||!f.check_out){alert(v.required);return}const S=new Date(f.check_in);if(new Date(f.check_out)<=S){alert(v.invalidDates);return}if(x(f.check_in,f.check_out)){alert(v.dateConflict);return}const k=g(f.check_in,f.check_out);i(!0);try{const{error:C}=await U.from("reservations").update({guest_name:f.guest_name||null,guest_email:f.guest_email||null,guest_phone:f.guest_phone||null,check_in:f.check_in,check_out:f.check_out,nights:k,total_amount:f.total_amount?parseFloat(f.total_amount):null,status:f.status,source:f.source,notes:f.notes||null}).eq("id",n.id);if(C)throw C;r(),t()}catch(C){console.error("Error updating reservation:",C),alert("Error al actualizar la reserva")}finally{i(!1)}};if(!e)return null;const b=g(f.check_in,f.check_out);return o.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-2xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:v.title}),o.jsx("button",{onClick:t,className:"text-neutral-gray hover:text-atlantic-blue transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("form",{onSubmit:y,className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-soft-mint p-4 rounded-lg",children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:v.property}),o.jsx("p",{className:"font-semibold text-atlantic-blue",children:n.properties.name})]}),l.length>0&&o.jsxs("div",{className:"bg-yellow-50 border-l-4 border-yellow-500 p-4 rounded",children:[o.jsxs("p",{className:"text-sm text-yellow-800 font-medium mb-2",children:[v.existingReservations,": ",l.length]}),o.jsx("p",{className:"text-xs text-yellow-700",children:v.blockedDatesInfo})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(gt,{size:16}),v.guestName]}),o.jsx("input",{type:"text",value:f.guest_name,onChange:N=>h({...f,guest_name:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Ej: Juan Prez"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(ji,{size:16}),v.guestEmail]}),o.jsx("input",{type:"email",value:f.guest_email,onChange:N=>h({...f,guest_email:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"juan@email.com"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ni,{size:16}),v.guestPhone]}),o.jsx("input",{type:"tel",value:f.guest_phone,onChange:N=>h({...f,guest_phone:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"+34 666 777 888"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ee,{size:16}),v.checkIn," *"]}),o.jsx("input",{type:"date",value:f.check_in,onChange:N=>h({...f,check_in:N.target.value}),className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent ${f.check_in&&w(f.check_in)?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),f.check_in&&w(f.check_in)&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Esta fecha ya est ocupada"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Ee,{size:16}),v.checkOut," *"]}),o.jsx("input",{type:"date",value:f.check_out,onChange:N=>h({...f,check_out:N.target.value}),min:f.check_in,className:`w-full px-4 py-3 border rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent ${f.check_out&&w(f.check_out)?"border-red-500 bg-red-50":"border-gray-300"}`,required:!0}),f.check_out&&w(f.check_out)&&o.jsx("p",{className:"text-xs text-red-600 mt-1",children:" Esta fecha ya est ocupada"})]})]}),b>0&&o.jsx("div",{className:"bg-soft-mint p-3 rounded-lg",children:o.jsxs("p",{className:"text-sm text-neutral-gray",children:["Noches: ",o.jsx("span",{className:"font-semibold text-atlantic-blue",children:b})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Vt,{size:16}),v.amount," ()"]}),o.jsx("input",{type:"number",step:"0.01",value:f.total_amount,onChange:N=>h({...f,total_amount:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"0.00"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:v.status}),o.jsxs("select",{value:f.status,onChange:N=>h({...f,status:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"confirmed",children:v.confirmed}),o.jsx("option",{value:"completed",children:v.completed}),o.jsx("option",{value:"cancelled",children:v.cancelled})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:v.source}),o.jsxs("select",{value:f.source,onChange:N=>h({...f,source:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"Airbnb",children:v.airbnb}),o.jsx("option",{value:"Booking",children:v.booking}),o.jsx("option",{value:"Vrbo",children:v.vrbo}),o.jsx("option",{value:"Manual",children:v.manual})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"flex items-center gap-2 text-sm font-medium text-neutral-gray mb-2",children:[o.jsx(Fs,{size:16}),v.notes]}),o.jsx("textarea",{value:f.notes,onChange:N=>h({...f,notes:N.target.value}),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent resize-none",rows:3,placeholder:"Informacin adicional sobre la reserva..."})]}),o.jsxs("div",{className:"flex gap-4 pt-4 border-t",children:[o.jsx("button",{type:"button",onClick:t,className:"flex-1 px-6 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:v.cancel}),o.jsx("button",{type:"submit",disabled:a,className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:a?v.saving:v.save})]})]})]})})},nU=({isOpen:e,onClose:t,onUpdate:r,reservation:n})=>{const{language:s}=ie(),[a,i]=E.useState(n.status),[l,c]=E.useState(!1),[u,d]=E.useState(!1),h={es:{title:"Detalles de la Reserva",property:"Propiedad",guestInfo:"Informacin del Husped",name:"Nombre",email:"Correo Electrnico",phone:"Telfono",reservationInfo:"Informacin de la Reserva",checkIn:"Fecha de Entrada",checkOut:"Fecha de Salida",nights:"Noches",amount:"Importe Total",status:"Estado",source:"Origen",notes:"Notas",createdAt:"Fecha de Creacin",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",close:"Cerrar",noData:"Sin datos",updateStatus:"Actualizar Estado",updating:"Actualizando...",updateSuccess:"Estado actualizado correctamente",updateError:"Error al actualizar el estado",edit:"Editar Reserva"},gl:{title:"Detalles da Reserva",property:"Propiedade",guestInfo:"Informacin do Hspede",name:"Nome",email:"Correo Electrnico",phone:"Telfono",reservationInfo:"Informacin da Reserva",checkIn:"Data de Entrada",checkOut:"Data de Sada",nights:"Noites",amount:"Importe Total",status:"Estado",source:"Orixe",notes:"Notas",createdAt:"Data de Creacin",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada",close:"Pechar",noData:"Sen datos",updateStatus:"Actualizar Estado",updating:"Actualizando...",updateSuccess:"Estado actualizado correctamente",updateError:"Erro ao actualizar o estado",edit:"Editar Reserva"}}[s],p=async()=>{if(a!==n.status){c(!0);try{const{error:m}=await U.from("reservations").update({status:a}).eq("id",n.id);if(m)throw m;alert(h.updateSuccess),r&&r(),t()}catch(m){console.error("Error updating reservation status:",m),alert(h.updateError)}finally{c(!1)}}},v=m=>{switch(m){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}};return e?o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:h.title}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsxs("button",{onClick:()=>d(!0),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium border border-blue-200",children:[o.jsx(Ef,{size:18}),o.jsx("span",{className:"hidden sm:inline",children:h.edit})]}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(_t,{size:24,className:"text-neutral-gray"})})]})]}),o.jsxs("div",{className:"p-6 space-y-6",children:[o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(pt,{size:20,className:"text-atlantic-blue"}),o.jsx("h3",{className:"text-lg font-semibold text-atlantic-blue",children:h.property})]}),o.jsx("p",{className:"text-lg font-medium text-neutral-gray ml-7",children:n.properties.name})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(gt,{size:20,className:"text-atlantic-blue"}),o.jsx("h3",{className:"text-lg font-semibold text-atlantic-blue",children:h.guestInfo})]}),o.jsxs("div",{className:"ml-7 space-y-3",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:h.name}),o.jsx("p",{className:"text-base font-medium",children:n.guest_name||h.noData})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:h.email}),o.jsx("p",{className:"text-base font-medium",children:n.guest_email||h.noData})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Ni,{size:16,className:"text-neutral-gray"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:h.phone})]}),o.jsx("p",{className:"text-base font-medium",children:n.guest_phone||h.noData})]})]})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[o.jsx(Ee,{size:20,className:"text-atlantic-blue"}),o.jsx("h3",{className:"text-lg font-semibold text-atlantic-blue",children:h.reservationInfo})]}),o.jsxs("div",{className:"ml-7 grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:h.checkIn}),o.jsx("p",{className:"text-base font-medium",children:Z(new Date(n.check_in),"dd/MM/yyyy")})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:h.checkOut}),o.jsx("p",{className:"text-base font-medium",children:Z(new Date(n.check_out),"dd/MM/yyyy")})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(K2,{size:16,className:"text-neutral-gray"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:h.nights})]}),o.jsx("p",{className:"text-base font-medium",children:n.nights})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(Vt,{size:16,className:"text-neutral-gray"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:h.amount})]}),o.jsx("p",{className:"text-base font-medium text-atlantic-blue",children:n.total_amount?`${n.total_amount.toFixed(2)}`:h.noData})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm text-neutral-gray mb-1",children:h.status}),o.jsxs("select",{value:a,onChange:m=>i(m.target.value),className:`px-3 py-2 rounded-lg text-sm font-medium border-2 transition-colors focus:ring-2 focus:ring-atlantic-blue focus:outline-none ${v(a)}`,children:[o.jsx("option",{value:"confirmed",children:h.confirmed}),o.jsx("option",{value:"completed",children:h.completed}),o.jsx("option",{value:"cancelled",children:h.cancelled})]})]}),o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[o.jsx(kf,{size:16,className:"text-neutral-gray"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:h.source})]}),o.jsx("p",{className:"text-base font-medium",children:n.source||h.noData})]})]})]}),n.notes&&o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[o.jsx(Fs,{size:20,className:"text-atlantic-blue"}),o.jsx("h3",{className:"text-lg font-semibold text-atlantic-blue",children:h.notes})]}),o.jsx("p",{className:"text-base text-neutral-gray ml-7 whitespace-pre-wrap",children:n.notes})]}),o.jsxs("div",{className:"bg-gray-50 rounded-lg p-4",children:[o.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[o.jsx(Ll,{size:16,className:"text-neutral-gray"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:h.createdAt})]}),o.jsx("p",{className:"text-sm font-medium ml-6",children:Z(new Date(n.created_at),"dd/MM/yyyy HH:mm")})]})]}),o.jsx("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4",children:o.jsxs("div",{className:"flex gap-3",children:[o.jsx("button",{onClick:t,className:"flex-1 px-4 py-3 border border-gray-300 text-neutral-gray rounded-lg hover:bg-gray-50 transition-colors font-medium",children:h.close}),a!==n.status&&o.jsx("button",{onClick:p,disabled:l,className:"flex-1 px-4 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:l?h.updating:h.updateStatus})]})})]})}),o.jsx($w,{isOpen:u,onClose:()=>d(!1),onSuccess:()=>{d(!1),r&&r(),t()},reservation:n})]}):null},sU={es:Ke},aU=gh({format:Z,parse:_h,startOfWeek:Yt,getDay:xh,locales:sU}),iU=()=>{const{language:e}=ie(),[t,r]=E.useState([]),[n,s]=E.useState(!0),[a,i]=E.useState(new Date),[l,c]=E.useState("month"),u=e==="es"?{today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",noEvents:"No hay reservas para este perodo",property:"Propiedad",guest:"Husped",status:"Estado",amount:"Importe",nights:"noches",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"}:{today:"Hoxe",month:"Mes",week:"Semana",day:"Da",agenda:"Axenda",noEvents:"Non hai reservas para este perodo",property:"Propiedade",guest:"Hspede",status:"Estado",amount:"Importe",nights:"noites",confirmed:"Confirmada",cancelled:"Cancelada",completed:"Completada"};E.useEffect(()=>{d()},[a]);const d=async()=>{try{s(!0);const m=Z(mi(a,2),"yyyy-MM-dd"),w=Z(hi(a,2),"yyyy-MM-dd"),{data:x,error:g}=await U.from("reservations").select(`
          *,
          properties (
            name
          )
        `).gte("check_out",m).lte("check_in",w).order("check_in");if(g)throw g;const y=(x||[]).map(b=>{var j;return{id:b.id,title:`${((j=b.properties)==null?void 0:j.name)||"Propiedad"}`,start:new Date(b.check_in),end:new Date(b.check_out),resource:b}});r(y)}catch(m){console.error("Error fetching reservations:",m)}finally{s(!1)}},f=m=>{switch(m==null?void 0:m.toLowerCase()){case"airbnb":return{bg:"#FF5A5F",border:"#E00007"};case"booking":case"booking.com":return{bg:"#003580",border:"#00224F"};case"vrbo":return{bg:"#1C4FA2",border:"#133A7C"};case"manual":return{bg:"#10B981",border:"#059669"};default:return{bg:"#6B7280",border:"#4B5563"}}},h=m=>{const w=f(m.resource.source);let x=1;return m.resource.status==="cancelled"?x=.5:m.resource.status==="completed"&&(x=.7),{style:{backgroundColor:w.bg,borderColor:w.border,borderWidth:"2px",borderStyle:"solid",borderRadius:"4px",color:"#ffffff",opacity:x,fontWeight:"600",fontSize:"12px",padding:"2px 6px"}}},p=({event:m})=>{var x,g;const w=m.resource.status==="confirmed"?u.confirmed:m.resource.status==="cancelled"?u.cancelled:u.completed;return o.jsxs("div",{className:"group relative",children:[o.jsx("div",{className:"truncate",children:(x=m.resource.properties)==null?void 0:x.name}),o.jsxs("div",{className:"hidden group-hover:block absolute z-50 bg-gray-900 text-white text-xs rounded-lg p-3 shadow-xl min-w-[250px] left-0 top-full mt-1",children:[o.jsxs("div",{className:"space-y-1.5",children:[o.jsx("div",{className:"font-bold text-sm border-b border-gray-700 pb-1.5 mb-1.5",children:(g=m.resource.properties)==null?void 0:g.name}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("span",{className:"text-gray-400 min-w-[60px]",children:[u.guest,":"]}),o.jsx("span",{className:"font-medium",children:m.resource.guest_name||"-"})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-400 min-w-[60px]",children:"Check-in:"}),o.jsx("span",{children:Z(new Date(m.resource.check_in),"dd/MM/yyyy")})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-400 min-w-[60px]",children:"Check-out:"}),o.jsx("span",{children:Z(new Date(m.resource.check_out),"dd/MM/yyyy")})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("span",{className:"text-gray-400 min-w-[60px]",children:[u.nights,":"]}),o.jsxs("span",{children:[m.resource.nights," ",u.nights]})]}),o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("span",{className:"text-gray-400 min-w-[60px]",children:[u.status,":"]}),o.jsx("span",{className:`font-medium ${m.resource.status==="confirmed"?"text-green-400":m.resource.status==="cancelled"?"text-red-400":"text-blue-400"}`,children:w})]}),m.resource.total_amount&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsxs("span",{className:"text-gray-400 min-w-[60px]",children:[u.amount,":"]}),o.jsxs("span",{className:"font-medium",children:[m.resource.total_amount,""]})]}),m.resource.source&&o.jsxs("div",{className:"flex items-start gap-2",children:[o.jsx("span",{className:"text-gray-400 min-w-[60px]",children:"Origen:"}),o.jsx("span",{className:"font-medium capitalize",children:m.resource.source})]})]}),o.jsx("div",{className:"absolute -top-1 left-4 w-2 h-2 bg-gray-900 transform rotate-45"})]})]})},v=m=>{const w=()=>{const b=l==="month"?mi(m.date,1):l==="week"?new Date(m.date.setDate(m.date.getDate()-7)):new Date(m.date.setDate(m.date.getDate()-1));m.onNavigate("prev",b),i(b)},x=()=>{const b=l==="month"?hi(m.date,1):l==="week"?new Date(m.date.setDate(m.date.getDate()+7)):new Date(m.date.setDate(m.date.getDate()+1));m.onNavigate("next",b),i(b)},g=()=>{const b=new Date;m.onNavigate("current",b),i(b)},y=()=>l==="month"?Z(m.date,"MMMM yyyy",{locale:Ke}):l==="week"?Z(m.date,"'Semana del' d 'de' MMMM yyyy",{locale:Ke}):Z(m.date,"d 'de' MMMM yyyy",{locale:Ke});return o.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:w,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(C0,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 min-w-[250px] text-center",children:y()}),o.jsx("button",{onClick:x,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(T0,{size:24})})]}),o.jsx("div",{className:"flex gap-2",children:o.jsx("button",{onClick:g,className:"px-4 py-2 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium",children:u.today})})]})};return n?o.jsx("div",{className:"text-center py-12",children:"Cargando calendario..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:"Leyenda de Plataformas"}),o.jsxs("div",{className:"flex items-center gap-6 flex-wrap text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#FF5A5F",border:"2px solid #E00007"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Airbnb"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#003580",border:"2px solid #00224F"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Booking"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#1C4FA2",border:"2px solid #133A7C"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Vrbo"})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#10B981",border:"2px solid #059669"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:"Manual"})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",style:{height:"700px"},children:o.jsx(ph,{localizer:aU,events:t,startAccessor:"start",endAccessor:"end",culture:e,views:["month","week","day","agenda"],view:l,onView:c,date:a,onNavigate:i,eventPropGetter:h,components:{toolbar:v,event:p},messages:{today:u.today,month:u.month,week:u.week,day:u.day,agenda:u.agenda,next:"Siguiente",previous:"Anterior",noEventsInRange:u.noEvents}})})]})},oU=()=>{const{language:e}=ie(),[t,r]=E.useState([]),[n,s]=E.useState([]),[a,i]=E.useState(!0),[l,c]=E.useState("all"),[u,d]=E.useState(""),[f,h]=E.useState("all"),[p,v]=E.useState("all"),[m,w]=E.useState(""),[x,g]=E.useState(""),[y,b]=E.useState(!1),[j,N]=E.useState("list"),[S,_]=E.useState(null),[k,C]=E.useState(!1),[O,A]=E.useState(!1),$={es:{title:"Gestin de Reservas",all:"Todas",confirmed:"Confirmadas",cancelled:"Canceladas",completed:"Completadas",property:"Propiedad",guest:"Husped",checkIn:"Entrada",checkOut:"Salida",nights:"Noches",amount:"Importe",status:"Estado",source:"Origen",actions:"Acciones",view:"Ver",edit:"Editar",search:"Buscar por nombre o email",filterByProperty:"Filtrar por propiedad",filterBySource:"Filtrar por plataforma",allProperties:"Todas las propiedades",allSources:"Todas las plataformas",dateFrom:"Desde",dateTo:"Hasta",filters:"Filtros",clearFilters:"Limpiar filtros",activeFilters:"filtros activos",noReservations:"No hay reservas",noResults:"No se encontraron reservas con los filtros aplicados",listView:"Lista",calendarView:"Calendario"},gl:{title:"Xestin de Reservas",all:"Todas",confirmed:"Confirmadas",cancelled:"Canceladas",completed:"Completadas",property:"Propiedade",guest:"Hspede",checkIn:"Entrada",checkOut:"Sada",nights:"Noites",amount:"Importe",status:"Estado",source:"Orixe",actions:"Accins",view:"Ver",edit:"Editar",search:"Buscar por nome ou email",filterByProperty:"Filtrar por propiedade",filterBySource:"Filtrar por plataforma",allProperties:"Todas as propiedades",allSources:"Todas as plataformas",dateFrom:"Desde",dateTo:"Ata",filters:"Filtros",clearFilters:"Limpar filtros",activeFilters:"filtros activos",noReservations:"Non hai reservas",noResults:"Non se atoparon reservas cos filtros aplicados",listView:"Lista",calendarView:"Calendario"}}[e];E.useEffect(()=>{B(),W()},[]);const B=async()=>{try{const{data:I,error:ee}=await U.from("reservations").select(`
          *,
          properties (
            name
          )
        `).order("check_in",{ascending:!1});if(ee)throw ee;r(I||[])}catch(I){console.error("Error fetching reservations:",I)}finally{i(!1)}},W=async()=>{try{const{data:I,error:ee}=await U.from("properties").select("id, name").order("name");if(ee)throw ee;s(I||[])}catch(I){console.error("Error fetching properties:",I)}},q=I=>{switch(I){case"confirmed":return"bg-green-100 text-green-800";case"cancelled":return"bg-red-100 text-red-800";case"completed":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},M=I=>{switch(I){case"confirmed":return $.confirmed;case"cancelled":return $.cancelled;case"completed":return $.completed;default:return I}},D=()=>{let I=0;return u&&I++,f!=="all"&&I++,p!=="all"&&I++,m&&I++,x&&I++,I},z=()=>{d(""),h("all"),v("all"),w(""),g(""),c("all")},G=t.filter(I=>{var ee,Se,Ze;if(l!=="all"&&I.status!==l)return!1;if(u){const Le=u.toLowerCase(),kt=(ee=I.guest_name)==null?void 0:ee.toLowerCase().includes(Le),Wn=(Se=I.guest_email)==null?void 0:Se.toLowerCase().includes(Le),Tr=(Ze=I.guest_phone)==null?void 0:Ze.toLowerCase().includes(Le);if(!kt&&!Wn&&!Tr)return!1}if(f!=="all"&&I.property_id!==f||p!=="all"&&I.source!==p)return!1;if(m){const Le=new Date(I.check_in),kt=new Date(m);if(Le<kt)return!1}if(x){const Le=new Date(I.check_out),kt=new Date(x);if(Le>kt)return!1}return!0}),Y=Array.from(new Set(t.map(I=>I.source).filter(Boolean)));if(a)return o.jsx("div",{className:"flex justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-atlantic-blue"})});const X=D();return o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:$.title}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("div",{className:"flex gap-1 bg-gray-100 p-1 rounded-lg",children:[o.jsxs("button",{onClick:()=>N("list"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${j==="list"?"bg-white text-atlantic-blue shadow-sm":"text-gray-600 hover:text-atlantic-blue"}`,children:[o.jsx(D0,{size:20}),$.listView]}),o.jsxs("button",{onClick:()=>N("calendar"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${j==="calendar"?"bg-white text-atlantic-blue shadow-sm":"text-gray-600 hover:text-atlantic-blue"}`,children:[o.jsx(Ee,{size:20}),$.calendarView]})]}),j==="list"&&o.jsxs("button",{onClick:()=>b(!y),className:"flex items-center gap-2 px-4 py-2 bg-white border-2 border-atlantic-blue text-atlantic-blue rounded-lg hover:bg-atlantic-blue hover:text-white transition-colors font-medium",children:[o.jsx(z2,{size:20}),$.filters,X>0&&o.jsx("span",{className:"bg-red-500 text-white text-xs px-2 py-0.5 rounded-full",children:X})]})]})]}),j==="calendar"?o.jsx(iU,{}):o.jsxs(o.Fragment,{children:[y&&o.jsxs("div",{className:"bg-white border border-gray-200 rounded-xl p-6 mb-6 shadow-sm",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900",children:$.filters}),X>0&&o.jsxs("button",{onClick:z,className:"flex items-center gap-2 text-sm text-red-600 hover:text-red-700 font-medium",children:[o.jsx(_t,{size:16}),$.clearFilters]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"lg:col-span-3",children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Fl,{size:16,className:"inline mr-2"}),$.search]}),o.jsx("input",{type:"text",value:u,onChange:I=>d(I.target.value),placeholder:$.search,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(pt,{size:16,className:"inline mr-2"}),$.filterByProperty]}),o.jsxs("select",{value:f,onChange:I=>h(I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"all",children:$.allProperties}),n.map(I=>o.jsx("option",{value:I.id,children:I.name},I.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:$.filterBySource}),o.jsxs("select",{value:p,onChange:I=>v(I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"all",children:$.allSources}),Y.map(I=>o.jsx("option",{value:I,children:I},I))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ee,{size:16,className:"inline mr-2"}),$.dateFrom]}),o.jsx("input",{type:"date",value:m,onChange:I=>w(I.target.value),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ee,{size:16,className:"inline mr-2"}),$.dateTo]}),o.jsx("input",{type:"date",value:x,onChange:I=>g(I.target.value),min:m,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]})]}),X>0&&o.jsxs("div",{className:"mt-4 text-sm text-gray-600",children:[X," ",$.activeFilters]})]}),o.jsx("div",{className:"flex items-center justify-between mb-6",children:o.jsxs("div",{className:"flex gap-2",children:[o.jsx("button",{onClick:()=>c("all"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="all"?"bg-atlantic-blue text-white":"bg-gray-100 text-neutral-gray hover:bg-gray-200"}`,children:$.all}),o.jsx("button",{onClick:()=>c("confirmed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="confirmed"?"bg-atlantic-blue text-white":"bg-gray-100 text-neutral-gray hover:bg-gray-200"}`,children:$.confirmed}),o.jsx("button",{onClick:()=>c("completed"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="completed"?"bg-atlantic-blue text-white":"bg-gray-100 text-neutral-gray hover:bg-gray-200"}`,children:$.completed}),o.jsx("button",{onClick:()=>c("cancelled"),className:`px-4 py-2 rounded-lg text-sm font-medium transition-colors ${l==="cancelled"?"bg-atlantic-blue text-white":"bg-gray-100 text-neutral-gray hover:bg-gray-200"}`,children:$.cancelled})]})}),G.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-neutral-gray mb-2",children:X>0?$.noResults:$.noReservations}),X>0&&o.jsx("button",{onClick:z,className:"text-atlantic-blue hover:underline text-sm font-medium",children:$.clearFilters})]}):o.jsx("div",{className:"overflow-x-auto",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{children:o.jsxs("tr",{className:"border-b border-gray-200",children:[o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.property}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.guest}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.checkIn}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.checkOut}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.nights}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.amount}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.status}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.source}),o.jsx("th",{className:"text-left py-3 px-4 font-semibold text-neutral-gray",children:$.actions})]})}),o.jsx("tbody",{children:G.map(I=>o.jsxs("tr",{className:"border-b border-gray-100 hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(pt,{size:16,className:"text-neutral-gray"}),I.properties.name]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(gt,{size:16,className:"text-neutral-gray"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:I.guest_name||"-"}),o.jsx("div",{className:"text-sm text-neutral-gray",children:I.guest_email||"-"})]})]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{size:16,className:"text-neutral-gray"}),Z(new Date(I.check_in),"dd/MM/yyyy")]})}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(Ee,{size:16,className:"text-neutral-gray"}),Z(new Date(I.check_out),"dd/MM/yyyy")]})}),o.jsx("td",{className:"py-4 px-4 font-medium",children:I.nights}),o.jsx("td",{className:"py-4 px-4",children:I.total_amount?o.jsxs("div",{className:"flex items-center gap-1 font-medium text-atlantic-blue",children:[o.jsx(Vt,{size:16}),I.total_amount.toFixed(2)]}):"-"}),o.jsx("td",{className:"py-4 px-4",children:o.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium ${q(I.status)}`,children:M(I.status)})}),o.jsx("td",{className:"py-4 px-4",children:I.source||"-"}),o.jsx("td",{className:"py-4 px-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("button",{onClick:ee=>{ee.stopPropagation(),_(I),C(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded-lg transition-colors",title:$.view,children:o.jsx(P0,{size:18})}),o.jsx("button",{onClick:ee=>{ee.stopPropagation(),_(I),A(!0)},className:"p-2 text-green-600 hover:bg-green-50 rounded-lg transition-colors",title:$.edit,children:o.jsx(Ef,{size:18})})]})})]},I.id))})]})})]}),S&&o.jsxs(o.Fragment,{children:[o.jsx(nU,{isOpen:k,onClose:()=>{C(!1),_(null)},onUpdate:B,reservation:S}),o.jsx($w,{isOpen:O,onClose:()=>{A(!1),_(null)},onSuccess:()=>{A(!1),_(null),B()},reservation:S})]})]})},lU=({task:e,onClose:t,onSave:r})=>{var w,x,g;const{language:n}=ie(),[s,a]=E.useState([]),[i,l]=E.useState([]),[c,u]=E.useState({property_id:(e==null?void 0:e.property_id)||"",cleaner_id:(e==null?void 0:e.cleaner_id)||"",cleaning_date:(e==null?void 0:e.cleaning_date)||"",cleaning_time_start:(e==null?void 0:e.cleaning_time_start)||"11:00",cleaning_time_end:(e==null?void 0:e.cleaning_time_end)||"16:00",notes:(e==null?void 0:e.notes)||"",status:(e==null?void 0:e.status)||"pending"}),d=n==="es"?{title:"Gestionar Limpieza",property:"Propiedad",checkoutDate:"Fecha salida",nextCheckin:"Prxima entrada",cleaningDate:"Fecha limpieza",timeStart:"Hora inicio",timeEnd:"Hora fin",assignCleaner:"Asignar limpiador",selectCleaner:"Seleccionar limpiador",notes:"Notas para el limpiador",status:"Estado",pending:"Pendiente",assigned:"Asignada",completed:"Completada",cancelled:"Cancelada",urgent:"URGENTE",urgentMessage:"Hay una entrada el mismo da",save:"Guardar",cancel:"Cancelar",sendWhatsApp:"Enviar WhatsApp",whatsappMessage:"Mensaje enviado",guestCheckout:"Husped saliente",noNextReservation:"Sin prxima reserva",whatsappTemplate:"Plantilla del mensaje",selectProperty:"Seleccionar propiedad"}:{title:"Xestionar Limpeza",property:"Propiedade",checkoutDate:"Data sada",nextCheckin:"Prxima entrada",cleaningDate:"Data limpeza",timeStart:"Hora inicio",timeEnd:"Hora fin",assignCleaner:"Asignar limpador",selectCleaner:"Seleccionar limpador",notes:"Notas para o limpador",status:"Estado",pending:"Pendente",assigned:"Asignada",completed:"Completada",cancelled:"Cancelada",urgent:"URXENTE",urgentMessage:"Hai unha entrada o mesmo da",save:"Gardar",cancel:"Cancelar",sendWhatsApp:"Enviar WhatsApp",whatsappMessage:"Mensaxe enviada",guestCheckout:"Hspede sante",noNextReservation:"Sen prxima reserva",whatsappTemplate:"Plantilla da mensaxe"};E.useEffect(()=>{f(),h()},[]);const f=async()=>{try{const{data:y,error:b}=await U.from("cleaners").select("*").eq("active",!0).order("name");if(b)throw b;a(y||[])}catch(y){console.error("Error fetching cleaners:",y)}},h=async()=>{try{const{data:y,error:b}=await U.from("properties").select("id, name").order("name");if(b)throw b;l(y||[])}catch(y){console.error("Error fetching properties:",y)}},p=async y=>{y.preventDefault();try{const b={property_id:c.property_id,cleaner_id:c.cleaner_id||null,cleaning_date:c.cleaning_date,cleaning_time_start:c.cleaning_time_start,cleaning_time_end:c.cleaning_time_end,status:c.status,notes:c.notes||null,reservation_id:(e==null?void 0:e.reservation_id)||null,priority:(e==null?void 0:e.priority)||"normal"};if(e!=null&&e.id){const{error:j}=await U.from("cleaning_tasks").update(b).eq("id",e.id);if(j)throw j}else{const{error:j}=await U.from("cleaning_tasks").insert([b]);if(j)throw j}r(),t()}catch(b){console.error("Error saving cleaning task:",b)}},v=()=>{var k,C;const y=i.find(O=>O.id===c.property_id),b=(y==null?void 0:y.name)||((k=e==null?void 0:e.property)==null?void 0:k.name)||"",j=((C=e==null?void 0:e.reservation)==null?void 0:C.guest_name)||"No especificado",N=c.cleaning_date?Z(new Date(c.cleaning_date),"dd/MM/yyyy"):"",S=c.cleaning_time_start,_=c.notes||"Sin notas adicionales";return`Hola! Nueva limpieza asignada:

 Propiedad: ${b}
 Fecha: ${N}
 Husped saliente: ${j}
 Hora: ${S}
 Notas: ${_}`},m=async()=>{const y=s.find(_=>_.id===c.cleaner_id);if(!y)return;const b=v(),j=encodeURIComponent(b),S=`https://wa.me/${y.phone.replace(/[^0-9]/g,"")}?text=${j}`;try{e!=null&&e.id&&await U.from("cleaning_tasks").update({whatsapp_sent:!0,whatsapp_sent_at:new Date().toISOString()}).eq("id",e.id),window.open(S,"_blank")}catch(_){console.error("Error updating WhatsApp status:",_)}};return o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsxs("div",{className:"p-6 border-b border-gray-200 flex items-center justify-between",children:[o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:d.title}),o.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(_t,{size:24})})]}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[(e==null?void 0:e.priority)==="urgent"&&o.jsxs("div",{className:"bg-red-50 border-2 border-red-500 rounded-lg p-4 flex items-start gap-3",children:[o.jsx(Qa,{className:"text-red-600 flex-shrink-0 mt-0.5",size:24}),o.jsxs("div",{children:[o.jsx("div",{className:"font-bold text-red-900 text-lg",children:d.urgent}),o.jsx("div",{className:"text-red-700",children:d.urgentMessage})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(pt,{size:16,className:"inline mr-2"}),d.property," *"]}),e!=null&&e.id?o.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-lg font-medium text-gray-900",children:(w=e==null?void 0:e.property)==null?void 0:w.name}):o.jsxs("select",{value:c.property_id,onChange:y=>u({...c,property_id:y.target.value}),required:!0,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"",children:d.selectProperty}),i.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(gt,{size:16,className:"inline mr-2"}),d.guestCheckout]}),o.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:((x=e==null?void 0:e.reservation)==null?void 0:x.guest_name)||"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.checkoutDate}),o.jsx("div",{className:"px-4 py-3 bg-gray-50 rounded-lg text-gray-900",children:(g=e==null?void 0:e.reservation)!=null&&g.check_out?Z(new Date(e.reservation.check_out),"dd/MM/yyyy"):"-"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.nextCheckin}),o.jsx("div",{className:`px-4 py-3 rounded-lg ${e!=null&&e.next_reservation?"bg-yellow-50 text-yellow-900 font-medium":"bg-gray-50 text-gray-900"}`,children:e!=null&&e.next_reservation?`${Z(new Date(e.next_reservation.check_in),"dd/MM/yyyy")} - ${e.next_reservation.guest_name}`:d.noNextReservation})]})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ee,{size:16,className:"inline mr-2"}),d.cleaningDate," *"]}),o.jsx("input",{type:"date",required:!0,value:c.cleaning_date,onChange:y=>u({...c,cleaning_date:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[o.jsx(Ll,{size:16,className:"inline mr-2"}),d.timeStart]}),o.jsx("input",{type:"time",value:c.cleaning_time_start,onChange:y=>u({...c,cleaning_time_start:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.timeEnd}),o.jsx("input",{type:"time",value:c.cleaning_time_end,onChange:y=>u({...c,cleaning_time_end:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.assignCleaner}),o.jsxs("select",{value:c.cleaner_id,onChange:y=>{u({...c,cleaner_id:y.target.value,status:y.target.value?"assigned":"pending"})},className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"",children:d.selectCleaner}),s.map(y=>o.jsx("option",{value:y.id,children:y.name},y.id))]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.status}),o.jsxs("select",{value:c.status,onChange:y=>u({...c,status:y.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",children:[o.jsx("option",{value:"pending",children:d.pending}),o.jsx("option",{value:"assigned",children:d.assigned}),o.jsx("option",{value:"completed",children:d.completed}),o.jsx("option",{value:"cancelled",children:d.cancelled})]})]})]})]}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:d.notes}),o.jsx("textarea",{value:c.notes,onChange:y=>u({...c,notes:y.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent",placeholder:"Instrucciones especiales para el limpiador..."})]}),c.cleaner_id&&o.jsxs("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:[o.jsxs("div",{className:"text-sm font-medium text-green-900 mb-2",children:[d.whatsappTemplate,":"]}),o.jsx("div",{className:"text-sm text-green-800 whitespace-pre-wrap font-mono bg-white p-3 rounded border border-green-200",children:v()})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium",children:d.save}),c.cleaner_id&&o.jsxs("button",{type:"button",onClick:m,className:"flex items-center gap-2 px-6 py-3 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[o.jsx(M0,{size:20}),d.sendWhatsApp]}),o.jsx("button",{type:"button",onClick:t,className:"px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:d.cancel})]})]})]})})},cU={es:Ke},uU=gh({format:Z,parse:_h,startOfWeek:Yt,getDay:xh,locales:cU}),dU=({onRefresh:e})=>{const{language:t}=ie(),[r,n]=E.useState([]),[s,a]=E.useState(!0),[i,l]=E.useState(new Date),[c,u]=E.useState("month"),[d,f]=E.useState([]),[h,p]=E.useState(null),[v,m]=E.useState(!1),w=t==="es"?{title:"Calendario de Limpiezas",today:"Hoy",month:"Mes",week:"Semana",day:"Da",agenda:"Agenda",pending:"Pendiente",assigned:"Asignada",completed:"Completada",cancelled:"Cancelada",urgent:"Urgente",normal:"Normal",legend:"Leyenda",noEvents:"No hay limpiezas programadas para este mes",addCleaning:"Nueva Limpieza",selectProperty:"Seleccionar propiedad",syncCheckouts:"Sincronizar Checkouts"}:{title:"Calendario de Limpezas",today:"Hoxe",month:"Mes",week:"Semana",day:"Da",agenda:"Axenda",pending:"Pendente",assigned:"Asignada",completed:"Completada",cancelled:"Cancelada",urgent:"Urxente",normal:"Normal",legend:"Lenda",noEvents:"Non hai limpezas programadas para este mes",addCleaning:"Nova Limpeza",selectProperty:"Seleccionar propiedade",syncCheckouts:"Sincronizar Checkouts"};E.useEffect(()=>{x()},[]),E.useEffect(()=>{y()},[i]);const x=async()=>{try{const{data:P,error:$}=await U.from("properties").select("id, name").order("name");if($)throw $;f(P||[])}catch(P){console.error("Error fetching properties:",P)}},g=async()=>{try{a(!0);const{data:P,error:$}=await U.from("reservations").select("*").eq("status","confirmed").gte("check_out",Z(new Date,"yyyy-MM-dd")).order("check_out");if($)throw $;let B=0;for(const W of P||[]){const q=W.check_out,{data:M}=await U.from("cleaning_tasks").select("id").eq("reservation_id",W.id).maybeSingle();if(!M){const{data:D}=await U.from("reservations").select("check_in").eq("property_id",W.property_id).eq("status","confirmed").gte("check_in",q).order("check_in").limit(1).maybeSingle(),z=D&&d5(new Date(q),new Date(D.check_in)),{error:G}=await U.from("cleaning_tasks").insert({reservation_id:W.id,property_id:W.property_id,cleaning_date:q,cleaning_time_start:"11:00",cleaning_time_end:"16:00",status:"pending",priority:z?"urgent":"normal"});G||B++}}alert(`Se crearon ${B} tareas de limpieza automticamente`),y()}catch(P){console.error("Error syncing checkouts:",P),alert("Error al sincronizar checkouts")}finally{a(!1)}},y=async()=>{try{a(!0);const P=Z(mi(i,2),"yyyy-MM-dd"),$=Z(hi(i,2),"yyyy-MM-dd"),{data:B,error:W}=await U.from("cleaning_tasks").select(`
          *,
          properties (
            name
          ),
          cleaners (
            name
          ),
          reservations (
            guest_name,
            check_out
          )
        `).gte("cleaning_date",P).lte("cleaning_date",$).order("cleaning_date");if(W)throw W;const q=await Promise.all((B||[]).map(async M=>{var kt,Wn,Tr,Ii,Zs;let D=null;const{data:z}=await U.from("reservations").select("check_in, guest_name").eq("property_id",M.property_id).eq("status","confirmed").gte("check_in",M.cleaning_date).order("check_in").limit(1).maybeSingle();z&&(D=z);const G=M.cleaning_time_start||"11:00",Y=M.cleaning_time_end||"16:00",[X,I]=G.split(":").map(Number),[ee,Se]=Y.split(":").map(Number),Ze=new Date(M.cleaning_date);Ze.setHours(X,I);const Le=new Date(M.cleaning_date);return Le.setHours(ee,Se),{id:M.id,title:`${((kt=M.properties)==null?void 0:kt.name)||"Propiedad"} ${M.status==="completed"?"":""}`,start:Ze,end:Le,resource:{id:M.id,property_id:M.property_id,property_name:((Wn=M.properties)==null?void 0:Wn.name)||"",guest_name:((Tr=M.reservations)==null?void 0:Tr.guest_name)||"",check_out:((Ii=M.reservations)==null?void 0:Ii.check_out)||"",status:M.status,priority:M.priority,cleaner_name:(Zs=M.cleaners)==null?void 0:Zs.name,reservation_id:M.reservation_id,cleaning_time_start:M.cleaning_time_start,cleaning_time_end:M.cleaning_time_end,notes:M.notes,next_reservation:D}}}));n(q)}catch(P){console.error("Error fetching cleaning tasks:",P)}finally{a(!1)}},b=P=>{let $="#FCD34D",B="#F59E0B";switch(P.resource.status){case"assigned":$="#60A5FA",B="#3B82F6";break;case"completed":$="#34D399",B="#10B981";break;case"cancelled":$="#9CA3AF",B="#6B7280";break}return P.resource.priority==="urgent"&&(B="#EF4444"),{style:{backgroundColor:$,borderColor:B,borderWidth:P.resource.priority==="urgent"?"3px":"1px",borderStyle:"solid",borderRadius:"6px",color:"#1F2937",fontWeight:"600",fontSize:"13px",padding:"4px 8px"}}},j=({start:P})=>{if(d.length===0){alert("No hay propiedades disponibles");return}p({property_id:d[0].id,cleaning_date:Z(P,"yyyy-MM-dd"),cleaning_time_start:"11:00",cleaning_time_end:"16:00",status:"pending",priority:"normal",property:{name:d[0].name}}),m(!0)},N=P=>{p({id:P.resource.id,property_id:P.resource.property_id,reservation_id:P.resource.reservation_id,cleaner_id:void 0,cleaning_date:Z(P.start,"yyyy-MM-dd"),cleaning_time_start:P.resource.cleaning_time_start,cleaning_time_end:P.resource.cleaning_time_end,status:P.resource.status,priority:P.resource.priority,notes:P.resource.notes,property:{name:P.resource.property_name},reservation:{guest_name:P.resource.guest_name,check_out:P.resource.check_out},next_reservation:P.resource.next_reservation}),m(!0)},S=()=>{m(!1),p(null)},_=()=>{y(),e&&e()},k=()=>{if(d.length===0){alert("No hay propiedades disponibles");return}p({property_id:d[0].id,cleaning_date:Z(i,"yyyy-MM-dd"),cleaning_time_start:"11:00",cleaning_time_end:"16:00",status:"pending",priority:"normal",property:{name:d[0].name}}),m(!0)},C=P=>{l(P)},O=()=>{const P=()=>{if(c==="month")l(mi(i,1));else if(c==="week"){const q=new Date(i);q.setDate(q.getDate()-7),l(q)}else{const q=new Date(i);q.setDate(q.getDate()-1),l(q)}},$=()=>{if(c==="month")l(hi(i,1));else if(c==="week"){const q=new Date(i);q.setDate(q.getDate()+7),l(q)}else{const q=new Date(i);q.setDate(q.getDate()+1),l(q)}},B=()=>{l(new Date)},W=()=>c==="month"?Z(i,"MMMM yyyy",{locale:Ke}):c==="week"?Z(i,"'Semana del' d 'de' MMMM yyyy",{locale:Ke}):Z(i,"d 'de' MMMM yyyy",{locale:Ke});return o.jsxs("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:P,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(C0,{size:24})}),o.jsx("h3",{className:"text-xl font-bold text-gray-900 min-w-[280px] text-center",children:W()}),o.jsx("button",{onClick:$,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx(T0,{size:24})})]}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:g,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors font-medium",disabled:s,children:[o.jsx(Q2,{size:20,className:s?"animate-spin":""}),w.syncCheckouts]}),o.jsxs("button",{onClick:k,className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors font-medium",children:[o.jsx(zl,{size:20}),w.addCleaning]}),o.jsx("button",{onClick:B,className:"px-4 py-2 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium",children:w.today})]})]})},A=({event:P})=>o.jsxs("div",{className:"flex items-center gap-2",children:[P.resource.priority==="urgent"&&o.jsx(Qa,{size:14,className:"flex-shrink-0 text-red-600"}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"font-semibold truncate",children:P.resource.property_name}),P.resource.cleaner_name&&o.jsxs("div",{className:"text-xs truncate opacity-90",children:[" ",P.resource.cleaner_name]}),o.jsxs("div",{className:"text-xs opacity-90",children:[Z(P.start,"HH:mm")," - ",Z(P.end,"HH:mm")]})]})]});return s&&r.length===0?o.jsx("div",{className:"text-center py-12",children:"Cargando calendario..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"mb-6",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-3",children:w.legend}),o.jsxs("div",{className:"flex items-center gap-6 flex-wrap text-sm",children:[o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#FCD34D",border:"2px solid #F59E0B"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:w.pending})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#60A5FA",border:"2px solid #3B82F6"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:w.assigned})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#34D399",border:"2px solid #10B981"}}),o.jsx("span",{className:"text-gray-700 font-medium",children:w.completed})]}),o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx("div",{className:"w-6 h-6 rounded",style:{backgroundColor:"#FCD34D",border:"3px solid #EF4444"}}),o.jsxs("span",{className:"text-gray-700 font-medium flex items-center gap-1",children:[o.jsx(Qa,{size:16,className:"text-red-600"}),w.urgent]})]})]})]}),o.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-200",style:{height:"700px"},children:o.jsx(ph,{localizer:uU,events:r,startAccessor:"start",endAccessor:"end",date:i,onNavigate:C,view:c,onView:u,culture:t,views:["month","week","day","agenda"],selectable:!0,onSelectSlot:j,onSelectEvent:N,eventPropGetter:b,components:{toolbar:O,event:A},messages:{today:w.today,month:w.month,week:w.week,day:w.day,agenda:w.agenda,next:"Siguiente",previous:"Anterior",noEventsInRange:w.noEvents}})}),v&&h&&o.jsx(lU,{task:h,onClose:S,onSave:_})]})},fU=()=>{const{language:e}=ie(),[t,r]=E.useState([]),[n,s]=E.useState(!0),[a,i]=E.useState(!1),[l,c]=E.useState(null),[u,d]=E.useState({name:"",phone:"",type:"individual",active:!0,notes:""}),f=e==="es"?{title:"Equipo de Limpieza",addCleaner:"Aadir Limpiador",name:"Nombre",phone:"Telfono",type:"Tipo",individual:"Individual",company:"Empresa",status:"Estado",active:"Activo",inactive:"Inactivo",notes:"Notas",actions:"Acciones",edit:"Editar",delete:"Eliminar",noCleaners:"No hay limpiadores registrados",modalTitle:"Nuevo Limpiador",modalTitleEdit:"Editar Limpiador",save:"Guardar",cancel:"Cancelar",phoneFormat:"Formato internacional: +34612345678",deleteConfirm:"Eliminar este limpiador?",required:"Campo requerido"}:{title:"Equipo de Limpeza",addCleaner:"Engadir Limpador",name:"Nome",phone:"Telfono",type:"Tipo",individual:"Individual",company:"Empresa",status:"Estado",active:"Activo",inactive:"Inactivo",notes:"Notas",actions:"Accins",edit:"Editar",delete:"Eliminar",noCleaners:"Non hai limpadores rexistrados",modalTitle:"Novo Limpador",modalTitleEdit:"Editar Limpador",save:"Gardar",cancel:"Cancelar",phoneFormat:"Formato internacional: +34612345678",deleteConfirm:"Eliminar este limpador?",required:"Campo requirido"};E.useEffect(()=>{h()},[]);const h=async()=>{try{const{data:g,error:y}=await U.from("cleaners").select("*").order("name");if(y)throw y;r(g||[])}catch(g){console.error("Error fetching cleaners:",g)}finally{s(!1)}},p=async g=>{g.preventDefault();try{if(l){const{error:y}=await U.from("cleaners").update(u).eq("id",l.id);if(y)throw y}else{const{error:y}=await U.from("cleaners").insert([u]);if(y)throw y}i(!1),c(null),w(),h()}catch(y){console.error("Error saving cleaner:",y)}},v=async g=>{if(confirm(f.deleteConfirm))try{const{error:y}=await U.from("cleaners").delete().eq("id",g);if(y)throw y;h()}catch(y){console.error("Error deleting cleaner:",y)}},m=g=>{c(g),d({name:g.name,phone:g.phone,type:g.type,active:g.active,notes:g.notes||""}),i(!0)},w=()=>{d({name:"",phone:"",type:"individual",active:!0,notes:""})},x=()=>{i(!1),c(null),w()};return n?o.jsx("div",{className:"text-center py-12",children:"Cargando..."}):o.jsxs("div",{children:[o.jsxs("div",{className:"flex items-center justify-between mb-6",children:[o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx(Si,{className:"text-atlantic-blue",size:28}),o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:f.title})]}),o.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium shadow-sm",children:[o.jsx(zl,{size:20}),f.addCleaner]})]}),t.length===0?o.jsx("div",{className:"text-center py-12 text-neutral-gray",children:f.noCleaners}):o.jsx("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden border border-gray-200",children:o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:f.name}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:f.phone}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:f.type}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:f.status}),o.jsx("th",{className:"px-6 py-4 text-left text-sm font-semibold text-gray-900",children:f.notes}),o.jsx("th",{className:"px-6 py-4 text-center text-sm font-semibold text-gray-900",children:f.actions})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:t.map(g=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2",children:[g.type==="individual"?o.jsx(gt,{size:18,className:"text-gray-500"}):o.jsx(np,{size:18,className:"text-gray-500"}),o.jsx("span",{className:"font-medium text-gray-900",children:g.name})]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center gap-2 text-gray-700",children:[o.jsx(Ni,{size:16,className:"text-gray-400"}),g.phone]})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:"text-sm text-gray-700",children:g.type==="individual"?f.individual:f.company})}),o.jsx("td",{className:"px-6 py-4",children:o.jsx("span",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${g.active?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:g.active?f.active:f.inactive})}),o.jsx("td",{className:"px-6 py-4 text-sm text-gray-600 max-w-xs truncate",children:g.notes||"-"}),o.jsx("td",{className:"px-6 py-4",children:o.jsxs("div",{className:"flex items-center justify-center gap-2",children:[o.jsx("button",{onClick:()=>m(g),className:"p-2 text-atlantic-blue hover:bg-atlantic-blue hover:text-white rounded-lg transition-colors",title:f.edit,children:o.jsx(Ef,{size:18})}),o.jsx("button",{onClick:()=>v(g.id),className:"p-2 text-red-600 hover:bg-red-600 hover:text-white rounded-lg transition-colors",title:f.delete,children:o.jsx(id,{size:18})})]})})]},g.id))})]})}),a&&o.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:o.jsxs("div",{className:"bg-white rounded-xl shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[o.jsx("div",{className:"p-6 border-b border-gray-200",children:o.jsx("h3",{className:"text-2xl font-bold text-gray-900",children:l?f.modalTitleEdit:f.modalTitle})}),o.jsxs("form",{onSubmit:p,className:"p-6 space-y-6",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.name," *"]}),o.jsx("input",{type:"text",required:!0,value:u.name,onChange:g=>d({...u,name:g.target.value}),className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.phone," *"]}),o.jsx("input",{type:"tel",required:!0,value:u.phone,onChange:g=>d({...u,phone:g.target.value}),placeholder:"+34612345678",className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"}),o.jsx("p",{className:"text-xs text-gray-500 mt-1",children:f.phoneFormat})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:[f.type," *"]}),o.jsxs("div",{className:"flex gap-4",children:[o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"individual",checked:u.type==="individual",onChange:g=>d({...u,type:g.target.value}),className:"text-atlantic-blue focus:ring-atlantic-blue"}),o.jsx(gt,{size:18,className:"text-gray-500"}),o.jsx("span",{children:f.individual})]}),o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"radio",value:"company",checked:u.type==="company",onChange:g=>d({...u,type:g.target.value}),className:"text-atlantic-blue focus:ring-atlantic-blue"}),o.jsx(np,{size:18,className:"text-gray-500"}),o.jsx("span",{children:f.company})]})]})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[o.jsx("input",{type:"checkbox",checked:u.active,onChange:g=>d({...u,active:g.target.checked}),className:"rounded text-atlantic-blue focus:ring-atlantic-blue"}),o.jsx("span",{className:"text-sm font-medium text-gray-700",children:f.active})]})}),o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:f.notes}),o.jsx("textarea",{value:u.notes,onChange:g=>d({...u,notes:g.target.value}),rows:3,className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-atlantic-blue focus:border-transparent"})]}),o.jsxs("div",{className:"flex gap-3 pt-4",children:[o.jsx("button",{type:"submit",className:"flex-1 px-6 py-3 bg-atlantic-blue text-white rounded-lg hover:bg-opacity-90 transition-colors font-medium",children:f.save}),o.jsx("button",{type:"button",onClick:x,className:"flex-1 px-6 py-3 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300 transition-colors font-medium",children:f.cancel})]})]})]})})]})},hU=()=>{const{language:e}=ie(),[t,r]=E.useState("calendar"),n=e==="es"?{title:"Gestin de Limpieza",calendar:"Calendario",team:"Equipo",export:"Exportar CSV"}:{title:"Xestin de Limpeza",calendar:"Calendario",team:"Equipo",export:"Exportar CSV"};return o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:n.title}),o.jsxs("div",{className:"flex gap-2",children:[o.jsxs("button",{onClick:()=>r("calendar"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t==="calendar"?"bg-atlantic-blue text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-atlantic-blue"}`,children:[o.jsx(Ee,{size:20}),n.calendar]}),o.jsxs("button",{onClick:()=>r("team"),className:`flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${t==="team"?"bg-atlantic-blue text-white":"bg-white border-2 border-gray-300 text-gray-700 hover:border-atlantic-blue"}`,children:[o.jsx(Si,{size:20}),n.team]})]})]}),t==="calendar"?o.jsx(dU,{}):o.jsx(fU,{})]})},mU=()=>{const{language:e}=ie(),[t,r]=E.useState(!0),[n,s]=E.useState(new Date),[a,i]=E.useState({totalIncome:0,galquilerCommission:0,ownerEarnings:0,reservationCount:0}),[l,c]=E.useState([]),u=e==="es"?{title:"Gestin de Ingresos",selectMonth:"Seleccionar Mes",totalIncome:"Ingresos Totales",galquilerCommission:"Comisin Galquiler",ownerEarnings:"Ganancias Propietarios",reservations:"Reservas",incomeByProperty:"Ingresos por Propiedad",property:"Propiedad",income:"Ingresos",commission:"Comisin",ownerAmount:"Propietario",commissionRate:"Tasa",noData:"No hay datos de ingresos para este perodo"}:{title:"Xestin de Ingresos",selectMonth:"Seleccionar Mes",totalIncome:"Ingresos Totais",galquilerCommission:"Comisin Galquiler",ownerEarnings:"Ganancias Propietarios",reservations:"Reservas",incomeByProperty:"Ingresos por Propiedade",property:"Propiedade",income:"Ingresos",commission:"Comisin",ownerAmount:"Propietario",commissionRate:"Taxa",noData:"Non hai datos de ingresos para este perodo"};E.useEffect(()=>{d()},[n]);const d=async()=>{var p,v;try{r(!0);const m=Z(b5(n),"yyyy-MM-dd"),w=Z(_w(n),"yyyy-MM-dd"),{data:x,error:g}=await U.from("reservations").select(`
          id,
          total_amount,
          property_id,
          properties (
            name,
            commission_percentage
          )
        `).gte("check_in",m).lte("check_in",w).eq("status","confirmed").not("total_amount","is",null);if(g)throw g;const y=new Map;let b=0,j=0,N=0;for(const S of x||[]){const _=parseFloat(S.total_amount||"0"),k=((p=S.properties)==null?void 0:p.commission_percentage)||10,C=_*k/100,O=_-C;b+=_,j+=C,N++;const A=S.property_id,P=((v=S.properties)==null?void 0:v.name)||"Propiedad sin nombre";if(y.has(A)){const $=y.get(A);$.total_amount+=_,$.galquiler_commission+=C,$.owner_earnings+=O,$.reservation_count++}else y.set(A,{property_id:A,property_name:P,total_amount:_,commission_percentage:k,galquiler_commission:C,owner_earnings:O,reservation_count:1})}i({totalIncome:b,galquilerCommission:j,ownerEarnings:b-j,reservationCount:N}),c(Array.from(y.values()).sort((S,_)=>_.total_amount-S.total_amount))}catch(m){console.error("Error fetching income data:",m)}finally{r(!1)}},f=p=>new Intl.NumberFormat("es-ES",{style:"currency",currency:"EUR"}).format(p),h=p=>{s(p==="prev"?mi(n,1):new Date(n.getFullYear(),n.getMonth()+1,1))};return t?o.jsx("div",{className:"flex items-center justify-center py-12",children:o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-atlantic-blue"})}):o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("h2",{className:"text-2xl font-bold text-atlantic-blue",children:u.title}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("button",{onClick:()=>h("prev"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""}),o.jsx("div",{className:"px-4 py-2 bg-gray-100 rounded-lg font-medium min-w-[200px] text-center",children:Z(n,"MMMM yyyy",{locale:void 0})}),o.jsx("button",{onClick:()=>h("next"),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:""})]})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-blue-600 rounded-xl p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Vt,{size:32}),o.jsx("span",{className:"text-sm opacity-90",children:u.totalIncome})]}),o.jsx("div",{className:"text-3xl font-bold",children:f(a.totalIncome)}),o.jsxs("div",{className:"text-sm opacity-90 mt-2",children:[a.reservationCount," ",u.reservations]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-green-600 rounded-xl p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Ja,{size:32}),o.jsx("span",{className:"text-sm opacity-90",children:u.galquilerCommission})]}),o.jsx("div",{className:"text-3xl font-bold",children:f(a.galquilerCommission)}),o.jsxs("div",{className:"text-sm opacity-90 mt-2",children:[a.totalIncome>0?(a.galquilerCommission/a.totalIncome*100).toFixed(1):0,"% promedio"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-purple-500 to-purple-600 rounded-xl p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Vt,{size:32}),o.jsx("span",{className:"text-sm opacity-90",children:u.ownerEarnings})]}),o.jsx("div",{className:"text-3xl font-bold",children:f(a.ownerEarnings)}),o.jsxs("div",{className:"text-sm opacity-90 mt-2",children:[a.totalIncome>0?(a.ownerEarnings/a.totalIncome*100).toFixed(1):0,"%"]})]}),o.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-orange-600 rounded-xl p-6 text-white shadow-lg",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx(Ee,{size:32}),o.jsx("span",{className:"text-sm opacity-90",children:u.reservations})]}),o.jsx("div",{className:"text-3xl font-bold",children:a.reservationCount}),o.jsxs("div",{className:"text-sm opacity-90 mt-2",children:[a.reservationCount>0?f(a.totalIncome/a.reservationCount):f(0)," promedio"]})]})]}),o.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200",children:[o.jsx("div",{className:"px-6 py-4 border-b border-gray-200",children:o.jsx("h3",{className:"text-lg font-bold text-gray-900",children:u.incomeByProperty})}),o.jsx("div",{className:"overflow-x-auto",children:l.length===0?o.jsx("div",{className:"text-center py-12 text-gray-500",children:u.noData}):o.jsxs("table",{className:"w-full",children:[o.jsx("thead",{className:"bg-gray-50 border-b border-gray-200",children:o.jsxs("tr",{children:[o.jsx("th",{className:"px-6 py-3 text-left text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.property}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.income}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.commissionRate}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.commission}),o.jsx("th",{className:"px-6 py-3 text-right text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.ownerAmount}),o.jsx("th",{className:"px-6 py-3 text-center text-xs font-semibold text-gray-700 uppercase tracking-wider",children:u.reservations})]})}),o.jsx("tbody",{className:"divide-y divide-gray-200",children:l.map(p=>o.jsxs("tr",{className:"hover:bg-gray-50 transition-colors",children:[o.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:o.jsxs("div",{className:"flex items-center gap-2",children:[o.jsx(R2,{size:18,className:"text-atlantic-blue"}),o.jsx("span",{className:"font-medium text-gray-900",children:p.property_name})]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold text-gray-900",children:f(p.total_amount)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center",children:o.jsxs("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:[p.commission_percentage,"%"]})}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold text-green-600",children:f(p.galquiler_commission)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-right font-semibold text-purple-600",children:f(p.owner_earnings)}),o.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-center text-gray-700",children:p.reservation_count})]},p.property_id))}),o.jsx("tfoot",{className:"bg-gray-50 border-t-2 border-gray-300",children:o.jsxs("tr",{className:"font-bold",children:[o.jsx("td",{className:"px-6 py-4 text-gray-900",children:"TOTAL"}),o.jsx("td",{className:"px-6 py-4 text-right text-gray-900",children:f(a.totalIncome)}),o.jsx("td",{className:"px-6 py-4"}),o.jsx("td",{className:"px-6 py-4 text-right text-green-600",children:f(a.galquilerCommission)}),o.jsx("td",{className:"px-6 py-4 text-right text-purple-600",children:f(a.ownerEarnings)}),o.jsx("td",{className:"px-6 py-4 text-center text-gray-900",children:a.reservationCount})]})})]})})]})]})},pU=()=>{const{user:e}=Kt(),{language:t}=ie(),[r,n]=E.useState(!1),[s,a]=E.useState(!0),[i,l]=E.useState("users"),u={es:{title:"Panel de Administracin",notAuthorized:"No tienes permisos de administrador",users:"Usuarios",properties:"Propiedades",reservations:"Reservas",cleaning:"Limpieza",income:"Ingresos",reviews:"Reseas",settings:"Configuracin"},gl:{title:"Panel de Administracin",notAuthorized:"Non tes permisos de administrador",users:"Usuarios",properties:"Propiedades",reservations:"Reservas",cleaning:"Limpeza",income:"Ingresos",reviews:"Reseas",settings:"Configuracin"}}[t];E.useEffect(()=>{d()},[e]);const d=async()=>{if(!e){n(!1),a(!1);return}try{const{data:h,error:p}=await U.from("profiles").select("role").eq("id",e.id).maybeSingle();if(p)throw p;n((h==null?void 0:h.role)==="admin")}catch(h){console.error("Error checking admin status:",h),n(!1)}finally{a(!1)}};if(s)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-ivory-white",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-atlantic-blue"})});if(!r)return o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-ivory-white",children:o.jsx("div",{className:"text-center",children:o.jsx("h2",{className:"text-2xl font-bold text-neutral-gray mb-4",children:u.notAuthorized})})});const f=[{id:"users",label:u.users,icon:Si},{id:"properties",label:u.properties,icon:pt},{id:"reservations",label:u.reservations,icon:Fs},{id:"cleaning",label:u.cleaning,icon:A0},{id:"income",label:u.income,icon:Vt},{id:"reviews",label:u.reviews,icon:Y2},{id:"settings",label:u.settings,icon:J2}];return o.jsx("div",{className:"min-h-screen bg-ivory-white pt-24 pb-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("h1",{className:"text-4xl font-bold text-atlantic-blue mb-8",children:u.title}),o.jsx("div",{className:"flex flex-wrap gap-2 mb-8 border-b border-gray-200",children:f.map(h=>{const p=h.icon;return o.jsxs("button",{onClick:()=>l(h.id),className:`flex items-center gap-2 px-6 py-3 font-medium transition-all ${i===h.id?"text-atlantic-blue border-b-2 border-atlantic-blue":"text-neutral-gray hover:text-atlantic-blue"}`,children:[o.jsx(p,{size:20}),h.label]},h.id)})}),o.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-6",children:[i==="users"&&o.jsx(Q8,{}),i==="properties"&&o.jsx(rU,{}),i==="reservations"&&o.jsx(oU,{}),i==="cleaning"&&o.jsx(hU,{}),i==="income"&&o.jsx(mU,{}),i==="reviews"&&o.jsx("div",{className:"text-neutral-gray",children:"Gestin de reseas prximamente..."}),i==="settings"&&o.jsx("div",{className:"text-neutral-gray",children:"Configuracin prximamente..."})]})]})})},gU=()=>{E.useEffect(()=>{e();const r=setInterval(()=>{e()},6e4*60);return()=>clearInterval(r)},[]);const e=async()=>{var r;try{const n=new Date;n.setHours(0,0,0,0);const s=n.toISOString(),{data:a,error:i}=await U.from("reservations").select("id, property_id, guest_name, check_out, properties(name)").eq("status","confirmed").lt("check_out",s);if(i)throw i;if(a&&a.length>0){const l=a.map(u=>u.id),{error:c}=await U.from("reservations").update({status:"completed"}).in("id",l);if(c)throw c;console.log(`Updated ${a.length} reservations to completed status`);for(const u of a)await t({reservation_id:u.id,property_name:((r=u.properties)==null?void 0:r.name)||"Propiedad",guest_name:u.guest_name||"Husped",check_out_date:u.check_out})}}catch(n){console.error("Error checking reservation status:",n)}},t=async r=>{try{const{data:n}=await U.from("profiles").select("id").eq("role","admin");if(!n||n.length===0)return;const s=n.map(i=>({user_id:i.id,title:"Reserva completada automticamente",message:`La reserva de ${r.guest_name} en ${r.property_name} ha sido marcada como completada. Fecha de salida: ${new Date(r.check_out_date).toLocaleDateString("es-ES")}`,type:"reservation_completed",related_id:r.reservation_id,read:!1})),{error:a}=await U.from("notifications").insert(s);if(a)throw a}catch(n){console.error("Error creating notification:",n)}};return null},vU=()=>{var m;const{user:e,signOut:t}=Kt(),{language:r,setLanguage:n}=ie(),[s,a]=E.useState(null),[i,l]=E.useState(!0),[c,u]=E.useState(!1),[d,f]=E.useState(!1),p={es:{welcome:"Bienvenido",dashboard:"Panel de Control",logout:"Cerrar Sesin",loading:"Cargando...",adminPanel:"Panel Admin",myDashboard:"Mi Panel"},gl:{welcome:"Benvido",dashboard:"Panel de Control",logout:"Pechar Sesin",loading:"Cargando...",adminPanel:"Panel Admin",myDashboard:"O meu Panel"}}[r];E.useEffect(()=>{v()},[e]);const v=async()=>{if(e)try{const{data:w,error:x}=await U.from("profiles").select("*").eq("id",e.id).maybeSingle();if(x)throw x;a(w)}catch(w){console.error("Error fetching profile:",w)}finally{l(!1)}};return i?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-600 mx-auto mb-4"}),o.jsx("p",{className:"text-gray-600",children:p.loading})]})}):o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx(gU,{}),o.jsx("header",{className:"fixed w-full z-50 bg-white border-b border-gray-200 shadow-sm",children:o.jsx("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsxs("div",{className:"flex justify-between items-center h-16",children:[o.jsx("div",{className:"flex items-center",children:o.jsx(Cf,{size:"medium"})}),o.jsxs("div",{className:"flex items-center gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("button",{onClick:()=>n("es"),className:`transition-all duration-200 hover:scale-105 ${r==="es"?"ring-2 ring-blue-600 rounded-sm":"opacity-60 hover:opacity-100"}`,title:"Espaol",children:o.jsx("img",{src:"https://flagcdn.com/w40/es.png",alt:"Espaol",className:"w-8 h-6 object-cover rounded-sm shadow-sm"})}),o.jsx("button",{onClick:()=>n("gl"),className:`transition-all duration-200 hover:scale-105 ${r==="gl"?"ring-2 ring-blue-600 rounded-sm":"opacity-60 hover:opacity-100"}`,title:"Galego",children:o.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/thumb/6/64/Flag_of_Galicia.svg/40px-Flag_of_Galicia.svg.png",alt:"Galego",className:"w-8 h-6 object-cover rounded-sm shadow-sm"})})]}),(s==null?void 0:s.role)==="admin"&&o.jsxs("button",{onClick:()=>u(!c),className:"flex items-center gap-2 px-4 py-2 bg-blue-50 text-blue-700 rounded-lg hover:bg-blue-100 transition-colors font-medium border border-blue-200",children:[o.jsx(nl,{size:18}),o.jsx("span",{className:"hidden sm:inline",children:c?p.myDashboard:p.adminPanel})]}),o.jsxs("div",{className:"relative",children:[o.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-2 px-3 py-2 hover:bg-gray-100 rounded-lg transition-colors",children:[o.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-blue-500 to-blue-600 rounded-full flex items-center justify-center",children:o.jsx(gt,{size:18,className:"text-white"})}),o.jsx(E0,{size:16,className:"text-gray-600"})]}),d&&o.jsxs("div",{className:"absolute right-0 mt-2 w-56 bg-white rounded-xl shadow-lg border border-gray-200 py-2",children:[o.jsxs("div",{className:"px-4 py-3 border-b border-gray-100",children:[o.jsx("p",{className:"text-sm font-semibold text-gray-900",children:(s==null?void 0:s.full_name)||"Usuario"}),o.jsx("p",{className:"text-xs text-gray-500 truncate",children:e==null?void 0:e.email})]}),o.jsxs("button",{onClick:()=>{f(!1),t()},className:"w-full flex items-center gap-3 px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors",children:[o.jsx(q2,{size:16}),p.logout]})]})]})]})]})})}),c&&(s==null?void 0:s.role)==="admin"?o.jsx(pU,{}):o.jsx("div",{className:"pt-20 pb-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsxs("div",{className:"mb-8",children:[o.jsxs("h1",{className:"text-3xl font-bold text-gray-900 mb-1",children:[p.welcome,", ",(s==null?void 0:s.full_name)||((m=e==null?void 0:e.email)==null?void 0:m.split("@")[0])]}),o.jsxs("div",{className:"flex items-center gap-3",children:[o.jsx("p",{className:"text-gray-600",children:p.dashboard}),(s==null?void 0:s.role)==="admin"&&o.jsxs("span",{className:"inline-flex items-center gap-1.5 px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs font-semibold border border-blue-200",children:[o.jsx(nl,{size:12}),"Admin"]})]})]}),o.jsx(q8,{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[o.jsx(K8,{}),o.jsx(X8,{})]}),o.jsx("div",{className:"mb-6",children:o.jsx(B8,{})}),o.jsx(V8,{}),o.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mt-6",children:[o.jsx(Y8,{}),o.jsx(G8,{})]})]})})]})};function yU(){const{user:e,loading:t}=Kt(),[r,n]=E.useState(!1);return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-ivory-white",children:o.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-atlantic-blue"})}):e?o.jsx(vU,{}):r?o.jsx("div",{className:"min-h-screen bg-ivory-white pt-24 pb-12",children:o.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[o.jsx("button",{onClick:()=>n(!1),className:"mb-8 text-atlantic-blue hover:text-atlantic-blue/80 font-medium",children:" Volver al inicio"}),o.jsx(cN,{onSuccess:()=>{}})]})}):o.jsxs("div",{className:"min-h-screen bg-ivory-white",children:[o.jsx(eN,{onLoginClick:()=>n(!0)}),o.jsx(tN,{}),o.jsx(rN,{}),o.jsx(nN,{}),o.jsx(sN,{}),o.jsx(aN,{}),o.jsx(iN,{}),o.jsx(oN,{}),o.jsx(lN,{})]})}function xU(){return o.jsx(f_,{children:o.jsx(P2,{children:o.jsx(yU,{})})})}t0(document.getElementById("root")).render(o.jsx(E.StrictMode,{children:o.jsx(xU,{})}));
